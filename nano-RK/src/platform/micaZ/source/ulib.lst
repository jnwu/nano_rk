   1               		.file	"ulib.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  12               		.text
  13               	.Ltext0:
 120               	.global	nrk_uart_rx_signal_get
 122               	nrk_uart_rx_signal_get:
 123               		.stabd	46,0,0
   0:../../../src/platform/micaZ/source/ulib.c **** /******************************************************************************
   1:../../../src/platform/micaZ/source/ulib.c **** *  Nano-RK, a real-time operating system for sensor networks.
   2:../../../src/platform/micaZ/source/ulib.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   3:../../../src/platform/micaZ/source/ulib.c **** *  All rights reserved.
   4:../../../src/platform/micaZ/source/ulib.c **** *
   5:../../../src/platform/micaZ/source/ulib.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   6:../../../src/platform/micaZ/source/ulib.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   7:../../../src/platform/micaZ/source/ulib.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   8:../../../src/platform/micaZ/source/ulib.c **** *
   9:../../../src/platform/micaZ/source/ulib.c **** *  This program is free software: you can redistribute it and/or modify
  10:../../../src/platform/micaZ/source/ulib.c **** *  it under the terms of the GNU General Public License as published by
  11:../../../src/platform/micaZ/source/ulib.c **** *  the Free Software Foundation, version 2.0 of the License.
  12:../../../src/platform/micaZ/source/ulib.c **** *
  13:../../../src/platform/micaZ/source/ulib.c **** *  This program is distributed in the hope that it will be useful,
  14:../../../src/platform/micaZ/source/ulib.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:../../../src/platform/micaZ/source/ulib.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:../../../src/platform/micaZ/source/ulib.c **** *  GNU General Public License for more details.
  17:../../../src/platform/micaZ/source/ulib.c **** *
  18:../../../src/platform/micaZ/source/ulib.c **** *  You should have received a copy of the GNU General Public License
  19:../../../src/platform/micaZ/source/ulib.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  20:../../../src/platform/micaZ/source/ulib.c **** *
  21:../../../src/platform/micaZ/source/ulib.c **** *  Contributing Authors (specific to this file):
  22:../../../src/platform/micaZ/source/ulib.c **** *  Anthony Rowe
  23:../../../src/platform/micaZ/source/ulib.c **** *  Nuno Pereira
  24:../../../src/platform/micaZ/source/ulib.c **** *  Chipcon Development Team
  25:../../../src/platform/micaZ/source/ulib.c **** *  Peter Diener
  26:../../../src/platform/micaZ/source/ulib.c **** *******************************************************************************/
  27:../../../src/platform/micaZ/source/ulib.c **** 
  28:../../../src/platform/micaZ/source/ulib.c **** 
  29:../../../src/platform/micaZ/source/ulib.c **** #include <include.h>
  30:../../../src/platform/micaZ/source/ulib.c **** #include <ulib.h>
  31:../../../src/platform/micaZ/source/ulib.c **** #include <stdio.h>
  32:../../../src/platform/micaZ/source/ulib.c **** #include <hal.h>
  33:../../../src/platform/micaZ/source/ulib.c **** #include <hal_micaZ.h>
  34:../../../src/platform/micaZ/source/ulib.c **** #include <avr/interrupt.h>
  35:../../../src/platform/micaZ/source/ulib.c **** #include <nrk_pin_define.h>
  36:../../../src/platform/micaZ/source/ulib.c **** #include <nrk_error.h>
  37:../../../src/platform/micaZ/source/ulib.c **** #include <nrk_events.h>
  38:../../../src/platform/micaZ/source/ulib.c **** 
  39:../../../src/platform/micaZ/source/ulib.c **** #ifdef NANORK
  40:../../../src/platform/micaZ/source/ulib.c **** #include <nrk_cfg.h>
  41:../../../src/platform/micaZ/source/ulib.c **** #endif
  42:../../../src/platform/micaZ/source/ulib.c **** 
  43:../../../src/platform/micaZ/source/ulib.c **** #ifdef NRK_UART_BUF
  44:../../../src/platform/micaZ/source/ulib.c **** #include <nrk_events.h>
  45:../../../src/platform/micaZ/source/ulib.c **** 
  46:../../../src/platform/micaZ/source/ulib.c **** #ifndef MAX_RX_UART_BUF
  47:../../../src/platform/micaZ/source/ulib.c **** #define MAX_RX_UART_BUF    16
  48:../../../src/platform/micaZ/source/ulib.c **** #endif
  49:../../../src/platform/micaZ/source/ulib.c **** 
  50:../../../src/platform/micaZ/source/ulib.c **** 
  51:../../../src/platform/micaZ/source/ulib.c **** uint8_t uart_rx_buf_start,uart_rx_buf_end;
  52:../../../src/platform/micaZ/source/ulib.c **** char uart_rx_buf[MAX_RX_UART_BUF];
  53:../../../src/platform/micaZ/source/ulib.c **** nrk_sig_t uart_rx_signal;
  54:../../../src/platform/micaZ/source/ulib.c **** 
  55:../../../src/platform/micaZ/source/ulib.c **** SIGNAL(USART0_RX_vect)
  56:../../../src/platform/micaZ/source/ulib.c **** {
  57:../../../src/platform/micaZ/source/ulib.c ****     char c;
  58:../../../src/platform/micaZ/source/ulib.c ****     //uint8_t sig;
  59:../../../src/platform/micaZ/source/ulib.c ****     DISABLE_UART0_RX_INT();
  60:../../../src/platform/micaZ/source/ulib.c ****     UART0_WAIT_AND_RECEIVE(c);
  61:../../../src/platform/micaZ/source/ulib.c ****     uart_rx_buf[uart_rx_buf_end]=c;
  62:../../../src/platform/micaZ/source/ulib.c ****     //if(uart_rx_buf_end==uart_rx_buf_start) sig=1; else sig=0;
  63:../../../src/platform/micaZ/source/ulib.c ****     uart_rx_buf_end++;
  64:../../../src/platform/micaZ/source/ulib.c ****     if(uart_rx_buf_end==MAX_RX_UART_BUF) uart_rx_buf_end=0;
  65:../../../src/platform/micaZ/source/ulib.c ****     nrk_event_signal(uart_rx_signal);
  66:../../../src/platform/micaZ/source/ulib.c ****     CLEAR_UART0_RX_INT();
  67:../../../src/platform/micaZ/source/ulib.c ****     ENABLE_UART0_RX_INT();
  68:../../../src/platform/micaZ/source/ulib.c **** }
  69:../../../src/platform/micaZ/source/ulib.c **** 
  70:../../../src/platform/micaZ/source/ulib.c **** char getc0()
  71:../../../src/platform/micaZ/source/ulib.c **** {
  72:../../../src/platform/micaZ/source/ulib.c ****     char tmp;
  73:../../../src/platform/micaZ/source/ulib.c **** 
  74:../../../src/platform/micaZ/source/ulib.c ****     if(uart_rx_buf_start!=uart_rx_buf_end)
  75:../../../src/platform/micaZ/source/ulib.c ****     {
  76:../../../src/platform/micaZ/source/ulib.c ****         tmp=uart_rx_buf[uart_rx_buf_start];
  77:../../../src/platform/micaZ/source/ulib.c ****         uart_rx_buf_start++;
  78:../../../src/platform/micaZ/source/ulib.c ****         if(uart_rx_buf_start==MAX_RX_UART_BUF) uart_rx_buf_start=0;
  79:../../../src/platform/micaZ/source/ulib.c ****         return(tmp);
  80:../../../src/platform/micaZ/source/ulib.c ****     }
  81:../../../src/platform/micaZ/source/ulib.c **** // if buffer empty, then we have to block for it
  82:../../../src/platform/micaZ/source/ulib.c ****     UART0_WAIT_AND_RECEIVE(tmp);
  83:../../../src/platform/micaZ/source/ulib.c ****     return tmp;
  84:../../../src/platform/micaZ/source/ulib.c **** }
  85:../../../src/platform/micaZ/source/ulib.c **** 
  86:../../../src/platform/micaZ/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
  87:../../../src/platform/micaZ/source/ulib.c **** {
  88:../../../src/platform/micaZ/source/ulib.c ****     if(uart_num==0)
  89:../../../src/platform/micaZ/source/ulib.c ****     {
  90:../../../src/platform/micaZ/source/ulib.c ****         if(uart_rx_buf_start!=uart_rx_buf_end) return 1;
  91:../../../src/platform/micaZ/source/ulib.c ****     }
  92:../../../src/platform/micaZ/source/ulib.c ****     if(uart_num==1)
  93:../../../src/platform/micaZ/source/ulib.c ****     {
  94:../../../src/platform/micaZ/source/ulib.c ****         if( UCSR1A & BM(RXC1) ) return 1;
  95:../../../src/platform/micaZ/source/ulib.c ****     }
  96:../../../src/platform/micaZ/source/ulib.c ****     return 0;
  97:../../../src/platform/micaZ/source/ulib.c **** }
  98:../../../src/platform/micaZ/source/ulib.c **** 
  99:../../../src/platform/micaZ/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 100:../../../src/platform/micaZ/source/ulib.c **** {
 101:../../../src/platform/micaZ/source/ulib.c ****     if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 102:../../../src/platform/micaZ/source/ulib.c ****     return uart_rx_signal;
 103:../../../src/platform/micaZ/source/ulib.c **** }
 104:../../../src/platform/micaZ/source/ulib.c **** 
 105:../../../src/platform/micaZ/source/ulib.c **** #else
 106:../../../src/platform/micaZ/source/ulib.c **** 
 107:../../../src/platform/micaZ/source/ulib.c **** nrk_sig_t nrk_uart_rx_signal_get()
 108:../../../src/platform/micaZ/source/ulib.c **** {
 125               	.LM0:
 126               	.LFBB1:
 127               	/* prologue: function */
 128               	/* frame size = 0 */
 109:../../../src/platform/micaZ/source/ulib.c ****     return NRK_ERROR;
 110:../../../src/platform/micaZ/source/ulib.c **** }
 130               	.LM1:
 131 0000 8FEF      		ldi r24,lo8(-1)
 132               	/* epilogue start */
 133 0002 0895      		ret
 135               	.Lscope1:
 137               		.stabd	78,0,0
 140               	.global	nrk_uart_data_ready
 142               	nrk_uart_data_ready:
 143               		.stabd	46,0,0
 111:../../../src/platform/micaZ/source/ulib.c **** 
 112:../../../src/platform/micaZ/source/ulib.c **** 
 113:../../../src/platform/micaZ/source/ulib.c **** uint8_t nrk_uart_data_ready(uint8_t uart_num)
 114:../../../src/platform/micaZ/source/ulib.c **** {
 145               	.LM2:
 146               	.LFBB2:
 147               	/* prologue: function */
 148               	/* frame size = 0 */
 115:../../../src/platform/micaZ/source/ulib.c ****     if(uart_num==0)
 150               	.LM3:
 151 0004 8823      		tst r24
 152 0006 01F4      		brne .L4
 116:../../../src/platform/micaZ/source/ulib.c ****     {
 117:../../../src/platform/micaZ/source/ulib.c ****         if( UCSR0A & BM(RXC0) ) return 1;
 154               	.LM4:
 155 0008 8BB1      		in r24,43-32
 156 000a 881F      		rol r24
 157 000c 8827      		clr r24
 158 000e 881F      		rol r24
 159 0010 0895      		ret
 160               	.L4:
 118:../../../src/platform/micaZ/source/ulib.c ****     }
 119:../../../src/platform/micaZ/source/ulib.c ****     if(uart_num==1)
 162               	.LM5:
 163 0012 8130      		cpi r24,lo8(1)
 164 0014 01F0      		breq .L7
 165 0016 80E0      		ldi r24,lo8(0)
 166 0018 0895      		ret
 167               	.L7:
 120:../../../src/platform/micaZ/source/ulib.c ****     {
 121:../../../src/platform/micaZ/source/ulib.c ****         if( UCSR1A & BM(RXC1) ) return 1;
 169               	.LM6:
 170 001a 8091 9B00 		lds r24,155
 171 001e 881F      		rol r24
 172 0020 8827      		clr r24
 173 0022 881F      		rol r24
 122:../../../src/platform/micaZ/source/ulib.c ****     }
 123:../../../src/platform/micaZ/source/ulib.c ****     return 0;
 124:../../../src/platform/micaZ/source/ulib.c **** }
 175               	.LM7:
 176 0024 0895      		ret
 178               	.Lscope2:
 180               		.stabd	78,0,0
 182               	.global	getc0
 184               	getc0:
 185               		.stabd	46,0,0
 125:../../../src/platform/micaZ/source/ulib.c **** 
 126:../../../src/platform/micaZ/source/ulib.c **** char getc0(void)
 127:../../../src/platform/micaZ/source/ulib.c **** {
 187               	.LM8:
 188               	.LFBB3:
 189               	/* prologue: function */
 190               	/* frame size = 0 */
 191               	.L11:
 128:../../../src/platform/micaZ/source/ulib.c ****     unsigned char tmp;
 129:../../../src/platform/micaZ/source/ulib.c ****     UART0_WAIT_AND_RECEIVE(tmp);
 193               	.LM9:
 194 0026 5F9B      		sbis 43-32,7
 195 0028 00C0      		rjmp .L11
 196 002a 5F98      		cbi 43-32,7
 197 002c 8CB1      		in r24,44-32
 198               	/* epilogue start */
 130:../../../src/platform/micaZ/source/ulib.c ****     return tmp;
 131:../../../src/platform/micaZ/source/ulib.c **** }
 200               	.LM10:
 201 002e 0895      		ret
 206               	.Lscope3:
 208               		.stabd	78,0,0
 211               	.global	nrk_gpio_set
 213               	nrk_gpio_set:
 214               		.stabd	46,0,0
 132:../../../src/platform/micaZ/source/ulib.c **** 
 133:../../../src/platform/micaZ/source/ulib.c **** #endif
 134:../../../src/platform/micaZ/source/ulib.c **** 
 135:../../../src/platform/micaZ/source/ulib.c **** void nrk_kprintf( const char *addr)
 136:../../../src/platform/micaZ/source/ulib.c **** {
 137:../../../src/platform/micaZ/source/ulib.c ****     char c;
 138:../../../src/platform/micaZ/source/ulib.c ****     while((c=pgm_read_byte(addr++)))
 139:../../../src/platform/micaZ/source/ulib.c ****         putchar(c);
 140:../../../src/platform/micaZ/source/ulib.c **** }
 141:../../../src/platform/micaZ/source/ulib.c **** 
 142:../../../src/platform/micaZ/source/ulib.c **** 
 143:../../../src/platform/micaZ/source/ulib.c **** void nrk_setup_ports()
 144:../../../src/platform/micaZ/source/ulib.c **** {
 145:../../../src/platform/micaZ/source/ulib.c ****     PORT_INIT();
 146:../../../src/platform/micaZ/source/ulib.c ****     SPI_INIT();
 147:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: switch off all LEDs
 148:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(0);
 149:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(1);
 150:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(2);
 151:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(3);
 152:../../../src/platform/micaZ/source/ulib.c **** }
 153:../../../src/platform/micaZ/source/ulib.c **** 
 154:../../../src/platform/micaZ/source/ulib.c **** 
 155:../../../src/platform/micaZ/source/ulib.c **** 
 156:../../../src/platform/micaZ/source/ulib.c **** 
 157:../../../src/platform/micaZ/source/ulib.c **** //---------------------------------------------------------------------------------------------
 158:../../../src/platform/micaZ/source/ulib.c **** // GPIO related definitions
 159:../../../src/platform/micaZ/source/ulib.c **** 
 160:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 161:../../../src/platform/micaZ/source/ulib.c **** // Define nrk pins mappings to hardware pins and ports
 162:../../../src/platform/micaZ/source/ulib.c **** 
 163:../../../src/platform/micaZ/source/ulib.c **** 
 164:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 165:../../../src/platform/micaZ/source/ulib.c **** // Port A
 166:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( LED_0, LED_0, NRK_PORTA )
 167:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( LED_1, LED_1, NRK_PORTA )
 168:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( LED_2, LED_2, NRK_PORTA )
 169:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( VREG_EN, VREG_EN, NRK_PORTA )
 170:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( RESET_N, RESET_N, NRK_PORTA )
 171:../../../src/platform/micaZ/source/ulib.c **** 
 172:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 173:../../../src/platform/micaZ/source/ulib.c **** // Port B
 174:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( CSN, CSN, NRK_PORTB )
 175:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( SCK, SCK, NRK_PORTB )
 176:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( MOSI, MOSI, NRK_PORTB )
 177:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( MISO, MISO, NRK_PORTB )
 178:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( FIFO, FIFO, NRK_PORTB )
 179:../../../src/platform/micaZ/source/ulib.c **** 
 180:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 181:../../../src/platform/micaZ/source/ulib.c **** // Port D
 182:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART1_RXD, UART1_RXD, NRK_PORTD )
 183:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART1_TXD, UART1_TXD, NRK_PORTD )
 184:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( SFD, SFD, NRK_PORTD )
 185:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART1_RTS, UART1_RTS, NRK_PORTD )
 186:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( CCA, CCA, NRK_PORTD )
 187:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART1_CTS, UART1_CTS, NRK_PORTD )
 188:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 189:../../../src/platform/micaZ/source/ulib.c **** // Port E
 190:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART0_RXD, UART0_RXD, NRK_PORTE )
 191:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( UART0_TXD, UART0_TXD, NRK_PORTE )
 192:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( FIFOP, FIFOP, NRK_PORTE )
 193:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 194:../../../src/platform/micaZ/source/ulib.c **** // Port F
 195:../../../src/platform/micaZ/source/ulib.c **** // ADC inputs
 196:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_0, ADC_INPUT_0, NRK_PORTF )
 197:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_1, ADC_INPUT_1, NRK_PORTF )
 198:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_2, ADC_INPUT_2, NRK_PORTF )
 199:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_3, ADC_INPUT_3, NRK_PORTF )
 200:../../../src/platform/micaZ/source/ulib.c **** 
 201:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_6, 6, NRK_PORTF )
 202:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( ADC_INPUT_7, 7, NRK_PORTF )
 203:../../../src/platform/micaZ/source/ulib.c **** 
 204:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( DEBUG_0, DEBUG_0, NRK_PORTC )
 205:../../../src/platform/micaZ/source/ulib.c **** NRK_PIN( DEBUG_1, DEBUG_1, NRK_PORTC )
 206:../../../src/platform/micaZ/source/ulib.c **** 
 207:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( DEBUG_2 )
 208:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( DEBUG_3 )
 209:../../../src/platform/micaZ/source/ulib.c **** 
 210:../../../src/platform/micaZ/source/ulib.c **** // pins that do not exist in this platform
 211:../../../src/platform/micaZ/source/ulib.c **** //NRK_INVALID_PIN( DEBUG_0 )
 212:../../../src/platform/micaZ/source/ulib.c **** //NRK_INVALID_PIN( DEBUG_1 )
 213:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( LED_3 )
 214:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( BLED )
 215:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( SPI_SS )
 216:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( GPIO26 )
 217:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( GPIO28 )
 218:../../../src/platform/micaZ/source/ulib.c **** NRK_INVALID_PIN( GPIO34 )
 219:../../../src/platform/micaZ/source/ulib.c **** 
 220:../../../src/platform/micaZ/source/ulib.c **** //-------------------------------
 221:../../../src/platform/micaZ/source/ulib.c **** // GPIO handling functions
 222:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_set(uint8_t pin)
 223:../../../src/platform/micaZ/source/ulib.c **** {
 216               	.LM11:
 217               	.LFBB4:
 218               	/* prologue: function */
 219               	/* frame size = 0 */
 220 0030 382F      		mov r19,r24
 224:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Readability optimization
 225:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 226:../../../src/platform/micaZ/source/ulib.c **** 
 227:../../../src/platform/micaZ/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 222               	.LM12:
 223 0032 8F3F      		cpi r24,lo8(-1)
 224 0034 01F4      		brne .+2
 225 0036 00C0      		rjmp .L15
 226:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 227               	.LM13:
 228 0038 282F      		mov r18,r24
 229 003a 2695      		lsr r18
 230 003c 2695      		lsr r18
 231 003e 2695      		lsr r18
 232 0040 81E0      		ldi r24,lo8(1)
 233 0042 90E0      		ldi r25,hi8(1)
 234 0044 00C0      		rjmp 2f
 235 0046 880F      	1:	lsl r24
 236 0048 991F      		rol r25
 237 004a 2A95      	2:	dec r18
 238 004c 02F4      		brpl 1b
 239 004e 982F      		mov r25,r24
 228:../../../src/platform/micaZ/source/ulib.c ****     switch (pin & 0x07)
 241               	.LM14:
 242 0050 232F      		mov r18,r19
 243 0052 30E0      		ldi r19,lo8(0)
 244 0054 2770      		andi r18,lo8(7)
 245 0056 3070      		andi r19,hi8(7)
 246 0058 2230      		cpi r18,2
 247 005a 3105      		cpc r19,__zero_reg__
 248 005c 01F0      		breq .L18
 249 005e 2330      		cpi r18,3
 250 0060 3105      		cpc r19,__zero_reg__
 251 0062 04F4      		brge .L22
 252 0064 2115      		cp r18,__zero_reg__
 253 0066 3105      		cpc r19,__zero_reg__
 254 0068 01F0      		breq .L16
 255 006a 2130      		cpi r18,1
 256 006c 3105      		cpc r19,__zero_reg__
 257 006e 01F4      		brne .L15
 258 0070 00C0      		rjmp .L26
 259               	.L22:
 260 0072 2430      		cpi r18,4
 261 0074 3105      		cpc r19,__zero_reg__
 262 0076 01F0      		breq .L20
 263 0078 2430      		cpi r18,4
 264 007a 3105      		cpc r19,__zero_reg__
 265 007c 04F0      		brlt .L19
 266 007e 2530      		cpi r18,5
 267 0080 3105      		cpc r19,__zero_reg__
 268 0082 01F4      		brne .L15
 269 0084 00C0      		rjmp .L27
 270               	.L16:
 229:../../../src/platform/micaZ/source/ulib.c ****     {
 230:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA: PORTA |= bitvalue;
 272               	.LM15:
 273 0086 8BB3      		in r24,59-32
 274 0088 982B      		or r25,r24
 275 008a 9BBB      		out 59-32,r25
 276 008c 00C0      		rjmp .L25
 277               	.L26:
 231:../../../src/platform/micaZ/source/ulib.c ****             break;
 232:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB: PORTB |= bitvalue;
 279               	.LM16:
 280 008e 88B3      		in r24,56-32
 281 0090 982B      		or r25,r24
 282 0092 98BB      		out 56-32,r25
 283 0094 00C0      		rjmp .L25
 284               	.L18:
 233:../../../src/platform/micaZ/source/ulib.c ****             break;
 234:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC: PORTC |= bitvalue;
 286               	.LM17:
 287 0096 85B3      		in r24,53-32
 288 0098 982B      		or r25,r24
 289 009a 95BB      		out 53-32,r25
 290 009c 00C0      		rjmp .L25
 291               	.L19:
 235:../../../src/platform/micaZ/source/ulib.c ****             break;
 236:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD: PORTD |= bitvalue;
 293               	.LM18:
 294 009e 82B3      		in r24,50-32
 295 00a0 982B      		or r25,r24
 296 00a2 92BB      		out 50-32,r25
 297 00a4 00C0      		rjmp .L25
 298               	.L20:
 237:../../../src/platform/micaZ/source/ulib.c ****             break;
 238:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE: PORTE |= bitvalue;
 300               	.LM19:
 301 00a6 83B1      		in r24,35-32
 302 00a8 982B      		or r25,r24
 303 00aa 93B9      		out 35-32,r25
 304 00ac 00C0      		rjmp .L25
 305               	.L27:
 239:../../../src/platform/micaZ/source/ulib.c ****             break;
 240:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF: PORTF |= bitvalue;
 307               	.LM20:
 308 00ae 8091 6200 		lds r24,98
 309 00b2 982B      		or r25,r24
 310 00b4 9093 6200 		sts 98,r25
 311               	.L25:
 312 00b8 81E0      		ldi r24,lo8(1)
 313 00ba 0895      		ret
 314               	.L15:
 241:../../../src/platform/micaZ/source/ulib.c ****             break;
 316               	.LM21:
 317 00bc 8FEF      		ldi r24,lo8(-1)
 242:../../../src/platform/micaZ/source/ulib.c ****         default:
 243:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 244:../../../src/platform/micaZ/source/ulib.c ****     }
 245:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 246:../../../src/platform/micaZ/source/ulib.c **** }
 319               	.LM22:
 320 00be 0895      		ret
 325               	.Lscope4:
 327               		.stabd	78,0,0
 330               	.global	nrk_gpio_clr
 332               	nrk_gpio_clr:
 333               		.stabd	46,0,0
 247:../../../src/platform/micaZ/source/ulib.c **** 
 248:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_clr(uint8_t pin)
 249:../../../src/platform/micaZ/source/ulib.c **** {
 335               	.LM23:
 336               	.LFBB5:
 337               	/* prologue: function */
 338               	/* frame size = 0 */
 339 00c0 382F      		mov r19,r24
 250:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Readability optimization
 251:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = ~BM((pin & 0xF8) >> 3);
 252:../../../src/platform/micaZ/source/ulib.c **** 
 253:../../../src/platform/micaZ/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 341               	.LM24:
 342 00c2 8F3F      		cpi r24,lo8(-1)
 343 00c4 01F4      		brne .+2
 344 00c6 00C0      		rjmp .L29
 252:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = ~BM((pin & 0xF8) >> 3);
 346               	.LM25:
 347 00c8 282F      		mov r18,r24
 348 00ca 2695      		lsr r18
 349 00cc 2695      		lsr r18
 350 00ce 2695      		lsr r18
 351 00d0 81E0      		ldi r24,lo8(1)
 352 00d2 90E0      		ldi r25,hi8(1)
 353 00d4 00C0      		rjmp 2f
 354 00d6 880F      	1:	lsl r24
 355 00d8 991F      		rol r25
 356 00da 2A95      	2:	dec r18
 357 00dc 02F4      		brpl 1b
 358 00de 982F      		mov r25,r24
 359 00e0 9095      		com r25
 254:../../../src/platform/micaZ/source/ulib.c ****     switch (pin & 0x07)
 361               	.LM26:
 362 00e2 232F      		mov r18,r19
 363 00e4 30E0      		ldi r19,lo8(0)
 364 00e6 2770      		andi r18,lo8(7)
 365 00e8 3070      		andi r19,hi8(7)
 366 00ea 2230      		cpi r18,2
 367 00ec 3105      		cpc r19,__zero_reg__
 368 00ee 01F0      		breq .L32
 369 00f0 2330      		cpi r18,3
 370 00f2 3105      		cpc r19,__zero_reg__
 371 00f4 04F4      		brge .L36
 372 00f6 2115      		cp r18,__zero_reg__
 373 00f8 3105      		cpc r19,__zero_reg__
 374 00fa 01F0      		breq .L30
 375 00fc 2130      		cpi r18,1
 376 00fe 3105      		cpc r19,__zero_reg__
 377 0100 01F4      		brne .L29
 378 0102 00C0      		rjmp .L40
 379               	.L36:
 380 0104 2430      		cpi r18,4
 381 0106 3105      		cpc r19,__zero_reg__
 382 0108 01F0      		breq .L34
 383 010a 2430      		cpi r18,4
 384 010c 3105      		cpc r19,__zero_reg__
 385 010e 04F0      		brlt .L33
 386 0110 2530      		cpi r18,5
 387 0112 3105      		cpc r19,__zero_reg__
 388 0114 01F4      		brne .L29
 389 0116 00C0      		rjmp .L41
 390               	.L30:
 255:../../../src/platform/micaZ/source/ulib.c ****     {
 256:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA: PORTA &= bitvalue;
 392               	.LM27:
 393 0118 8BB3      		in r24,59-32
 394 011a 9823      		and r25,r24
 395 011c 9BBB      		out 59-32,r25
 396 011e 00C0      		rjmp .L39
 397               	.L40:
 257:../../../src/platform/micaZ/source/ulib.c ****             break;
 258:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB: PORTB &= bitvalue;
 399               	.LM28:
 400 0120 88B3      		in r24,56-32
 401 0122 9823      		and r25,r24
 402 0124 98BB      		out 56-32,r25
 403 0126 00C0      		rjmp .L39
 404               	.L32:
 259:../../../src/platform/micaZ/source/ulib.c ****             break;
 260:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC: PORTC &= bitvalue;
 406               	.LM29:
 407 0128 85B3      		in r24,53-32
 408 012a 9823      		and r25,r24
 409 012c 95BB      		out 53-32,r25
 410 012e 00C0      		rjmp .L39
 411               	.L33:
 261:../../../src/platform/micaZ/source/ulib.c ****             break;
 262:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD: PORTD &= bitvalue;
 413               	.LM30:
 414 0130 82B3      		in r24,50-32
 415 0132 9823      		and r25,r24
 416 0134 92BB      		out 50-32,r25
 417 0136 00C0      		rjmp .L39
 418               	.L34:
 263:../../../src/platform/micaZ/source/ulib.c ****             break;
 264:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE: PORTE &= bitvalue;
 420               	.LM31:
 421 0138 83B1      		in r24,35-32
 422 013a 9823      		and r25,r24
 423 013c 93B9      		out 35-32,r25
 424 013e 00C0      		rjmp .L39
 425               	.L41:
 265:../../../src/platform/micaZ/source/ulib.c ****             break;
 266:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF: PORTF &= bitvalue;
 427               	.LM32:
 428 0140 8091 6200 		lds r24,98
 429 0144 9823      		and r25,r24
 430 0146 9093 6200 		sts 98,r25
 431               	.L39:
 432 014a 81E0      		ldi r24,lo8(1)
 433 014c 0895      		ret
 434               	.L29:
 267:../../../src/platform/micaZ/source/ulib.c ****             break;
 436               	.LM33:
 437 014e 8FEF      		ldi r24,lo8(-1)
 268:../../../src/platform/micaZ/source/ulib.c ****         default:
 269:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 270:../../../src/platform/micaZ/source/ulib.c ****     }
 271:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 272:../../../src/platform/micaZ/source/ulib.c **** }
 439               	.LM34:
 440 0150 0895      		ret
 445               	.Lscope5:
 447               		.stabd	78,0,0
 450               	.global	nrk_gpio_get
 452               	nrk_gpio_get:
 453               		.stabd	46,0,0
 273:../../../src/platform/micaZ/source/ulib.c **** 
 274:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_get(uint8_t pin)
 275:../../../src/platform/micaZ/source/ulib.c **** {
 455               	.LM35:
 456               	.LFBB6:
 457               	/* prologue: function */
 458               	/* frame size = 0 */
 459 0152 282F      		mov r18,r24
 276:../../../src/platform/micaZ/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 461               	.LM36:
 462 0154 8F3F      		cpi r24,lo8(-1)
 463 0156 01F0      		breq .L43
 277:../../../src/platform/micaZ/source/ulib.c ****     switch (pin & 0x07)
 465               	.LM37:
 466 0158 90E0      		ldi r25,lo8(0)
 467 015a 8770      		andi r24,lo8(7)
 468 015c 9070      		andi r25,hi8(7)
 469 015e 8230      		cpi r24,2
 470 0160 9105      		cpc r25,__zero_reg__
 471 0162 01F0      		breq .L46
 472 0164 8330      		cpi r24,3
 473 0166 9105      		cpc r25,__zero_reg__
 474 0168 04F4      		brge .L50
 475 016a 0097      		sbiw r24,0
 476 016c 01F0      		breq .L44
 477 016e 0197      		sbiw r24,1
 478 0170 01F4      		brne .L43
 479 0172 00C0      		rjmp .L54
 480               	.L50:
 481 0174 8430      		cpi r24,4
 482 0176 9105      		cpc r25,__zero_reg__
 483 0178 01F0      		breq .L48
 484 017a 8430      		cpi r24,4
 485 017c 9105      		cpc r25,__zero_reg__
 486 017e 04F0      		brlt .L47
 487 0180 0597      		sbiw r24,5
 488 0182 01F4      		brne .L43
 489 0184 00C0      		rjmp .L55
 490               	.L44:
 278:../../../src/platform/micaZ/source/ulib.c ****     {
 279:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA:
 280:../../../src/platform/micaZ/source/ulib.c ****             return !!(PINA & BM((pin & 0xF8) >> 3));
 492               	.LM38:
 493 0186 89B3      		in r24,57-32
 494 0188 00C0      		rjmp .L53
 495               	.L54:
 281:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB:
 282:../../../src/platform/micaZ/source/ulib.c ****             return !!(PINB & BM((pin & 0xF8) >> 3));
 497               	.LM39:
 498 018a 86B3      		in r24,54-32
 499 018c 00C0      		rjmp .L53
 500               	.L46:
 283:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC:
 284:../../../src/platform/micaZ/source/ulib.c ****             return !!(PINC & BM((pin & 0xF8) >> 3));
 502               	.LM40:
 503 018e 83B3      		in r24,51-32
 504 0190 00C0      		rjmp .L53
 505               	.L47:
 285:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD:
 286:../../../src/platform/micaZ/source/ulib.c ****             return !!(PIND & BM((pin & 0xF8) >> 3));
 507               	.LM41:
 508 0192 80B3      		in r24,48-32
 509 0194 00C0      		rjmp .L53
 510               	.L48:
 287:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE:
 288:../../../src/platform/micaZ/source/ulib.c ****             return !!(PINE & BM((pin & 0xF8) >> 3));
 512               	.LM42:
 513 0196 81B1      		in r24,33-32
 514 0198 00C0      		rjmp .L53
 515               	.L55:
 289:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF:
 290:../../../src/platform/micaZ/source/ulib.c ****             return !!(PINF & BM((pin & 0xF8) >> 3));
 517               	.LM43:
 518 019a 80B1      		in r24,32-32
 519               	.L53:
 520 019c 90E0      		ldi r25,lo8(0)
 521 019e 2695      		lsr r18
 522 01a0 2695      		lsr r18
 523 01a2 2695      		lsr r18
 524 01a4 00C0      		rjmp 2f
 525 01a6 9595      	1:	asr r25
 526 01a8 8795      		ror r24
 527 01aa 2A95      	2:	dec r18
 528 01ac 02F4      		brpl 1b
 529 01ae 8170      		andi r24,lo8(1)
 530 01b0 0895      		ret
 531               	.L43:
 532 01b2 8FEF      		ldi r24,lo8(-1)
 291:../../../src/platform/micaZ/source/ulib.c ****         default:
 292:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 293:../../../src/platform/micaZ/source/ulib.c ****     }
 294:../../../src/platform/micaZ/source/ulib.c ****     return -1;
 295:../../../src/platform/micaZ/source/ulib.c **** }
 534               	.LM44:
 535 01b4 0895      		ret
 537               	.Lscope6:
 539               		.stabd	78,0,0
 542               	.global	nrk_gpio_pullups
 544               	nrk_gpio_pullups:
 545               		.stabd	46,0,0
 296:../../../src/platform/micaZ/source/ulib.c **** 
 297:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_pullups(uint8_t enable)
 298:../../../src/platform/micaZ/source/ulib.c **** {
 547               	.LM45:
 548               	.LFBB7:
 549               	/* prologue: function */
 550               	/* frame size = 0 */
 299:../../../src/platform/micaZ/source/ulib.c ****     if(enable) SFIOR &= ~BM(PUD);
 552               	.LM46:
 553 01b6 8823      		tst r24
 554 01b8 01F0      		breq .L57
 555 01ba 80B5      		in r24,64-32
 556 01bc 8B7F      		andi r24,lo8(-5)
 557 01be 00C0      		rjmp .L60
 558               	.L57:
 300:../../../src/platform/micaZ/source/ulib.c ****     else SFIOR |= BM(PUD);
 560               	.LM47:
 561 01c0 80B5      		in r24,64-32
 562 01c2 8460      		ori r24,lo8(4)
 563               	.L60:
 564 01c4 80BD      		out 64-32,r24
 301:../../../src/platform/micaZ/source/ulib.c ****     return NRK_OK;
 302:../../../src/platform/micaZ/source/ulib.c **** }
 566               	.LM48:
 567 01c6 81E0      		ldi r24,lo8(1)
 568               	/* epilogue start */
 569 01c8 0895      		ret
 571               	.Lscope7:
 573               		.stabd	78,0,0
 576               	.global	nrk_gpio_toggle
 578               	nrk_gpio_toggle:
 579               		.stabd	46,0,0
 303:../../../src/platform/micaZ/source/ulib.c **** 
 304:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_toggle(uint8_t pin)
 305:../../../src/platform/micaZ/source/ulib.c **** {
 581               	.LM49:
 582               	.LFBB8:
 583               	/* prologue: function */
 584               	/* frame size = 0 */
 585 01ca 382F      		mov r19,r24
 306:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Readability and execution time optimization
 307:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 308:../../../src/platform/micaZ/source/ulib.c **** 
 309:../../../src/platform/micaZ/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 587               	.LM50:
 588 01cc 8F3F      		cpi r24,lo8(-1)
 589 01ce 01F4      		brne .+2
 590 01d0 00C0      		rjmp .L62
 308:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 592               	.LM51:
 593 01d2 282F      		mov r18,r24
 594 01d4 2695      		lsr r18
 595 01d6 2695      		lsr r18
 596 01d8 2695      		lsr r18
 597 01da 81E0      		ldi r24,lo8(1)
 598 01dc 90E0      		ldi r25,hi8(1)
 599 01de 00C0      		rjmp 2f
 600 01e0 880F      	1:	lsl r24
 601 01e2 991F      		rol r25
 602 01e4 2A95      	2:	dec r18
 603 01e6 02F4      		brpl 1b
 604 01e8 982F      		mov r25,r24
 310:../../../src/platform/micaZ/source/ulib.c ****     switch (pin & 0x07)
 606               	.LM52:
 607 01ea 232F      		mov r18,r19
 608 01ec 30E0      		ldi r19,lo8(0)
 609 01ee 2770      		andi r18,lo8(7)
 610 01f0 3070      		andi r19,hi8(7)
 611 01f2 2230      		cpi r18,2
 612 01f4 3105      		cpc r19,__zero_reg__
 613 01f6 01F0      		breq .L65
 614 01f8 2330      		cpi r18,3
 615 01fa 3105      		cpc r19,__zero_reg__
 616 01fc 04F4      		brge .L69
 617 01fe 2115      		cp r18,__zero_reg__
 618 0200 3105      		cpc r19,__zero_reg__
 619 0202 01F0      		breq .L63
 620 0204 2130      		cpi r18,1
 621 0206 3105      		cpc r19,__zero_reg__
 622 0208 01F4      		brne .L62
 623 020a 00C0      		rjmp .L73
 624               	.L69:
 625 020c 2430      		cpi r18,4
 626 020e 3105      		cpc r19,__zero_reg__
 627 0210 01F0      		breq .L67
 628 0212 2430      		cpi r18,4
 629 0214 3105      		cpc r19,__zero_reg__
 630 0216 04F0      		brlt .L66
 631 0218 2530      		cpi r18,5
 632 021a 3105      		cpc r19,__zero_reg__
 633 021c 01F4      		brne .L62
 634 021e 00C0      		rjmp .L74
 635               	.L63:
 311:../../../src/platform/micaZ/source/ulib.c ****     {
 312:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA: PORTA ^= bitvalue;
 637               	.LM53:
 638 0220 8BB3      		in r24,59-32
 639 0222 9827      		eor r25,r24
 640 0224 9BBB      		out 59-32,r25
 641 0226 00C0      		rjmp .L72
 642               	.L73:
 313:../../../src/platform/micaZ/source/ulib.c ****             break;
 314:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB: PORTB ^= bitvalue;
 644               	.LM54:
 645 0228 88B3      		in r24,56-32
 646 022a 9827      		eor r25,r24
 647 022c 98BB      		out 56-32,r25
 648 022e 00C0      		rjmp .L72
 649               	.L65:
 315:../../../src/platform/micaZ/source/ulib.c ****             break;
 316:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC: PORTC ^= bitvalue;
 651               	.LM55:
 652 0230 85B3      		in r24,53-32
 653 0232 9827      		eor r25,r24
 654 0234 95BB      		out 53-32,r25
 655 0236 00C0      		rjmp .L72
 656               	.L66:
 317:../../../src/platform/micaZ/source/ulib.c ****             break;
 318:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD: PORTD ^= bitvalue;
 658               	.LM56:
 659 0238 82B3      		in r24,50-32
 660 023a 9827      		eor r25,r24
 661 023c 92BB      		out 50-32,r25
 662 023e 00C0      		rjmp .L72
 663               	.L67:
 319:../../../src/platform/micaZ/source/ulib.c ****             break;
 320:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE: PORTE ^= bitvalue;
 665               	.LM57:
 666 0240 83B1      		in r24,35-32
 667 0242 9827      		eor r25,r24
 668 0244 93B9      		out 35-32,r25
 669 0246 00C0      		rjmp .L72
 670               	.L74:
 321:../../../src/platform/micaZ/source/ulib.c ****             break;
 322:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF: PORTF ^= bitvalue;
 672               	.LM58:
 673 0248 8091 6200 		lds r24,98
 674 024c 9827      		eor r25,r24
 675 024e 9093 6200 		sts 98,r25
 676               	.L72:
 677 0252 81E0      		ldi r24,lo8(1)
 678 0254 0895      		ret
 679               	.L62:
 323:../../../src/platform/micaZ/source/ulib.c ****             break;
 681               	.LM59:
 682 0256 8FEF      		ldi r24,lo8(-1)
 324:../../../src/platform/micaZ/source/ulib.c ****         default:
 325:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 326:../../../src/platform/micaZ/source/ulib.c ****     }
 327:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 328:../../../src/platform/micaZ/source/ulib.c **** }
 684               	.LM60:
 685 0258 0895      		ret
 690               	.Lscope8:
 692               		.stabd	78,0,0
 696               	.global	nrk_gpio_direction
 698               	nrk_gpio_direction:
 699               		.stabd	46,0,0
 329:../../../src/platform/micaZ/source/ulib.c **** 
 330:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_gpio_direction(uint8_t pin, uint8_t pin_direction)
 331:../../../src/platform/micaZ/source/ulib.c **** {
 701               	.LM61:
 702               	.LFBB9:
 703               	/* prologue: function */
 704               	/* frame size = 0 */
 705 025a 982F      		mov r25,r24
 332:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Readability and program space optimization
 333:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 334:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue_inv = ~BM((pin & 0xF8) >> 3);
 335:../../../src/platform/micaZ/source/ulib.c **** 
 336:../../../src/platform/micaZ/source/ulib.c ****     if (pin == NRK_INVALID_PIN_VAL) return -1;
 707               	.LM62:
 708 025c 8F3F      		cpi r24,lo8(-1)
 709 025e 01F4      		brne .+2
 710 0260 00C0      		rjmp .L76
 334:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue = BM((pin & 0xF8) >> 3);
 712               	.LM63:
 713 0262 8695      		lsr r24
 714 0264 8695      		lsr r24
 715 0266 8695      		lsr r24
 716 0268 21E0      		ldi r18,lo8(1)
 717 026a 30E0      		ldi r19,hi8(1)
 718 026c 00C0      		rjmp 2f
 719 026e 220F      	1:	lsl r18
 720 0270 331F      		rol r19
 721 0272 8A95      	2:	dec r24
 722 0274 02F4      		brpl 1b
 723 0276 422F      		mov r20,r18
 724 0278 892F      		mov r24,r25
 725 027a 90E0      		ldi r25,lo8(0)
 337:../../../src/platform/micaZ/source/ulib.c ****     if (pin_direction == NRK_PIN_INPUT)
 727               	.LM64:
 728 027c 6623      		tst r22
 729 027e 01F0      		breq .+2
 730 0280 00C0      		rjmp .L77
 335:../../../src/platform/micaZ/source/ulib.c ****     uint8_t bitvalue_inv = ~BM((pin & 0xF8) >> 3);
 732               	.LM65:
 733 0282 2095      		com r18
 338:../../../src/platform/micaZ/source/ulib.c ****     {
 339:../../../src/platform/micaZ/source/ulib.c ****         switch (pin & 0x07)
 735               	.LM66:
 736 0284 8770      		andi r24,lo8(7)
 737 0286 9070      		andi r25,hi8(7)
 738 0288 8230      		cpi r24,2
 739 028a 9105      		cpc r25,__zero_reg__
 740 028c 01F0      		breq .L80
 741 028e 8330      		cpi r24,3
 742 0290 9105      		cpc r25,__zero_reg__
 743 0292 04F4      		brge .L84
 744 0294 0097      		sbiw r24,0
 745 0296 01F0      		breq .L78
 746 0298 0197      		sbiw r24,1
 747 029a 01F0      		breq .+2
 748 029c 00C0      		rjmp .L76
 749 029e 00C0      		rjmp .L95
 750               	.L84:
 751 02a0 8430      		cpi r24,4
 752 02a2 9105      		cpc r25,__zero_reg__
 753 02a4 01F0      		breq .L82
 754 02a6 8430      		cpi r24,4
 755 02a8 9105      		cpc r25,__zero_reg__
 756 02aa 04F0      		brlt .L81
 757 02ac 0597      		sbiw r24,5
 758 02ae 01F0      		breq .+2
 759 02b0 00C0      		rjmp .L76
 760 02b2 00C0      		rjmp .L96
 761               	.L78:
 340:../../../src/platform/micaZ/source/ulib.c ****         {
 341:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA:
 342:../../../src/platform/micaZ/source/ulib.c ****             DDRA &= bitvalue_inv;
 763               	.LM67:
 764 02b4 8AB3      		in r24,58-32
 765 02b6 2823      		and r18,r24
 766 02b8 2ABB      		out 58-32,r18
 343:../../../src/platform/micaZ/source/ulib.c ****             PORTA |= bitvalue;
 768               	.LM68:
 769 02ba 8BB3      		in r24,59-32
 770 02bc 482B      		or r20,r24
 771 02be 4BBB      		out 59-32,r20
 772 02c0 00C0      		rjmp .L94
 773               	.L95:
 344:../../../src/platform/micaZ/source/ulib.c ****             break;
 345:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB:
 346:../../../src/platform/micaZ/source/ulib.c ****             DDRB &= bitvalue_inv;
 775               	.LM69:
 776 02c2 87B3      		in r24,55-32
 777 02c4 2823      		and r18,r24
 778 02c6 27BB      		out 55-32,r18
 347:../../../src/platform/micaZ/source/ulib.c ****             PORTB |= bitvalue;
 780               	.LM70:
 781 02c8 88B3      		in r24,56-32
 782 02ca 482B      		or r20,r24
 783 02cc 48BB      		out 56-32,r20
 784 02ce 00C0      		rjmp .L94
 785               	.L80:
 348:../../../src/platform/micaZ/source/ulib.c ****             break;
 349:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC:
 350:../../../src/platform/micaZ/source/ulib.c ****             DDRC &= bitvalue_inv;
 787               	.LM71:
 788 02d0 84B3      		in r24,52-32
 789 02d2 2823      		and r18,r24
 790 02d4 24BB      		out 52-32,r18
 351:../../../src/platform/micaZ/source/ulib.c ****             PORTC |= bitvalue;
 792               	.LM72:
 793 02d6 85B3      		in r24,53-32
 794 02d8 482B      		or r20,r24
 795 02da 45BB      		out 53-32,r20
 796 02dc 00C0      		rjmp .L94
 797               	.L81:
 352:../../../src/platform/micaZ/source/ulib.c ****             break;
 353:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD:
 354:../../../src/platform/micaZ/source/ulib.c ****             DDRD &= bitvalue_inv;
 799               	.LM73:
 800 02de 81B3      		in r24,49-32
 801 02e0 2823      		and r18,r24
 802 02e2 21BB      		out 49-32,r18
 355:../../../src/platform/micaZ/source/ulib.c ****             PORTD |= bitvalue;
 804               	.LM74:
 805 02e4 82B3      		in r24,50-32
 806 02e6 482B      		or r20,r24
 807 02e8 42BB      		out 50-32,r20
 808 02ea 00C0      		rjmp .L94
 809               	.L82:
 356:../../../src/platform/micaZ/source/ulib.c ****             break;
 357:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE:
 358:../../../src/platform/micaZ/source/ulib.c ****             DDRE &= bitvalue_inv;
 811               	.LM75:
 812 02ec 82B1      		in r24,34-32
 813 02ee 2823      		and r18,r24
 814 02f0 22B9      		out 34-32,r18
 359:../../../src/platform/micaZ/source/ulib.c ****             PORTE |= bitvalue;
 816               	.LM76:
 817 02f2 83B1      		in r24,35-32
 818 02f4 482B      		or r20,r24
 819 02f6 43B9      		out 35-32,r20
 820 02f8 00C0      		rjmp .L94
 821               	.L96:
 360:../../../src/platform/micaZ/source/ulib.c ****             break;
 361:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF:
 362:../../../src/platform/micaZ/source/ulib.c ****             DDRF &= bitvalue_inv;
 823               	.LM77:
 824 02fa 8091 6100 		lds r24,97
 825 02fe 2823      		and r18,r24
 826 0300 2093 6100 		sts 97,r18
 363:../../../src/platform/micaZ/source/ulib.c ****             PORTF |= bitvalue;
 828               	.LM78:
 829 0304 8091 6200 		lds r24,98
 830 0308 482B      		or r20,r24
 831 030a 4093 6200 		sts 98,r20
 832 030e 00C0      		rjmp .L94
 833               	.L77:
 364:../../../src/platform/micaZ/source/ulib.c ****             break;
 365:../../../src/platform/micaZ/source/ulib.c ****         default:
 366:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 367:../../../src/platform/micaZ/source/ulib.c ****         }
 368:../../../src/platform/micaZ/source/ulib.c ****     }
 369:../../../src/platform/micaZ/source/ulib.c ****     else
 370:../../../src/platform/micaZ/source/ulib.c ****     {
 371:../../../src/platform/micaZ/source/ulib.c ****         switch (pin & 0x07)
 835               	.LM79:
 836 0310 8770      		andi r24,lo8(7)
 837 0312 9070      		andi r25,hi8(7)
 838 0314 8230      		cpi r24,2
 839 0316 9105      		cpc r25,__zero_reg__
 840 0318 01F0      		breq .L88
 841 031a 8330      		cpi r24,3
 842 031c 9105      		cpc r25,__zero_reg__
 843 031e 04F4      		brge .L92
 844 0320 0097      		sbiw r24,0
 845 0322 01F0      		breq .L86
 846 0324 0197      		sbiw r24,1
 847 0326 01F4      		brne .L76
 848 0328 00C0      		rjmp .L97
 849               	.L92:
 850 032a 8430      		cpi r24,4
 851 032c 9105      		cpc r25,__zero_reg__
 852 032e 01F0      		breq .L90
 853 0330 8430      		cpi r24,4
 854 0332 9105      		cpc r25,__zero_reg__
 855 0334 04F0      		brlt .L89
 856 0336 0597      		sbiw r24,5
 857 0338 01F4      		brne .L76
 858 033a 00C0      		rjmp .L98
 859               	.L86:
 372:../../../src/platform/micaZ/source/ulib.c ****         {
 373:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTA:
 374:../../../src/platform/micaZ/source/ulib.c ****             DDRA |= bitvalue;
 861               	.LM80:
 862 033c 8AB3      		in r24,58-32
 863 033e 482B      		or r20,r24
 864 0340 4ABB      		out 58-32,r20
 865 0342 00C0      		rjmp .L94
 866               	.L97:
 375:../../../src/platform/micaZ/source/ulib.c ****             break;
 376:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTB:
 377:../../../src/platform/micaZ/source/ulib.c ****             DDRB |= bitvalue;
 868               	.LM81:
 869 0344 87B3      		in r24,55-32
 870 0346 482B      		or r20,r24
 871 0348 47BB      		out 55-32,r20
 872 034a 00C0      		rjmp .L94
 873               	.L88:
 378:../../../src/platform/micaZ/source/ulib.c ****             break;
 379:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTC:
 380:../../../src/platform/micaZ/source/ulib.c ****             DDRC |= bitvalue;
 875               	.LM82:
 876 034c 84B3      		in r24,52-32
 877 034e 482B      		or r20,r24
 878 0350 44BB      		out 52-32,r20
 879 0352 00C0      		rjmp .L94
 880               	.L89:
 381:../../../src/platform/micaZ/source/ulib.c ****             break;
 382:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTD:
 383:../../../src/platform/micaZ/source/ulib.c ****             DDRD |= bitvalue;
 882               	.LM83:
 883 0354 81B3      		in r24,49-32
 884 0356 482B      		or r20,r24
 885 0358 41BB      		out 49-32,r20
 886 035a 00C0      		rjmp .L94
 887               	.L90:
 384:../../../src/platform/micaZ/source/ulib.c ****             break;
 385:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTE:
 386:../../../src/platform/micaZ/source/ulib.c ****             DDRE |= bitvalue;
 889               	.LM84:
 890 035c 82B1      		in r24,34-32
 891 035e 482B      		or r20,r24
 892 0360 42B9      		out 34-32,r20
 893 0362 00C0      		rjmp .L94
 894               	.L98:
 387:../../../src/platform/micaZ/source/ulib.c ****             break;
 388:../../../src/platform/micaZ/source/ulib.c ****         case NRK_PORTF:
 389:../../../src/platform/micaZ/source/ulib.c ****             DDRF |= bitvalue;
 896               	.LM85:
 897 0364 8091 6100 		lds r24,97
 898 0368 482B      		or r20,r24
 899 036a 4093 6100 		sts 97,r20
 900               	.L94:
 901 036e 81E0      		ldi r24,lo8(1)
 902 0370 0895      		ret
 903               	.L76:
 390:../../../src/platform/micaZ/source/ulib.c ****             break;
 905               	.LM86:
 906 0372 8FEF      		ldi r24,lo8(-1)
 391:../../../src/platform/micaZ/source/ulib.c ****         default:
 392:../../../src/platform/micaZ/source/ulib.c ****             return -1;
 393:../../../src/platform/micaZ/source/ulib.c ****         }
 394:../../../src/platform/micaZ/source/ulib.c ****     }
 395:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 396:../../../src/platform/micaZ/source/ulib.c **** }
 908               	.LM87:
 909 0374 0895      		ret
 915               	.Lscope9:
 917               		.stabd	78,0,0
 920               	.global	nrk_get_button
 922               	nrk_get_button:
 923               		.stabd	46,0,0
 397:../../../src/platform/micaZ/source/ulib.c **** 
 398:../../../src/platform/micaZ/source/ulib.c **** 
 399:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_get_button(uint8_t b)
 400:../../../src/platform/micaZ/source/ulib.c **** {
 925               	.LM88:
 926               	.LFBB10:
 927               	/* prologue: function */
 928               	/* frame size = 0 */
 401:../../../src/platform/micaZ/source/ulib.c ****     return NRK_ERROR;
 402:../../../src/platform/micaZ/source/ulib.c **** }
 930               	.LM89:
 931 0376 8FEF      		ldi r24,lo8(-1)
 932               	/* epilogue start */
 933 0378 0895      		ret
 935               	.Lscope10:
 937               		.stabd	78,0,0
 940               	.global	nrk_led_toggle
 942               	nrk_led_toggle:
 943               		.stabd	46,0,0
 403:../../../src/platform/micaZ/source/ulib.c **** 
 404:../../../src/platform/micaZ/source/ulib.c **** 
 405:../../../src/platform/micaZ/source/ulib.c **** 
 406:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_led_toggle( int led )
 407:../../../src/platform/micaZ/source/ulib.c **** {
 945               	.LM90:
 946               	.LFBB11:
 947               	/* prologue: function */
 948               	/* frame size = 0 */
 408:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Execution time optimization
 409:../../../src/platform/micaZ/source/ulib.c **** 
 410:../../../src/platform/micaZ/source/ulib.c ****     if(led==0)      nrk_gpio_toggle(NRK_LED_0);
 950               	.LM91:
 951 037a 0097      		sbiw r24,0
 952 037c 01F4      		brne .L102
 953 037e 80E0      		ldi r24,lo8(0)
 954 0380 00C0      		rjmp .L107
 955               	.L102:
 411:../../../src/platform/micaZ/source/ulib.c ****     else if(led==1) nrk_gpio_toggle(NRK_LED_1);
 957               	.LM92:
 958 0382 8130      		cpi r24,1
 959 0384 9105      		cpc r25,__zero_reg__
 960 0386 01F4      		brne .L104
 961 0388 88E0      		ldi r24,lo8(8)
 962               	.L107:
 963 038a 0E94 0000 		call nrk_gpio_toggle
 964 038e 81E0      		ldi r24,lo8(1)
 965 0390 0895      		ret
 966               	.L104:
 412:../../../src/platform/micaZ/source/ulib.c ****     else if(led==2) nrk_gpio_toggle(NRK_LED_2);
 968               	.LM93:
 969 0392 0297      		sbiw r24,2
 970 0394 01F0      		breq .L105
 971 0396 8FEF      		ldi r24,lo8(-1)
 972 0398 0895      		ret
 973               	.L105:
 974 039a 80E1      		ldi r24,lo8(16)
 975 039c 0E94 0000 		call nrk_gpio_toggle
 976 03a0 81E0      		ldi r24,lo8(1)
 413:../../../src/platform/micaZ/source/ulib.c ****     else            return -1;
 414:../../../src/platform/micaZ/source/ulib.c **** 
 415:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 416:../../../src/platform/micaZ/source/ulib.c **** }
 978               	.LM94:
 979 03a2 0895      		ret
 981               	.Lscope11:
 983               		.stabd	78,0,0
 986               	.global	nrk_led_clr
 988               	nrk_led_clr:
 989               		.stabd	46,0,0
 417:../../../src/platform/micaZ/source/ulib.c **** 
 418:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_led_clr( int led )
 419:../../../src/platform/micaZ/source/ulib.c **** {
 991               	.LM95:
 992               	.LFBB12:
 993               	/* prologue: function */
 994               	/* frame size = 0 */
 420:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Execution time optimization
 421:../../../src/platform/micaZ/source/ulib.c **** 
 422:../../../src/platform/micaZ/source/ulib.c ****     if(led==0)      nrk_gpio_set(NRK_LED_0);
 996               	.LM96:
 997 03a4 0097      		sbiw r24,0
 998 03a6 01F4      		brne .L109
 999 03a8 80E0      		ldi r24,lo8(0)
 1000 03aa 00C0      		rjmp .L114
 1001               	.L109:
 423:../../../src/platform/micaZ/source/ulib.c ****     else if(led==1) nrk_gpio_set(NRK_LED_1);
 1003               	.LM97:
 1004 03ac 8130      		cpi r24,1
 1005 03ae 9105      		cpc r25,__zero_reg__
 1006 03b0 01F4      		brne .L111
 1007 03b2 88E0      		ldi r24,lo8(8)
 1008               	.L114:
 1009 03b4 0E94 0000 		call nrk_gpio_set
 1010 03b8 81E0      		ldi r24,lo8(1)
 1011 03ba 0895      		ret
 1012               	.L111:
 424:../../../src/platform/micaZ/source/ulib.c ****     else if(led==2) nrk_gpio_set(NRK_LED_2);
 1014               	.LM98:
 1015 03bc 0297      		sbiw r24,2
 1016 03be 01F0      		breq .L112
 1017 03c0 8FEF      		ldi r24,lo8(-1)
 1018 03c2 0895      		ret
 1019               	.L112:
 1020 03c4 80E1      		ldi r24,lo8(16)
 1021 03c6 0E94 0000 		call nrk_gpio_set
 1022 03ca 81E0      		ldi r24,lo8(1)
 425:../../../src/platform/micaZ/source/ulib.c ****     else            return -1;
 426:../../../src/platform/micaZ/source/ulib.c **** 
 427:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 428:../../../src/platform/micaZ/source/ulib.c **** }
 1024               	.LM99:
 1025 03cc 0895      		ret
 1027               	.Lscope12:
 1029               		.stabd	78,0,0
 1031               	.global	nrk_setup_ports
 1033               	nrk_setup_ports:
 1034               		.stabd	46,0,0
 145:../../../src/platform/micaZ/source/ulib.c **** {
 1036               	.LM100:
 1037               	.LFBB13:
 1038               	/* prologue: function */
 1039               	/* frame size = 0 */
 146:../../../src/platform/micaZ/source/ulib.c ****     PORT_INIT();
 1041               	.LM101:
 1042 03ce 80B5      		in r24,64-32
 1043 03d0 8460      		ori r24,lo8(4)
 1044 03d2 80BD      		out 64-32,r24
 1045 03d4 87E0      		ldi r24,lo8(7)
 1046 03d6 87BB      		out 55-32,r24
 1047 03d8 88BB      		out 56-32,r24
 1048 03da 8FEF      		ldi r24,lo8(-1)
 1049 03dc 84BB      		out 52-32,r24
 1050 03de 15BA      		out 53-32,__zero_reg__
 1051 03e0 82E0      		ldi r24,lo8(2)
 1052 03e2 82B9      		out 34-32,r24
 1053 03e4 87E6      		ldi r24,lo8(103)
 1054 03e6 8ABB      		out 58-32,r24
 1055 03e8 80E4      		ldi r24,lo8(64)
 1056 03ea 8BBB      		out 59-32,r24
 147:../../../src/platform/micaZ/source/ulib.c ****     SPI_INIT();
 1058               	.LM102:
 1059 03ec 80E5      		ldi r24,lo8(80)
 1060 03ee 8DB9      		out 45-32,r24
 1061 03f0 81E0      		ldi r24,lo8(1)
 1062 03f2 8EB9      		out 46-32,r24
 149:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(0);
 1064               	.LM103:
 1065 03f4 80E0      		ldi r24,lo8(0)
 1066 03f6 90E0      		ldi r25,hi8(0)
 1067 03f8 0E94 0000 		call nrk_led_clr
 150:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(1);
 1069               	.LM104:
 1070 03fc 81E0      		ldi r24,lo8(1)
 1071 03fe 90E0      		ldi r25,hi8(1)
 1072 0400 0E94 0000 		call nrk_led_clr
 151:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(2);
 1074               	.LM105:
 1075 0404 82E0      		ldi r24,lo8(2)
 1076 0406 90E0      		ldi r25,hi8(2)
 1077 0408 0E94 0000 		call nrk_led_clr
 152:../../../src/platform/micaZ/source/ulib.c ****     nrk_led_clr(3);
 1079               	.LM106:
 1080 040c 83E0      		ldi r24,lo8(3)
 1081 040e 90E0      		ldi r25,hi8(3)
 1082 0410 0E94 0000 		call nrk_led_clr
 1083               	/* epilogue start */
 153:../../../src/platform/micaZ/source/ulib.c **** }
 1085               	.LM107:
 1086 0414 0895      		ret
 1088               	.Lscope13:
 1090               		.stabd	78,0,0
 1093               	.global	nrk_led_set
 1095               	nrk_led_set:
 1096               		.stabd	46,0,0
 429:../../../src/platform/micaZ/source/ulib.c **** 
 430:../../../src/platform/micaZ/source/ulib.c **** int8_t nrk_led_set( int led )
 431:../../../src/platform/micaZ/source/ulib.c **** {
 1098               	.LM108:
 1099               	.LFBB14:
 1100               	/* prologue: function */
 1101               	/* frame size = 0 */
 432:../../../src/platform/micaZ/source/ulib.c ****     // pdiener: Execution time optimization
 433:../../../src/platform/micaZ/source/ulib.c **** 
 434:../../../src/platform/micaZ/source/ulib.c ****     if(led==0)      nrk_gpio_clr(NRK_LED_0);
 1103               	.LM109:
 1104 0416 0097      		sbiw r24,0
 1105 0418 01F4      		brne .L118
 1106 041a 80E0      		ldi r24,lo8(0)
 1107 041c 00C0      		rjmp .L123
 1108               	.L118:
 435:../../../src/platform/micaZ/source/ulib.c ****     else if(led==1) nrk_gpio_clr(NRK_LED_1);
 1110               	.LM110:
 1111 041e 8130      		cpi r24,1
 1112 0420 9105      		cpc r25,__zero_reg__
 1113 0422 01F4      		brne .L120
 1114 0424 88E0      		ldi r24,lo8(8)
 1115               	.L123:
 1116 0426 0E94 0000 		call nrk_gpio_clr
 1117 042a 81E0      		ldi r24,lo8(1)
 1118 042c 0895      		ret
 1119               	.L120:
 436:../../../src/platform/micaZ/source/ulib.c ****     else if(led==2) nrk_gpio_clr(NRK_LED_2);
 1121               	.LM111:
 1122 042e 0297      		sbiw r24,2
 1123 0430 01F0      		breq .L121
 1124 0432 8FEF      		ldi r24,lo8(-1)
 1125 0434 0895      		ret
 1126               	.L121:
 1127 0436 80E1      		ldi r24,lo8(16)
 1128 0438 0E94 0000 		call nrk_gpio_clr
 1129 043c 81E0      		ldi r24,lo8(1)
 437:../../../src/platform/micaZ/source/ulib.c ****     else            return -1;
 438:../../../src/platform/micaZ/source/ulib.c **** 
 439:../../../src/platform/micaZ/source/ulib.c ****     return 1;
 440:../../../src/platform/micaZ/source/ulib.c **** }
 1131               	.LM112:
 1132 043e 0895      		ret
 1134               	.Lscope14:
 1136               		.stabd	78,0,0
 1139               	.global	putc0
 1141               	putc0:
 1142               		.stabd	46,0,0
 441:../../../src/platform/micaZ/source/ulib.c **** /*
 442:../../../src/platform/micaZ/source/ulib.c **** void IO_SET_E(uint8_t pin)
 443:../../../src/platform/micaZ/source/ulib.c **** {
 444:../../../src/platform/micaZ/source/ulib.c **** PORTE |= BM(pin);
 445:../../../src/platform/micaZ/source/ulib.c **** }
 446:../../../src/platform/micaZ/source/ulib.c **** 
 447:../../../src/platform/micaZ/source/ulib.c **** void IO_CLR_E(uint8_t pin)
 448:../../../src/platform/micaZ/source/ulib.c **** {
 449:../../../src/platform/micaZ/source/ulib.c **** PORTE &= ~BM(pin);
 450:../../../src/platform/micaZ/source/ulib.c **** }
 451:../../../src/platform/micaZ/source/ulib.c **** 
 452:../../../src/platform/micaZ/source/ulib.c **** void IO_SET_F(uint8_t pin)
 453:../../../src/platform/micaZ/source/ulib.c **** {
 454:../../../src/platform/micaZ/source/ulib.c **** PORTF |= BM(pin);
 455:../../../src/platform/micaZ/source/ulib.c **** }
 456:../../../src/platform/micaZ/source/ulib.c **** 
 457:../../../src/platform/micaZ/source/ulib.c **** void IO_CLR_F(uint8_t pin)
 458:../../../src/platform/micaZ/source/ulib.c **** {
 459:../../../src/platform/micaZ/source/ulib.c **** PORTF &= ~BM(pin);
 460:../../../src/platform/micaZ/source/ulib.c **** }
 461:../../../src/platform/micaZ/source/ulib.c **** */
 462:../../../src/platform/micaZ/source/ulib.c **** 
 463:../../../src/platform/micaZ/source/ulib.c **** void putc0(char x)
 464:../../../src/platform/micaZ/source/ulib.c **** {
 1144               	.LM113:
 1145               	.LFBB15:
 1146               	/* prologue: function */
 1147               	/* frame size = 0 */
 1148               	.L125:
 465:../../../src/platform/micaZ/source/ulib.c ****     UART0_WAIT_AND_SEND(x);
 1150               	.LM114:
 1151 0440 5D9B      		sbis 43-32,5
 1152 0442 00C0      		rjmp .L125
 1153 0444 5D98      		cbi 43-32,5
 1154 0446 8CB9      		out 44-32,r24
 1155               	/* epilogue start */
 466:../../../src/platform/micaZ/source/ulib.c **** }
 1157               	.LM115:
 1158 0448 0895      		ret
 1160               	.Lscope15:
 1162               		.stabd	78,0,0
 1165               	.global	putc1
 1167               	putc1:
 1168               		.stabd	46,0,0
 467:../../../src/platform/micaZ/source/ulib.c **** 
 468:../../../src/platform/micaZ/source/ulib.c **** void putc1(char x)
 469:../../../src/platform/micaZ/source/ulib.c **** {
 1170               	.LM116:
 1171               	.LFBB16:
 1172               	/* prologue: function */
 1173               	/* frame size = 0 */
 1174 044a 982F      		mov r25,r24
 1175               	.L129:
 470:../../../src/platform/micaZ/source/ulib.c ****     UART1_WAIT_AND_SEND(x);
 1177               	.LM117:
 1178 044c 8091 9B00 		lds r24,155
 1179 0450 85FF      		sbrs r24,5
 1180 0452 00C0      		rjmp .L129
 1181 0454 8091 9B00 		lds r24,155
 1182 0458 8F7D      		andi r24,lo8(-33)
 1183 045a 8093 9B00 		sts 155,r24
 1184 045e 9093 9C00 		sts 156,r25
 1185               	/* epilogue start */
 471:../../../src/platform/micaZ/source/ulib.c **** }
 1187               	.LM118:
 1188 0462 0895      		ret
 1190               	.Lscope16:
 1192               		.stabd	78,0,0
 1194               	.global	setup_uart0
 1196               	setup_uart0:
 1197               		.stabd	46,0,0
 472:../../../src/platform/micaZ/source/ulib.c **** 
 473:../../../src/platform/micaZ/source/ulib.c **** /* print uart string */
 474:../../../src/platform/micaZ/source/ulib.c **** /*
 475:../../../src/platform/micaZ/source/ulib.c **** void printus1(char *x)
 476:../../../src/platform/micaZ/source/ulib.c **** {
 477:../../../src/platform/micaZ/source/ulib.c ****      int i=0;
 478:../../../src/platform/micaZ/source/ulib.c ****      while(x[i]!='\0'){
 479:../../../src/platform/micaZ/source/ulib.c ****      UART1_WAIT_AND_SEND(x[i]);
 480:../../../src/platform/micaZ/source/ulib.c ****      i++;
 481:../../../src/platform/micaZ/source/ulib.c ****      }
 482:../../../src/platform/micaZ/source/ulib.c **** }
 483:../../../src/platform/micaZ/source/ulib.c **** 
 484:../../../src/platform/micaZ/source/ulib.c **** void printus0(char *x)
 485:../../../src/platform/micaZ/source/ulib.c **** {
 486:../../../src/platform/micaZ/source/ulib.c ****      int i=0;
 487:../../../src/platform/micaZ/source/ulib.c ****      while(x[i]!='\0'){
 488:../../../src/platform/micaZ/source/ulib.c ****      UART0_WAIT_AND_SEND(x[i]);
 489:../../../src/platform/micaZ/source/ulib.c ****      i++;
 490:../../../src/platform/micaZ/source/ulib.c ****      }
 491:../../../src/platform/micaZ/source/ulib.c **** }
 492:../../../src/platform/micaZ/source/ulib.c **** */
 493:../../../src/platform/micaZ/source/ulib.c **** void setup_uart0(uint16_t baudrate)
 494:../../../src/platform/micaZ/source/ulib.c **** {
 1199               	.LM119:
 1200               	.LFBB17:
 1201               	/* prologue: function */
 1202               	/* frame size = 0 */
 495:../../../src/platform/micaZ/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 496:../../../src/platform/micaZ/source/ulib.c ****     INIT_UART0( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 1204               	.LM120:
 1205 0464 9093 9000 		sts 144,r25
 1206 0468 89B9      		out 41-32,r24
 1207 046a 86E0      		ldi r24,lo8(6)
 1208 046c 8093 9500 		sts 149,r24
 1209 0470 5298      		cbi 42-32,2
 1210 0472 599A      		sbi 43-32,1
 497:../../../src/platform/micaZ/source/ulib.c ****     ENABLE_UART0();
 1212               	.LM121:
 1213 0474 8AB1      		in r24,42-32
 1214 0476 8861      		ori r24,lo8(24)
 1215 0478 8AB9      		out 42-32,r24
 1216               	/* epilogue start */
 498:../../../src/platform/micaZ/source/ulib.c **** }
 1218               	.LM122:
 1219 047a 0895      		ret
 1221               	.Lscope17:
 1223               		.stabd	78,0,0
 1225               	.global	setup_uart1
 1227               	setup_uart1:
 1228               		.stabd	46,0,0
 499:../../../src/platform/micaZ/source/ulib.c **** 
 500:../../../src/platform/micaZ/source/ulib.c **** 
 501:../../../src/platform/micaZ/source/ulib.c **** /**
 502:../../../src/platform/micaZ/source/ulib.c ****  * nrk_setup_uart()
 503:../../../src/platform/micaZ/source/ulib.c ****  *
 504:../../../src/platform/micaZ/source/ulib.c ****  * Sets a default uart for a given platform and
 505:../../../src/platform/micaZ/source/ulib.c ****  * direct stdin and stdout to that port.
 506:../../../src/platform/micaZ/source/ulib.c ****  *
 507:../../../src/platform/micaZ/source/ulib.c ****  * More advanced UART usage will require manually
 508:../../../src/platform/micaZ/source/ulib.c ****  * setting parameters.
 509:../../../src/platform/micaZ/source/ulib.c ****  */
 510:../../../src/platform/micaZ/source/ulib.c **** void nrk_setup_uart(uint16_t baudrate)
 511:../../../src/platform/micaZ/source/ulib.c **** {
 512:../../../src/platform/micaZ/source/ulib.c **** 
 513:../../../src/platform/micaZ/source/ulib.c ****     //setup_uart1(baudrate);
 514:../../../src/platform/micaZ/source/ulib.c ****     setup_uart0(baudrate);
 515:../../../src/platform/micaZ/source/ulib.c **** 
 516:../../../src/platform/micaZ/source/ulib.c ****     stdout = fdevopen( putc0, getc0);
 517:../../../src/platform/micaZ/source/ulib.c ****     stdin = fdevopen( putc0, getc0);
 518:../../../src/platform/micaZ/source/ulib.c **** 
 519:../../../src/platform/micaZ/source/ulib.c **** #ifdef NRK_UART_BUF
 520:../../../src/platform/micaZ/source/ulib.c ****     uart_rx_signal=nrk_signal_create();
 521:../../../src/platform/micaZ/source/ulib.c ****     if(uart_rx_signal==NRK_ERROR) nrk_error_add(NRK_SIGNAL_CREATE_ERROR);
 522:../../../src/platform/micaZ/source/ulib.c ****     uart_rx_buf_start=0;
 523:../../../src/platform/micaZ/source/ulib.c ****     uart_rx_buf_end=0;
 524:../../../src/platform/micaZ/source/ulib.c ****     ENABLE_UART0_RX_INT();
 525:../../../src/platform/micaZ/source/ulib.c **** #endif
 526:../../../src/platform/micaZ/source/ulib.c **** 
 527:../../../src/platform/micaZ/source/ulib.c **** 
 528:../../../src/platform/micaZ/source/ulib.c **** 
 529:../../../src/platform/micaZ/source/ulib.c **** }
 530:../../../src/platform/micaZ/source/ulib.c **** 
 531:../../../src/platform/micaZ/source/ulib.c **** void setup_uart1(uint16_t baudrate)
 532:../../../src/platform/micaZ/source/ulib.c **** {
 1230               	.LM123:
 1231               	.LFBB18:
 1232               	/* prologue: function */
 1233               	/* frame size = 0 */
 533:../../../src/platform/micaZ/source/ulib.c **** //INIT_UART1( UART_BAUDRATE_115K2, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_B
 534:../../../src/platform/micaZ/source/ulib.c ****     INIT_UART1( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 1235               	.LM124:
 1236 047c 9093 9800 		sts 152,r25
 1237 0480 8093 9900 		sts 153,r24
 1238 0484 86E0      		ldi r24,lo8(6)
 1239 0486 8093 9D00 		sts 157,r24
 1240 048a EAE9      		ldi r30,lo8(154)
 1241 048c F0E0      		ldi r31,hi8(154)
 1242 048e 8081      		ld r24,Z
 1243 0490 8B7F      		andi r24,lo8(-5)
 1244 0492 8083      		st Z,r24
 1245 0494 ABE9      		ldi r26,lo8(155)
 1246 0496 B0E0      		ldi r27,hi8(155)
 1247 0498 8C91      		ld r24,X
 1248 049a 8260      		ori r24,lo8(2)
 1249 049c 8C93      		st X,r24
 535:../../../src/platform/micaZ/source/ulib.c ****     ENABLE_UART1();
 1251               	.LM125:
 1252 049e 8081      		ld r24,Z
 1253 04a0 8861      		ori r24,lo8(24)
 1254 04a2 8083      		st Z,r24
 1255               	/* epilogue start */
 536:../../../src/platform/micaZ/source/ulib.c **** }
 1257               	.LM126:
 1258 04a4 0895      		ret
 1260               	.Lscope18:
 1262               		.stabd	78,0,0
 1264               	.global	getc1
 1266               	getc1:
 1267               		.stabd	46,0,0
 537:../../../src/platform/micaZ/source/ulib.c **** 
 538:../../../src/platform/micaZ/source/ulib.c **** 
 539:../../../src/platform/micaZ/source/ulib.c **** 
 540:../../../src/platform/micaZ/source/ulib.c **** char getc1(void)
 541:../../../src/platform/micaZ/source/ulib.c **** {
 1269               	.LM127:
 1270               	.LFBB19:
 1271               	/* prologue: function */
 1272               	/* frame size = 0 */
 1273               	.L137:
 542:../../../src/platform/micaZ/source/ulib.c ****     unsigned char tmp;
 543:../../../src/platform/micaZ/source/ulib.c ****     UART1_WAIT_AND_RECEIVE(tmp);
 1275               	.LM128:
 1276 04a6 8091 9B00 		lds r24,155
 1277 04aa 87FF      		sbrs r24,7
 1278 04ac 00C0      		rjmp .L137
 1279 04ae 8091 9B00 		lds r24,155
 1280 04b2 8F77      		andi r24,lo8(127)
 1281 04b4 8093 9B00 		sts 155,r24
 1282 04b8 8091 9C00 		lds r24,156
 1283               	/* epilogue start */
 544:../../../src/platform/micaZ/source/ulib.c ****     return tmp;
 545:../../../src/platform/micaZ/source/ulib.c **** }
 1285               	.LM129:
 1286 04bc 0895      		ret
 1291               	.Lscope19:
 1293               		.stabd	78,0,0
 1295               	.global	nrk_setup_uart
 1297               	nrk_setup_uart:
 1298               		.stabd	46,0,0
 512:../../../src/platform/micaZ/source/ulib.c **** {
 1300               	.LM130:
 1301               	.LFBB20:
 1302 04be EF92      		push r14
 1303 04c0 FF92      		push r15
 1304 04c2 0F93      		push r16
 1305 04c4 1F93      		push r17
 1306               	/* prologue: function */
 1307               	/* frame size = 0 */
 1308               	.LBB4:
 1309               	.LBB5:
 497:../../../src/platform/micaZ/source/ulib.c ****     INIT_UART0( baudrate, (UART_OPT_NO_PARITY|UART_OPT_8_BITS_PER_CHAR|UART_OPT_ONE_STOP_BIT));
 1311               	.LM131:
 1312 04c6 9093 9000 		sts 144,r25
 1313 04ca 89B9      		out 41-32,r24
 1314 04cc 86E0      		ldi r24,lo8(6)
 1315 04ce 8093 9500 		sts 149,r24
 1316 04d2 5298      		cbi 42-32,2
 1317 04d4 599A      		sbi 43-32,1
 498:../../../src/platform/micaZ/source/ulib.c ****     ENABLE_UART0();
 1319               	.LM132:
 1320 04d6 8AB1      		in r24,42-32
 1321 04d8 8861      		ori r24,lo8(24)
 1322 04da 8AB9      		out 42-32,r24
 1323               	.LBE5:
 1324               	.LBE4:
 517:../../../src/platform/micaZ/source/ulib.c ****     stdout = fdevopen( putc0, getc0);
 1326               	.LM133:
 1327 04dc 00E0      		ldi r16,lo8(gs(putc0))
 1328 04de 10E0      		ldi r17,hi8(gs(putc0))
 1329 04e0 80E0      		ldi r24,lo8(gs(getc0))
 1330 04e2 E82E      		mov r14,r24
 1331 04e4 80E0      		ldi r24,hi8(gs(getc0))
 1332 04e6 F82E      		mov r15,r24
 1333 04e8 C801      		movw r24,r16
 1334 04ea B701      		movw r22,r14
 1335 04ec 0E94 0000 		call fdevopen
 1336 04f0 9093 0000 		sts (__iob+2)+1,r25
 1337 04f4 8093 0000 		sts __iob+2,r24
 518:../../../src/platform/micaZ/source/ulib.c ****     stdin = fdevopen( putc0, getc0);
 1339               	.LM134:
 1340 04f8 C801      		movw r24,r16
 1341 04fa B701      		movw r22,r14
 1342 04fc 0E94 0000 		call fdevopen
 1343 0500 9093 0000 		sts (__iob)+1,r25
 1344 0504 8093 0000 		sts __iob,r24
 1345               	/* epilogue start */
 530:../../../src/platform/micaZ/source/ulib.c **** }
 1347               	.LM135:
 1348 0508 1F91      		pop r17
 1349 050a 0F91      		pop r16
 1350 050c FF90      		pop r15
 1351 050e EF90      		pop r14
 1352 0510 0895      		ret
 1354               	.Lscope20:
 1356               		.stabd	78,0,0
 1359               	.global	nrk_kprintf
 1361               	nrk_kprintf:
 1362               		.stabd	46,0,0
 137:../../../src/platform/micaZ/source/ulib.c **** {
 1364               	.LM136:
 1365               	.LFBB21:
 1366 0512 CF93      		push r28
 1367 0514 DF93      		push r29
 1368               	/* prologue: function */
 1369               	/* frame size = 0 */
 1370 0516 EC01      		movw r28,r24
 1371 0518 00C0      		rjmp .L143
 1372               	.L144:
 140:../../../src/platform/micaZ/source/ulib.c ****         putchar(c);
 1374               	.LM137:
 1375 051a 6091 0000 		lds r22,__iob+2
 1376 051e 7091 0000 		lds r23,(__iob+2)+1
 1377 0522 90E0      		ldi r25,lo8(0)
 1378 0524 0E94 0000 		call fputc
 1379               	.L143:
 1380 0528 FE01      		movw r30,r28
 1381               	.LBB6:
 139:../../../src/platform/micaZ/source/ulib.c ****     while((c=pgm_read_byte(addr++)))
 1383               	.LM138:
 1384 052a 2196      		adiw r28,1
 1385               	/* #APP */
 1386               	 ;  139 "../../../src/platform/micaZ/source/ulib.c" 1
 1387 052c 8491      		lpm r24, Z
 1388               		
 1389               	 ;  0 "" 2
 1390               	/* #NOAPP */
 1391               	.LBE6:
 1392 052e 8823      		tst r24
 1393 0530 01F4      		brne .L144
 1394               	/* epilogue start */
 141:../../../src/platform/micaZ/source/ulib.c **** }
 1396               	.LM139:
 1397 0532 DF91      		pop r29
 1398 0534 CF91      		pop r28
 1399 0536 0895      		ret
 1405               	.Lscope21:
 1407               		.stabd	78,0,0
 1408               	.global	NRK_LED_0
 1409               		.data
 1412               	NRK_LED_0:
 1413 0000 00        		.skip 1,0
 1414               	.global	NRK_LED_1
 1417               	NRK_LED_1:
 1418 0001 08        		.byte	8
 1419               	.global	NRK_LED_2
 1422               	NRK_LED_2:
 1423 0002 10        		.byte	16
 1424               	.global	NRK_VREG_EN
 1427               	NRK_VREG_EN:
 1428 0003 28        		.byte	40
 1429               	.global	NRK_RESET_N
 1432               	NRK_RESET_N:
 1433 0004 30        		.byte	48
 1434               	.global	NRK_CSN
 1437               	NRK_CSN:
 1438 0005 01        		.byte	1
 1439               	.global	NRK_SCK
 1442               	NRK_SCK:
 1443 0006 09        		.byte	9
 1444               	.global	NRK_MOSI
 1447               	NRK_MOSI:
 1448 0007 11        		.byte	17
 1449               	.global	NRK_MISO
 1452               	NRK_MISO:
 1453 0008 19        		.byte	25
 1454               	.global	NRK_FIFO
 1457               	NRK_FIFO:
 1458 0009 39        		.byte	57
 1459               	.global	NRK_UART1_RXD
 1462               	NRK_UART1_RXD:
 1463 000a 13        		.byte	19
 1464               	.global	NRK_UART1_TXD
 1467               	NRK_UART1_TXD:
 1468 000b 1B        		.byte	27
 1469               	.global	NRK_SFD
 1472               	NRK_SFD:
 1473 000c 23        		.byte	35
 1474               	.global	NRK_UART1_RTS
 1477               	NRK_UART1_RTS:
 1478 000d 2B        		.byte	43
 1479               	.global	NRK_CCA
 1482               	NRK_CCA:
 1483 000e 33        		.byte	51
 1484               	.global	NRK_UART1_CTS
 1487               	NRK_UART1_CTS:
 1488 000f 3B        		.byte	59
 1489               	.global	NRK_UART0_RXD
 1492               	NRK_UART0_RXD:
 1493 0010 04        		.byte	4
 1494               	.global	NRK_UART0_TXD
 1497               	NRK_UART0_TXD:
 1498 0011 0C        		.byte	12
 1499               	.global	NRK_FIFOP
 1502               	NRK_FIFOP:
 1503 0012 34        		.byte	52
 1504               	.global	NRK_ADC_INPUT_0
 1507               	NRK_ADC_INPUT_0:
 1508 0013 05        		.byte	5
 1509               	.global	NRK_ADC_INPUT_1
 1512               	NRK_ADC_INPUT_1:
 1513 0014 0D        		.byte	13
 1514               	.global	NRK_ADC_INPUT_2
 1517               	NRK_ADC_INPUT_2:
 1518 0015 15        		.byte	21
 1519               	.global	NRK_ADC_INPUT_3
 1522               	NRK_ADC_INPUT_3:
 1523 0016 1D        		.byte	29
 1524               	.global	NRK_ADC_INPUT_6
 1527               	NRK_ADC_INPUT_6:
 1528 0017 35        		.byte	53
 1529               	.global	NRK_ADC_INPUT_7
 1532               	NRK_ADC_INPUT_7:
 1533 0018 3D        		.byte	61
 1534               	.global	NRK_DEBUG_0
 1537               	NRK_DEBUG_0:
 1538 0019 0A        		.byte	10
 1539               	.global	NRK_DEBUG_1
 1542               	NRK_DEBUG_1:
 1543 001a 12        		.byte	18
 1544               	.global	NRK_DEBUG_2
 1547               	NRK_DEBUG_2:
 1548 001b FF        		.byte	-1
 1549               	.global	NRK_DEBUG_3
 1552               	NRK_DEBUG_3:
 1553 001c FF        		.byte	-1
 1554               	.global	NRK_LED_3
 1557               	NRK_LED_3:
 1558 001d FF        		.byte	-1
 1559               	.global	NRK_BLED
 1562               	NRK_BLED:
 1563 001e FF        		.byte	-1
 1564               	.global	NRK_SPI_SS
 1567               	NRK_SPI_SS:
 1568 001f FF        		.byte	-1
 1569               	.global	NRK_GPIO26
 1572               	NRK_GPIO26:
 1573 0020 FF        		.byte	-1
 1574               	.global	NRK_GPIO28
 1577               	NRK_GPIO28:
 1578 0021 FF        		.byte	-1
 1579               	.global	NRK_GPIO34
 1582               	NRK_GPIO34:
 1583 0022 FF        		.byte	-1
 1584               		.comm _nrk_signal_list,4,1
 1585               		.comm error_task,1,1
 1586               		.comm error_num,1,1
 1625               		.text
 1627               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 ulib.c
     /tmp/ccH5tsS3.s:2      *ABS*:0000003f __SREG__
     /tmp/ccH5tsS3.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccH5tsS3.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccH5tsS3.s:5      *ABS*:00000034 __CCP__
     /tmp/ccH5tsS3.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccH5tsS3.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccH5tsS3.s:122    .text:00000000 nrk_uart_rx_signal_get
     /tmp/ccH5tsS3.s:142    .text:00000004 nrk_uart_data_ready
     /tmp/ccH5tsS3.s:184    .text:00000026 getc0
     /tmp/ccH5tsS3.s:213    .text:00000030 nrk_gpio_set
     /tmp/ccH5tsS3.s:332    .text:000000c0 nrk_gpio_clr
     /tmp/ccH5tsS3.s:452    .text:00000152 nrk_gpio_get
     /tmp/ccH5tsS3.s:544    .text:000001b6 nrk_gpio_pullups
     /tmp/ccH5tsS3.s:578    .text:000001ca nrk_gpio_toggle
     /tmp/ccH5tsS3.s:698    .text:0000025a nrk_gpio_direction
     /tmp/ccH5tsS3.s:922    .text:00000376 nrk_get_button
     /tmp/ccH5tsS3.s:942    .text:0000037a nrk_led_toggle
     /tmp/ccH5tsS3.s:988    .text:000003a4 nrk_led_clr
     /tmp/ccH5tsS3.s:1033   .text:000003ce nrk_setup_ports
     /tmp/ccH5tsS3.s:1095   .text:00000416 nrk_led_set
     /tmp/ccH5tsS3.s:1141   .text:00000440 putc0
     /tmp/ccH5tsS3.s:1167   .text:0000044a putc1
     /tmp/ccH5tsS3.s:1196   .text:00000464 setup_uart0
     /tmp/ccH5tsS3.s:1227   .text:0000047c setup_uart1
     /tmp/ccH5tsS3.s:1266   .text:000004a6 getc1
     /tmp/ccH5tsS3.s:1297   .text:000004be nrk_setup_uart
     /tmp/ccH5tsS3.s:1361   .text:00000512 nrk_kprintf
     /tmp/ccH5tsS3.s:1412   .data:00000000 NRK_LED_0
     /tmp/ccH5tsS3.s:1417   .data:00000001 NRK_LED_1
     /tmp/ccH5tsS3.s:1422   .data:00000002 NRK_LED_2
     /tmp/ccH5tsS3.s:1427   .data:00000003 NRK_VREG_EN
     /tmp/ccH5tsS3.s:1432   .data:00000004 NRK_RESET_N
     /tmp/ccH5tsS3.s:1437   .data:00000005 NRK_CSN
     /tmp/ccH5tsS3.s:1442   .data:00000006 NRK_SCK
     /tmp/ccH5tsS3.s:1447   .data:00000007 NRK_MOSI
     /tmp/ccH5tsS3.s:1452   .data:00000008 NRK_MISO
     /tmp/ccH5tsS3.s:1457   .data:00000009 NRK_FIFO
     /tmp/ccH5tsS3.s:1462   .data:0000000a NRK_UART1_RXD
     /tmp/ccH5tsS3.s:1467   .data:0000000b NRK_UART1_TXD
     /tmp/ccH5tsS3.s:1472   .data:0000000c NRK_SFD
     /tmp/ccH5tsS3.s:1477   .data:0000000d NRK_UART1_RTS
     /tmp/ccH5tsS3.s:1482   .data:0000000e NRK_CCA
     /tmp/ccH5tsS3.s:1487   .data:0000000f NRK_UART1_CTS
     /tmp/ccH5tsS3.s:1492   .data:00000010 NRK_UART0_RXD
     /tmp/ccH5tsS3.s:1497   .data:00000011 NRK_UART0_TXD
     /tmp/ccH5tsS3.s:1502   .data:00000012 NRK_FIFOP
     /tmp/ccH5tsS3.s:1507   .data:00000013 NRK_ADC_INPUT_0
     /tmp/ccH5tsS3.s:1512   .data:00000014 NRK_ADC_INPUT_1
     /tmp/ccH5tsS3.s:1517   .data:00000015 NRK_ADC_INPUT_2
     /tmp/ccH5tsS3.s:1522   .data:00000016 NRK_ADC_INPUT_3
     /tmp/ccH5tsS3.s:1527   .data:00000017 NRK_ADC_INPUT_6
     /tmp/ccH5tsS3.s:1532   .data:00000018 NRK_ADC_INPUT_7
     /tmp/ccH5tsS3.s:1537   .data:00000019 NRK_DEBUG_0
     /tmp/ccH5tsS3.s:1542   .data:0000001a NRK_DEBUG_1
     /tmp/ccH5tsS3.s:1547   .data:0000001b NRK_DEBUG_2
     /tmp/ccH5tsS3.s:1552   .data:0000001c NRK_DEBUG_3
     /tmp/ccH5tsS3.s:1557   .data:0000001d NRK_LED_3
     /tmp/ccH5tsS3.s:1562   .data:0000001e NRK_BLED
     /tmp/ccH5tsS3.s:1567   .data:0000001f NRK_SPI_SS
     /tmp/ccH5tsS3.s:1572   .data:00000020 NRK_GPIO26
     /tmp/ccH5tsS3.s:1577   .data:00000021 NRK_GPIO28
     /tmp/ccH5tsS3.s:1582   .data:00000022 NRK_GPIO34
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
fdevopen
__iob
fputc
