   1               		.file	"basic_rf.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  12               		.text
  13               	.Ltext0:
 136               	.global	rf_power_down
 138               	rf_power_down:
 139               		.stabd	46,0,0
   0:../../../src/radio/cc2420/source/basic_rf.c **** /******************************************************************************
   1:../../../src/radio/cc2420/source/basic_rf.c **** *  Nano-RK, a real-time operating system for sensor networks.
   2:../../../src/radio/cc2420/source/basic_rf.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   3:../../../src/radio/cc2420/source/basic_rf.c **** *  All rights reserved.
   4:../../../src/radio/cc2420/source/basic_rf.c **** *
   5:../../../src/radio/cc2420/source/basic_rf.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   6:../../../src/radio/cc2420/source/basic_rf.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   7:../../../src/radio/cc2420/source/basic_rf.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   8:../../../src/radio/cc2420/source/basic_rf.c **** *
   9:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is free software: you can redistribute it and/or modify
  10:../../../src/radio/cc2420/source/basic_rf.c **** *  it under the terms of the GNU General Public License as published by
  11:../../../src/radio/cc2420/source/basic_rf.c **** *  the Free Software Foundation, version 2.0 of the License.
  12:../../../src/radio/cc2420/source/basic_rf.c **** *
  13:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is distributed in the hope that it will be useful,
  14:../../../src/radio/cc2420/source/basic_rf.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:../../../src/radio/cc2420/source/basic_rf.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:../../../src/radio/cc2420/source/basic_rf.c **** *  GNU General Public License for more details.
  17:../../../src/radio/cc2420/source/basic_rf.c **** *
  18:../../../src/radio/cc2420/source/basic_rf.c **** *  You should have received a copy of the GNU General Public License
  19:../../../src/radio/cc2420/source/basic_rf.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  20:../../../src/radio/cc2420/source/basic_rf.c **** *
  21:../../../src/radio/cc2420/source/basic_rf.c **** *  Contributing Authors (specific to this file):
  22:../../../src/radio/cc2420/source/basic_rf.c **** *  Chipcon Development Team
  23:../../../src/radio/cc2420/source/basic_rf.c **** *  Anthony Rowe
  24:../../../src/radio/cc2420/source/basic_rf.c **** *  Nuno Pereira
  25:../../../src/radio/cc2420/source/basic_rf.c **** *  Bach Bui
  26:../../../src/radio/cc2420/source/basic_rf.c **** *******************************************************************************/
  27:../../../src/radio/cc2420/source/basic_rf.c **** 
  28:../../../src/radio/cc2420/source/basic_rf.c **** #include <include.h>
  29:../../../src/radio/cc2420/source/basic_rf.c **** #include <basic_rf.h>
  30:../../../src/radio/cc2420/source/basic_rf.c **** #include <ulib.h>
  31:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk.h>
  32:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_events.h>
  33:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_error.h>
  34:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_timer.h>
  35:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_cpu.h>
  36:../../../src/radio/cc2420/source/basic_rf.c **** 
  37:../../../src/radio/cc2420/source/basic_rf.c **** #define OSC_STARTUP_DELAY	1000
  38:../../../src/radio/cc2420/source/basic_rf.c **** 
  39:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_rx()
  40:../../../src/radio/cc2420/source/basic_rf.c **** {
  41:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
  42:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_clr(NRK_DEBUG_0);
  43:../../../src/radio/cc2420/source/basic_rf.c **** }
  44:../../../src/radio/cc2420/source/basic_rf.c **** 
  45:../../../src/radio/cc2420/source/basic_rf.c **** 
  46:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_tx()
  47:../../../src/radio/cc2420/source/basic_rf.c **** {
  48:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
  49:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_0);
  50:../../../src/radio/cc2420/source/basic_rf.c **** }
  51:../../../src/radio/cc2420/source/basic_rf.c **** 
  52:../../../src/radio/cc2420/source/basic_rf.c **** 
  53:../../../src/radio/cc2420/source/basic_rf.c **** //#ifndef RADIO_PRIORITY_CEILING
  54:../../../src/radio/cc2420/source/basic_rf.c **** //  #define RADIO_PRIORITY_CEILING	20
  55:../../../src/radio/cc2420/source/basic_rf.c **** //#endif
  56:../../../src/radio/cc2420/source/basic_rf.c **** 
  57:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t *radio_sem;
  58:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t auto_ack_enable;
  59:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t security_enable;
  60:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t last_pkt_encrypted;
  61:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t mdmctrl0;
  62:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t tx_ctr[4];
  63:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rx_ctr[4];
  64:../../../src/radio/cc2420/source/basic_rf.c **** 
  65:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_down()
  66:../../../src/radio/cc2420/source/basic_rf.c **** {
 141               	.LM0:
 142               	.LFBB1:
 143               	/* prologue: function */
 144               	/* frame size = 0 */
  67:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 146               	.LM1:
 147               	/* #APP */
 148               	 ;  68 "../../../src/radio/cc2420/source/basic_rf.c" 1
 149 0000 F894      		cli
 150               		
 151               	 ;  0 "" 2
  68:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 153               	.LM2:
 154               	/* #NOAPP */
 155 0002 C098      		cbi 56-32,0
 156 0004 87E0      		ldi r24,lo8(7)
 157 0006 8FB9      		out 47-32,r24
 158               	.L2:
 159 0008 779B      		sbis 46-32,7
 160 000a 00C0      		rjmp .L2
 161 000c C09A      		sbi 56-32,0
  69:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 163               	.LM3:
 164 000e C098      		cbi 56-32,0
 165 0010 86E0      		ldi r24,lo8(6)
 166 0012 8FB9      		out 47-32,r24
 167               	.L3:
 168 0014 779B      		sbis 46-32,7
 169 0016 00C0      		rjmp .L3
 170 0018 C09A      		sbi 56-32,0
  70:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 172               	.LM4:
 173               	/* #APP */
 174               	 ;  71 "../../../src/radio/cc2420/source/basic_rf.c" 1
 175 001a 7894      		sei
 176               		
 177               	 ;  0 "" 2
 178               	/* epilogue start */
  71:../../../src/radio/cc2420/source/basic_rf.c **** }
 180               	.LM5:
 181               	/* #NOAPP */
 182 001c 0895      		ret
 184               	.Lscope1:
 186               		.stabd	78,0,0
 188               	.global	rf_security_last_pkt_status
 190               	rf_security_last_pkt_status:
 191               		.stabd	46,0,0
  72:../../../src/radio/cc2420/source/basic_rf.c **** 
  73:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_up()
  74:../../../src/radio/cc2420/source/basic_rf.c **** {
  75:../../../src/radio/cc2420/source/basic_rf.c **** 
  76:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
  77:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
  78:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
  79:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
  80:../../../src/radio/cc2420/source/basic_rf.c **** 
  81:../../../src/radio/cc2420/source/basic_rf.c **** }
  82:../../../src/radio/cc2420/source/basic_rf.c **** 
  83:../../../src/radio/cc2420/source/basic_rf.c **** 
  84:../../../src/radio/cc2420/source/basic_rf.c **** // Returns 1 if the last packet was encrypted, 0 otherwise
  85:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_security_last_pkt_status()
  86:../../../src/radio/cc2420/source/basic_rf.c **** {
 193               	.LM6:
 194               	.LFBB2:
 195               	/* prologue: function */
 196               	/* frame size = 0 */
  87:../../../src/radio/cc2420/source/basic_rf.c ****     return last_pkt_encrypted;
  88:../../../src/radio/cc2420/source/basic_rf.c **** }
 198               	.LM7:
 199 001e 8091 0000 		lds r24,last_pkt_encrypted
 200               	/* epilogue start */
 201 0022 0895      		ret
 203               	.Lscope2:
 205               		.stabd	78,0,0
 208               	.global	rf_security_set_ctr_counter
 210               	rf_security_set_ctr_counter:
 211               		.stabd	46,0,0
  89:../../../src/radio/cc2420/source/basic_rf.c **** 
  90:../../../src/radio/cc2420/source/basic_rf.c **** 
  91:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_ctr_counter(uint8_t *counter)
  92:../../../src/radio/cc2420/source/basic_rf.c **** {
 213               	.LM8:
 214               	.LFBB3:
 215               	/* prologue: function */
 216               	/* frame size = 0 */
 217 0024 DC01      		movw r26,r24
  93:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
  94:../../../src/radio/cc2420/source/basic_rf.c **** // CTR counter value
  95:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[0],(CC2420RAM_TXNONCE+9),2,n);
 219               	.LM9:
 220 0026 C098      		cbi 56-32,0
 221 0028 89EC      		ldi r24,lo8(-55)
 222 002a 8FB9      		out 47-32,r24
 223               	.L10:
 224 002c 779B      		sbis 46-32,7
 225 002e 00C0      		rjmp .L10
 226 0030 80E8      		ldi r24,lo8(-128)
 227 0032 8FB9      		out 47-32,r24
 228               	.L11:
 229 0034 779B      		sbis 46-32,7
 230 0036 00C0      		rjmp .L11
 231 0038 92E0      		ldi r25,lo8(2)
 232               	.L13:
 233 003a 9150      		subi r25,lo8(-(-1))
 234 003c FD01      		movw r30,r26
 235 003e E90F      		add r30,r25
 236 0040 F11D      		adc r31,__zero_reg__
 237 0042 8081      		ld r24,Z
 238 0044 8FB9      		out 47-32,r24
 239               	.L12:
 240 0046 779B      		sbis 46-32,7
 241 0048 00C0      		rjmp .L12
 242 004a 9923      		tst r25
 243 004c 01F4      		brne .L13
 244 004e C09A      		sbi 56-32,0
  96:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[2],(CC2420RAM_TXNONCE+11),2,n);
 246               	.LM10:
 247 0050 C098      		cbi 56-32,0
 248 0052 8BEC      		ldi r24,lo8(-53)
 249 0054 8FB9      		out 47-32,r24
 250               	.L14:
 251 0056 779B      		sbis 46-32,7
 252 0058 00C0      		rjmp .L14
 253 005a 80E8      		ldi r24,lo8(-128)
 254 005c 8FB9      		out 47-32,r24
 255               	.L15:
 256 005e 779B      		sbis 46-32,7
 257 0060 00C0      		rjmp .L15
 258 0062 92E0      		ldi r25,lo8(2)
 259               	.L17:
 260 0064 9150      		subi r25,lo8(-(-1))
 261 0066 FD01      		movw r30,r26
 262 0068 E90F      		add r30,r25
 263 006a F11D      		adc r31,__zero_reg__
 264 006c 8281      		ldd r24,Z+2
 265 006e 8FB9      		out 47-32,r24
 266               	.L16:
 267 0070 779B      		sbis 46-32,7
 268 0072 00C0      		rjmp .L16
 269 0074 9923      		tst r25
 270 0076 01F4      		brne .L17
 271 0078 C09A      		sbi 56-32,0
  97:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[0]=counter[0];
 273               	.LM11:
 274 007a 8C91      		ld r24,X
 275 007c 8093 0000 		sts tx_ctr,r24
  98:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[1]=counter[1];
 277               	.LM12:
 278 0080 1196      		adiw r26,1
 279 0082 8C91      		ld r24,X
 280 0084 1197      		sbiw r26,1
 281 0086 8093 0000 		sts tx_ctr+1,r24
  99:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[2]=counter[2];
 283               	.LM13:
 284 008a 1296      		adiw r26,2
 285 008c 8C91      		ld r24,X
 286 008e 1297      		sbiw r26,2
 287 0090 8093 0000 		sts tx_ctr+2,r24
 100:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[3]=counter[3];
 289               	.LM14:
 290 0094 1396      		adiw r26,3
 291 0096 8C91      		ld r24,X
 292 0098 8093 0000 		sts tx_ctr+3,r24
 293               	/* epilogue start */
 101:../../../src/radio/cc2420/source/basic_rf.c **** }
 295               	.LM15:
 296 009c 0895      		ret
 301               	.Lscope3:
 303               		.stabd	78,0,0
 306               	.global	rf_security_enable
 308               	rf_security_enable:
 309               		.stabd	46,0,0
 102:../../../src/radio/cc2420/source/basic_rf.c **** 
 103:../../../src/radio/cc2420/source/basic_rf.c **** 
 104:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 105:../../../src/radio/cc2420/source/basic_rf.c **** {
 106:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n,i;
 107:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t key_buf;
 108:../../../src/radio/cc2420/source/basic_rf.c **** 
 109:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES key
 110:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 111:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 112:../../../src/radio/cc2420/source/basic_rf.c ****     {
 113:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 114:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 115:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n);
 116:../../../src/radio/cc2420/source/basic_rf.c ****     }
 117:../../../src/radio/cc2420/source/basic_rf.c **** 
 118:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES nonce to all zeros
 119:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 120:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 121:../../../src/radio/cc2420/source/basic_rf.c ****     {
 122:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=0;
 123:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+(i*2)),2,n);
 124:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+(i*2)),2,n);
 125:../../../src/radio/cc2420/source/basic_rf.c ****     }
 126:../../../src/radio/cc2420/source/basic_rf.c ****     // block counter set 1
 127:../../../src/radio/cc2420/source/basic_rf.c ****     key_buf=1;
 128:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+14),2,n);
 129:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+14),2,n);
 130:../../../src/radio/cc2420/source/basic_rf.c **** }
 131:../../../src/radio/cc2420/source/basic_rf.c **** 
 132:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_enable(uint8_t *key)
 133:../../../src/radio/cc2420/source/basic_rf.c **** {
 311               	.LM16:
 312               	.LFBB4:
 313               	/* prologue: function */
 314               	/* frame size = 0 */
 134:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x0306); // Enable CTR encryption with key 0
 316               	.LM17:
 317 009e C098      		cbi 56-32,0
 318 00a0 89E1      		ldi r24,lo8(25)
 319 00a2 8FB9      		out 47-32,r24
 320               	.L28:
 321 00a4 779B      		sbis 46-32,7
 322 00a6 00C0      		rjmp .L28
 323 00a8 83E0      		ldi r24,lo8(3)
 324 00aa 8FB9      		out 47-32,r24
 325               	.L29:
 326 00ac 779B      		sbis 46-32,7
 327 00ae 00C0      		rjmp .L29
 328 00b0 86E0      		ldi r24,lo8(6)
 329 00b2 8FB9      		out 47-32,r24
 330               	.L30:
 331 00b4 779B      		sbis 46-32,7
 332 00b6 00C0      		rjmp .L30
 333 00b8 C09A      		sbi 56-32,0
 135:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL1, 0x0e0e); // Encrypt / Decrypt 18 bytes into header
 335               	.LM18:
 336 00ba C098      		cbi 56-32,0
 337 00bc 8AE1      		ldi r24,lo8(26)
 338 00be 8FB9      		out 47-32,r24
 339               	.L31:
 340 00c0 779B      		sbis 46-32,7
 341 00c2 00C0      		rjmp .L31
 342 00c4 8EE0      		ldi r24,lo8(14)
 343 00c6 8FB9      		out 47-32,r24
 344               	.L32:
 345 00c8 779B      		sbis 46-32,7
 346 00ca 00C0      		rjmp .L32
 347 00cc 8EE0      		ldi r24,lo8(14)
 348 00ce 8FB9      		out 47-32,r24
 349               	.L33:
 350 00d0 779B      		sbis 46-32,7
 351 00d2 00C0      		rjmp .L33
 352 00d4 C09A      		sbi 56-32,0
 136:../../../src/radio/cc2420/source/basic_rf.c **** 
 137:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=1;
 354               	.LM19:
 355 00d6 81E0      		ldi r24,lo8(1)
 356 00d8 8093 0000 		sts security_enable,r24
 357               	/* epilogue start */
 138:../../../src/radio/cc2420/source/basic_rf.c **** }
 359               	.LM20:
 360 00dc 0895      		ret
 362               	.Lscope4:
 364               		.stabd	78,0,0
 366               	.global	rf_security_disable
 368               	rf_security_disable:
 369               		.stabd	46,0,0
 139:../../../src/radio/cc2420/source/basic_rf.c **** 
 140:../../../src/radio/cc2420/source/basic_rf.c **** 
 141:../../../src/radio/cc2420/source/basic_rf.c **** 
 142:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_disable()
 143:../../../src/radio/cc2420/source/basic_rf.c **** {
 371               	.LM21:
 372               	.LFBB5:
 373               	/* prologue: function */
 374               	/* frame size = 0 */
 144:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security enable"
 376               	.LM22:
 377 00de C098      		cbi 56-32,0
 378 00e0 89E1      		ldi r24,lo8(25)
 379 00e2 8FB9      		out 47-32,r24
 380               	.L42:
 381 00e4 779B      		sbis 46-32,7
 382 00e6 00C0      		rjmp .L42
 383 00e8 81E0      		ldi r24,lo8(1)
 384 00ea 8FB9      		out 47-32,r24
 385               	.L43:
 386 00ec 779B      		sbis 46-32,7
 387 00ee 00C0      		rjmp .L43
 388 00f0 84EC      		ldi r24,lo8(-60)
 389 00f2 8FB9      		out 47-32,r24
 390               	.L44:
 391 00f4 779B      		sbis 46-32,7
 392 00f6 00C0      		rjmp .L44
 393 00f8 C09A      		sbi 56-32,0
 145:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 395               	.LM23:
 396 00fa 1092 0000 		sts security_enable,__zero_reg__
 397               	/* epilogue start */
 146:../../../src/radio/cc2420/source/basic_rf.c **** }
 399               	.LM24:
 400 00fe 0895      		ret
 402               	.Lscope5:
 404               		.stabd	78,0,0
 406               	.global	rf_get_sem
 408               	rf_get_sem:
 409               		.stabd	46,0,0
 147:../../../src/radio/cc2420/source/basic_rf.c **** 
 148:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 149:../../../src/radio/cc2420/source/basic_rf.c **** // The RF settings structure is declared here, since we'll always need halRfInit()
 150:../../../src/radio/cc2420/source/basic_rf.c **** volatile RF_SETTINGS rfSettings;
 151:../../../src/radio/cc2420/source/basic_rf.c **** volatile uint8_t rx_ready;
 152:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 153:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t* rf_get_sem()
 154:../../../src/radio/cc2420/source/basic_rf.c **** {
 411               	.LM25:
 412               	.LFBB6:
 413               	/* prologue: function */
 414               	/* frame size = 0 */
 155:../../../src/radio/cc2420/source/basic_rf.c ****     return radio_sem;
 156:../../../src/radio/cc2420/source/basic_rf.c **** }
 416               	.LM26:
 417 0100 8091 0000 		lds r24,radio_sem
 418 0104 9091 0000 		lds r25,radio_sem+1
 419               	/* epilogue start */
 420 0108 0895      		ret
 422               	.Lscope6:
 424               		.stabd	78,0,0
 427               	.global	rf_tx_power
 429               	rf_tx_power:
 430               		.stabd	46,0,0
 157:../../../src/radio/cc2420/source/basic_rf.c **** 
 158:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_power(uint8_t pwr)
 159:../../../src/radio/cc2420/source/basic_rf.c **** {
 432               	.LM27:
 433               	.LFBB7:
 434               	/* prologue: function */
 435               	/* frame size = 0 */
 160:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t tmp;
 161:../../../src/radio/cc2420/source/basic_rf.c ****     //tmp=0x5070;
 162:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 163:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 164:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 165:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=0xA0E0;
 166:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=tmp | (pwr&0x1F);
 437               	.LM28:
 438 010a 282F      		mov r18,r24
 439 010c 30E0      		ldi r19,lo8(0)
 440 010e 2F71      		andi r18,lo8(31)
 441 0110 3070      		andi r19,hi8(31)
 442 0112 206E      		ori r18,lo8(-24352)
 443 0114 306A      		ori r19,hi8(-24352)
 167:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_TXCTRL, tmp);   // Set the FIFOP threshold to maximum
 445               	.LM29:
 446 0116 C098      		cbi 56-32,0
 447 0118 85E1      		ldi r24,lo8(21)
 448 011a 8FB9      		out 47-32,r24
 449               	.L52:
 450 011c 779B      		sbis 46-32,7
 451 011e 00C0      		rjmp .L52
 452 0120 3FB9      		out 47-32,r19
 453               	.L53:
 454 0122 779B      		sbis 46-32,7
 455 0124 00C0      		rjmp .L53
 456 0126 2FB9      		out 47-32,r18
 457               	.L54:
 458 0128 779B      		sbis 46-32,7
 459 012a 00C0      		rjmp .L54
 460 012c C09A      		sbi 56-32,0
 461               	/* epilogue start */
 168:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 169:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 170:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 171:../../../src/radio/cc2420/source/basic_rf.c **** }
 463               	.LM30:
 464 012e 0895      		ret
 469               	.Lscope7:
 471               		.stabd	78,0,0
 473               	.global	rf_addr_decode_enable
 475               	rf_addr_decode_enable:
 476               		.stabd	46,0,0
 172:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_channel( uint8_t channel )
 173:../../../src/radio/cc2420/source/basic_rf.c **** {
 174:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 175:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 176:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 177:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 178:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 179:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 180:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 181:../../../src/radio/cc2420/source/basic_rf.c **** }
 182:../../../src/radio/cc2420/source/basic_rf.c **** 
 183:../../../src/radio/cc2420/source/basic_rf.c **** 
 184:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_enable()
 185:../../../src/radio/cc2420/source/basic_rf.c **** {
 478               	.LM31:
 479               	.LFBB8:
 480               	/* prologue: function */
 481               	/* frame size = 0 */
 186:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0800;
 483               	.LM32:
 484 0130 2091 0000 		lds r18,mdmctrl0
 485 0134 3091 0000 		lds r19,(mdmctrl0)+1
 486 0138 3860      		ori r19,hi8(2048)
 487 013a 3093 0000 		sts (mdmctrl0)+1,r19
 488 013e 2093 0000 		sts mdmctrl0,r18
 187:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 490               	.LM33:
 491 0142 C098      		cbi 56-32,0
 492 0144 81E1      		ldi r24,lo8(17)
 493 0146 8FB9      		out 47-32,r24
 494               	.L60:
 495 0148 779B      		sbis 46-32,7
 496 014a 00C0      		rjmp .L60
 497 014c 3FB9      		out 47-32,r19
 498               	.L61:
 499 014e 779B      		sbis 46-32,7
 500 0150 00C0      		rjmp .L61
 501 0152 2FB9      		out 47-32,r18
 502               	.L62:
 503 0154 779B      		sbis 46-32,7
 504 0156 00C0      		rjmp .L62
 505 0158 C09A      		sbi 56-32,0
 506               	/* epilogue start */
 188:../../../src/radio/cc2420/source/basic_rf.c **** }
 508               	.LM34:
 509 015a 0895      		ret
 511               	.Lscope8:
 513               		.stabd	78,0,0
 515               	.global	rf_addr_decode_disable
 517               	rf_addr_decode_disable:
 518               		.stabd	46,0,0
 189:../../../src/radio/cc2420/source/basic_rf.c **** 
 190:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_disable()
 191:../../../src/radio/cc2420/source/basic_rf.c **** {
 520               	.LM35:
 521               	.LFBB9:
 522               	/* prologue: function */
 523               	/* frame size = 0 */
 192:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0800);
 525               	.LM36:
 526 015c 2091 0000 		lds r18,mdmctrl0
 527 0160 3091 0000 		lds r19,(mdmctrl0)+1
 528 0164 377F      		andi r19,hi8(-2049)
 529 0166 3093 0000 		sts (mdmctrl0)+1,r19
 530 016a 2093 0000 		sts mdmctrl0,r18
 193:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 532               	.LM37:
 533 016e C098      		cbi 56-32,0
 534 0170 81E1      		ldi r24,lo8(17)
 535 0172 8FB9      		out 47-32,r24
 536               	.L68:
 537 0174 779B      		sbis 46-32,7
 538 0176 00C0      		rjmp .L68
 539 0178 3FB9      		out 47-32,r19
 540               	.L69:
 541 017a 779B      		sbis 46-32,7
 542 017c 00C0      		rjmp .L69
 543 017e 2FB9      		out 47-32,r18
 544               	.L70:
 545 0180 779B      		sbis 46-32,7
 546 0182 00C0      		rjmp .L70
 547 0184 C09A      		sbi 56-32,0
 548               	/* epilogue start */
 194:../../../src/radio/cc2420/source/basic_rf.c **** }
 550               	.LM38:
 551 0186 0895      		ret
 553               	.Lscope9:
 555               		.stabd	78,0,0
 557               	.global	rf_auto_ack_enable
 559               	rf_auto_ack_enable:
 560               		.stabd	46,0,0
 195:../../../src/radio/cc2420/source/basic_rf.c **** 
 196:../../../src/radio/cc2420/source/basic_rf.c **** 
 197:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_enable()
 198:../../../src/radio/cc2420/source/basic_rf.c **** {
 562               	.LM39:
 563               	.LFBB10:
 564               	/* prologue: function */
 565               	/* frame size = 0 */
 199:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=1;
 567               	.LM40:
 568 0188 81E0      		ldi r24,lo8(1)
 569 018a 8093 0000 		sts auto_ack_enable,r24
 200:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0010;
 571               	.LM41:
 572 018e 2091 0000 		lds r18,mdmctrl0
 573 0192 3091 0000 		lds r19,(mdmctrl0)+1
 574 0196 2061      		ori r18,lo8(16)
 575 0198 3093 0000 		sts (mdmctrl0)+1,r19
 576 019c 2093 0000 		sts mdmctrl0,r18
 201:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 578               	.LM42:
 579 01a0 C098      		cbi 56-32,0
 580 01a2 81E1      		ldi r24,lo8(17)
 581 01a4 8FB9      		out 47-32,r24
 582               	.L76:
 583 01a6 779B      		sbis 46-32,7
 584 01a8 00C0      		rjmp .L76
 585 01aa 3FB9      		out 47-32,r19
 586               	.L77:
 587 01ac 779B      		sbis 46-32,7
 588 01ae 00C0      		rjmp .L77
 589 01b0 2FB9      		out 47-32,r18
 590               	.L78:
 591 01b2 779B      		sbis 46-32,7
 592 01b4 00C0      		rjmp .L78
 593 01b6 C09A      		sbi 56-32,0
 594               	/* epilogue start */
 202:../../../src/radio/cc2420/source/basic_rf.c **** }
 596               	.LM43:
 597 01b8 0895      		ret
 599               	.Lscope10:
 601               		.stabd	78,0,0
 603               	.global	rf_auto_ack_disable
 605               	rf_auto_ack_disable:
 606               		.stabd	46,0,0
 203:../../../src/radio/cc2420/source/basic_rf.c **** 
 204:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_disable()
 205:../../../src/radio/cc2420/source/basic_rf.c **** {
 608               	.LM44:
 609               	.LFBB11:
 610               	/* prologue: function */
 611               	/* frame size = 0 */
 206:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 613               	.LM45:
 614 01ba 1092 0000 		sts auto_ack_enable,__zero_reg__
 207:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0010);
 616               	.LM46:
 617 01be 2091 0000 		lds r18,mdmctrl0
 618 01c2 3091 0000 		lds r19,(mdmctrl0)+1
 619 01c6 2F7E      		andi r18,lo8(-17)
 620 01c8 3093 0000 		sts (mdmctrl0)+1,r19
 621 01cc 2093 0000 		sts mdmctrl0,r18
 208:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 623               	.LM47:
 624 01d0 C098      		cbi 56-32,0
 625 01d2 81E1      		ldi r24,lo8(17)
 626 01d4 8FB9      		out 47-32,r24
 627               	.L84:
 628 01d6 779B      		sbis 46-32,7
 629 01d8 00C0      		rjmp .L84
 630 01da 3FB9      		out 47-32,r19
 631               	.L85:
 632 01dc 779B      		sbis 46-32,7
 633 01de 00C0      		rjmp .L85
 634 01e0 2FB9      		out 47-32,r18
 635               	.L86:
 636 01e2 779B      		sbis 46-32,7
 637 01e4 00C0      		rjmp .L86
 638 01e6 C09A      		sbi 56-32,0
 639               	/* epilogue start */
 209:../../../src/radio/cc2420/source/basic_rf.c **** }
 641               	.LM48:
 642 01e8 0895      		ret
 644               	.Lscope11:
 646               		.stabd	78,0,0
 648               	.global	rf_rx_on
 650               	rf_rx_on:
 651               		.stabd	46,0,0
 210:../../../src/radio/cc2420/source/basic_rf.c **** 
 211:../../../src/radio/cc2420/source/basic_rf.c **** 
 212:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 213:../../../src/radio/cc2420/source/basic_rf.c **** {
 214:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 215:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = my_mac;
 216:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 217:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&my_mac, CC2420RAM_SHORTADDR, 2, n);
 218:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 219:../../../src/radio/cc2420/source/basic_rf.c **** }
 220:../../../src/radio/cc2420/source/basic_rf.c **** 
 221:../../../src/radio/cc2420/source/basic_rf.c **** 
 222:../../../src/radio/cc2420/source/basic_rf.c **** 
 223:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_rx(RF_RX_INFO *pRRI, uint8_t channel )
 224:../../../src/radio/cc2420/source/basic_rf.c **** {
 225:../../../src/radio/cc2420/source/basic_rf.c **** 
 226:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 227:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 228:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 229:../../../src/radio/cc2420/source/basic_rf.c **** 
 230:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 231:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 232:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 233:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 234:../../../src/radio/cc2420/source/basic_rf.c **** 
 235:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 236:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 237:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 238:../../../src/radio/cc2420/source/basic_rf.c **** }
 239:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 240:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_init(RF_RX_INFO *pRRI, uint8_t channel, WORD panId, WORD myAddr)
 241:../../../src/radio/cc2420/source/basic_rf.c **** //
 242:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 243:../../../src/radio/cc2420/source/basic_rf.c **** //      Initializes CC2420 for radio communication via the basic RF library functions. Turns on the
 244:../../../src/radio/cc2420/source/basic_rf.c **** //		voltage regulator, resets the CC2420, turns on the crystal oscillator, writes all necessary
 245:../../../src/radio/cc2420/source/basic_rf.c **** //		registers and protocol addresses (for automatic address recognition). Note that the crystal
 246:../../../src/radio/cc2420/source/basic_rf.c **** //		oscillator will remain on (forever).
 247:../../../src/radio/cc2420/source/basic_rf.c **** //
 248:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 249:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_RX_INFO *pRRI
 250:../../../src/radio/cc2420/source/basic_rf.c **** //          A pointer the RF_RX_INFO data structure to be used during the first packet reception.
 251:../../../src/radio/cc2420/source/basic_rf.c **** //			The structure can be switched upon packet reception.
 252:../../../src/radio/cc2420/source/basic_rf.c **** //      uint8_t channel
 253:../../../src/radio/cc2420/source/basic_rf.c **** //          The RF channel to be used (11 = 2405 MHz to 26 = 2480 MHz)
 254:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD panId
 255:../../../src/radio/cc2420/source/basic_rf.c **** //          The personal area network identification number
 256:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD myAddr
 257:../../../src/radio/cc2420/source/basic_rf.c **** //          The 16-bit short address which is used by this node. Must together with the PAN ID form
 258:../../../src/radio/cc2420/source/basic_rf.c **** //			unique 32-bit identifier to avoid addressing conflicts. Normally, in a 802.15.4 network, the
 259:../../../src/radio/cc2420/source/basic_rf.c **** //			short address will be given to associated nodes by the PAN coordinator.
 260:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 261:../../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr)
 262:../../../src/radio/cc2420/source/basic_rf.c **** {
 263:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 264:../../../src/radio/cc2420/source/basic_rf.c **** 
 265:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 266:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t v;
 267:../../../src/radio/cc2420/source/basic_rf.c ****     radio_sem = nrk_sem_create(1,RADIO_PRIORITY_CEILING);
 268:../../../src/radio/cc2420/source/basic_rf.c ****     if (radio_sem == NULL)
 269:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kernel_error_add (NRK_SEMAPHORE_CREATE_ERROR, nrk_get_pid ());
 270:../../../src/radio/cc2420/source/basic_rf.c **** 
 271:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_pend (radio_sem);
 272:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 273:../../../src/radio/cc2420/source/basic_rf.c ****     {
 274:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Access to semaphore failed\r\n"));
 275:../../../src/radio/cc2420/source/basic_rf.c ****     }
 276:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 277:../../../src/radio/cc2420/source/basic_rf.c **** 
 278:../../../src/radio/cc2420/source/basic_rf.c ****     // Make sure that the voltage regulator is on, and that the reset pin is inactive
 279:../../../src/radio/cc2420/source/basic_rf.c ****     SET_VREG_ACTIVE();
 280:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1000);
 281:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_ACTIVE();
 282:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1);
 283:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_INACTIVE();
 284:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(100);
 285:../../../src/radio/cc2420/source/basic_rf.c **** 
 286:../../../src/radio/cc2420/source/basic_rf.c ****     // Initialize the FIFOP external interrupt
 287:../../../src/radio/cc2420/source/basic_rf.c ****     //FIFOP_INT_INIT();
 288:../../../src/radio/cc2420/source/basic_rf.c ****     //ENABLE_FIFOP_INT();
 289:../../../src/radio/cc2420/source/basic_rf.c **** 
 290:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off all interrupts while we're accessing the CC2420 registers
 291:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 292:../../../src/radio/cc2420/source/basic_rf.c **** 
 293:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 294:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0=0x02E2;
 295:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  // Std Preamble, CRC, no auto ack, no hw addr decod
 296:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 297:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn on hw addre decoding
 298:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // Set the correlation threshold = 20
 299:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_IOCFG0, 0x007F);   // Set the FIFOP threshold to maximum
 300:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security"
 301:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RXCTRL1, 0x1A56); // All default except
 302:../../../src/radio/cc2420/source/basic_rf.c ****     // reference bias current to RX
 303:../../../src/radio/cc2420/source/basic_rf.c ****     // bandpass filter is set to 3uA
 304:../../../src/radio/cc2420/source/basic_rf.c **** 
 305:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 306:../../../src/radio/cc2420/source/basic_rf.c ****         // FIXME: remove later for auto ack
 307:../../../src/radio/cc2420/source/basic_rf.c ****         myAddr=MY_MAC;
 308:../../../src/radio/cc2420/source/basic_rf.c ****         panId=0x02;
 309:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 310:../../../src/radio/cc2420/source/basic_rf.c ****     //    FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AE2);  // Turn on automatic packet acknowledgment
 311:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 312:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 313:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 314:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 315:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 316:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 317:../../../src/radio/cc2420/source/basic_rf.c **** 
 318:../../../src/radio/cc2420/source/basic_rf.c ****        printf( "myAddr=%d\r\n",myAddr );
 319:../../../src/radio/cc2420/source/basic_rf.c ****     */
 320:../../../src/radio/cc2420/source/basic_rf.c **** 
 321:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 322:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 323:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 324:../../../src/radio/cc2420/source/basic_rf.c **** 
 325:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 326:../../../src/radio/cc2420/source/basic_rf.c **** 
 327:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the RF channel
 328:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 329:../../../src/radio/cc2420/source/basic_rf.c **** 
 330:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 331:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 332:../../../src/radio/cc2420/source/basic_rf.c **** 
 333:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the protocol configuration
 334:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 335:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.panId = panId;
 336:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = myAddr;
 337:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber = 0;
 338:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 339:../../../src/radio/cc2420/source/basic_rf.c **** 
 340:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the crystal oscillator to become stable
 341:../../../src/radio/cc2420/source/basic_rf.c ****     halRfWaitForCrystalOscillator();
 342:../../../src/radio/cc2420/source/basic_rf.c **** 
 343:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the short address and the PAN ID to the CC2420 RAM (requires that the XOSC is on and s
 344:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_GLOBAL_INT();
 345:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 346:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 347:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_GLOBAL_INT();
 348:../../../src/radio/cc2420/source/basic_rf.c **** 
 349:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 350:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_post (radio_sem);
 351:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 352:../../../src/radio/cc2420/source/basic_rf.c ****     {
 353:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Release of semaphore failed\r\n"));
 354:../../../src/radio/cc2420/source/basic_rf.c ****         _nrk_errno_set (2);
 355:../../../src/radio/cc2420/source/basic_rf.c ****     }
 356:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 357:../../../src/radio/cc2420/source/basic_rf.c **** 
 358:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 359:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 360:../../../src/radio/cc2420/source/basic_rf.c ****     last_pkt_encrypted=0;
 361:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_init()
 362:../../../src/radio/cc2420/source/basic_rf.c **** 
 363:../../../src/radio/cc2420/source/basic_rf.c **** 
 364:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 365:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_on(void)
 366:../../../src/radio/cc2420/source/basic_rf.c **** //
 367:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 368:../../../src/radio/cc2420/source/basic_rf.c **** //      Enables the CC2420 receiver and the FIFOP interrupt. When a packet is received through this
 369:../../../src/radio/cc2420/source/basic_rf.c **** //      interrupt, it will call rf_rx_callback(...), which must be defined by the application
 370:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 371:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_on(void)
 372:../../../src/radio/cc2420/source/basic_rf.c **** {
 653               	.LM49:
 654               	.LFBB12:
 655               	/* prologue: function */
 656               	/* frame size = 0 */
 373:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 374:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 375:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 376:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 658               	.LM50:
 659 01ea 81E0      		ldi r24,lo8(1)
 660 01ec 8093 0000 		sts rfSettings+8,r24
 377:../../../src/radio/cc2420/source/basic_rf.c **** 
 378:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 379:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 380:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 381:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 382:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 662               	.LM51:
 663 01f0 C098      		cbi 56-32,0
 664 01f2 83E0      		ldi r24,lo8(3)
 665 01f4 8FB9      		out 47-32,r24
 666               	.L92:
 667 01f6 779B      		sbis 46-32,7
 668 01f8 00C0      		rjmp .L92
 669 01fa C09A      		sbi 56-32,0
 383:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 671               	.LM52:
 672 01fc C098      		cbi 56-32,0
 673 01fe 88E0      		ldi r24,lo8(8)
 674 0200 8FB9      		out 47-32,r24
 675               	.L93:
 676 0202 779B      		sbis 46-32,7
 677 0204 00C0      		rjmp .L93
 678 0206 C09A      		sbi 56-32,0
 384:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 680               	.LM53:
 681 0208 1092 0000 		sts rx_ready,__zero_reg__
 682               	/* epilogue start */
 385:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 386:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 387:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 388:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_FIFOP_INT();
 389:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 684               	.LM54:
 685 020c 0895      		ret
 687               	.Lscope12:
 689               		.stabd	78,0,0
 691               	.global	rf_polling_rx_on
 693               	rf_polling_rx_on:
 694               		.stabd	46,0,0
 390:../../../src/radio/cc2420/source/basic_rf.c **** 
 391:../../../src/radio/cc2420/source/basic_rf.c **** void rf_polling_rx_on(void)
 392:../../../src/radio/cc2420/source/basic_rf.c **** {
 696               	.LM55:
 697               	.LFBB13:
 698               	/* prologue: function */
 699               	/* frame size = 0 */
 393:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 394:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 395:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 396:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 701               	.LM56:
 702 020e 81E0      		ldi r24,lo8(1)
 703 0210 8093 0000 		sts rfSettings+8,r24
 397:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 398:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 399:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 400:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 401:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 705               	.LM57:
 706 0214 C098      		cbi 56-32,0
 707 0216 83E0      		ldi r24,lo8(3)
 708 0218 8FB9      		out 47-32,r24
 709               	.L98:
 710 021a 779B      		sbis 46-32,7
 711 021c 00C0      		rjmp .L98
 712 021e C09A      		sbi 56-32,0
 402:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 714               	.LM58:
 715 0220 C098      		cbi 56-32,0
 716 0222 88E0      		ldi r24,lo8(8)
 717 0224 8FB9      		out 47-32,r24
 718               	.L99:
 719 0226 779B      		sbis 46-32,7
 720 0228 00C0      		rjmp .L99
 721 022a C09A      		sbi 56-32,0
 403:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 723               	.LM59:
 724 022c 1092 0000 		sts rx_ready,__zero_reg__
 725               	/* epilogue start */
 404:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 405:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 406:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 407:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 727               	.LM60:
 728 0230 0895      		ret
 730               	.Lscope13:
 732               		.stabd	78,0,0
 734               	.global	rf_rx_off
 736               	rf_rx_off:
 737               		.stabd	46,0,0
 408:../../../src/radio/cc2420/source/basic_rf.c **** 
 409:../../../src/radio/cc2420/source/basic_rf.c **** 
 410:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
 411:../../../src/radio/cc2420/source/basic_rf.c **** // Here is a sample of the rf_rx_callback() that should
 412:../../../src/radio/cc2420/source/basic_rf.c **** // be placed in your application
 413:../../../src/radio/cc2420/source/basic_rf.c **** 
 414:../../../src/radio/cc2420/source/basic_rf.c **** RF_RX_INFO* rf_rx_callback(RF_RX_INFO *pRRI) {
 415:../../../src/radio/cc2420/source/basic_rf.c **** 	// Its okay to leave this empty...
 416:../../../src/radio/cc2420/source/basic_rf.c **** 	return pRRI;
 417:../../../src/radio/cc2420/source/basic_rf.c **** }
 418:../../../src/radio/cc2420/source/basic_rf.c **** ***********************************************************/
 419:../../../src/radio/cc2420/source/basic_rf.c **** 
 420:../../../src/radio/cc2420/source/basic_rf.c **** 
 421:../../../src/radio/cc2420/source/basic_rf.c **** 
 422:../../../src/radio/cc2420/source/basic_rf.c **** 
 423:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 424:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_off(void)
 425:../../../src/radio/cc2420/source/basic_rf.c **** //
 426:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 427:../../../src/radio/cc2420/source/basic_rf.c **** //      Disables the CC2420 receiver and the FIFOP interrupt.
 428:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 429:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_off(void)
 430:../../../src/radio/cc2420/source/basic_rf.c **** {
 739               	.LM61:
 740               	.LFBB14:
 741               	/* prologue: function */
 742               	/* frame size = 0 */
 431:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 432:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 433:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 434:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX
 435:../../../src/radio/cc2420/source/basic_rf.c ****     //SET_VREG_INACTIVE();
 436:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 744               	.LM62:
 745 0232 1092 0000 		sts rfSettings+8,__zero_reg__
 437:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);
 747               	.LM63:
 748 0236 C098      		cbi 56-32,0
 749 0238 86E0      		ldi r24,lo8(6)
 750 023a 8FB9      		out 47-32,r24
 751               	.L104:
 752 023c 779B      		sbis 46-32,7
 753 023e 00C0      		rjmp .L104
 754 0240 C09A      		sbi 56-32,0
 438:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 439:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 440:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 441:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 756               	.LM64:
 757 0242 1092 0000 		sts rx_ready,__zero_reg__
 758               	/* epilogue start */
 442:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 443:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 444:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 445:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_FIFOP_INT();
 446:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_off()
 760               	.LM65:
 761 0246 0895      		ret
 763               	.Lscope14:
 765               		.stabd	78,0,0
 767               	.global	rf_busy
 769               	rf_busy:
 770               		.stabd	46,0,0
 447:../../../src/radio/cc2420/source/basic_rf.c **** 
 448:../../../src/radio/cc2420/source/basic_rf.c **** 
 449:../../../src/radio/cc2420/source/basic_rf.c **** /**************************************************************************
 450:../../../src/radio/cc2420/source/basic_rf.c **** This function is the same as normal TX, only it waits until the last
 451:../../../src/radio/cc2420/source/basic_rf.c **** second to send the duty out with the high speed timer.  And by duty, I mean
 452:../../../src/radio/cc2420/source/basic_rf.c **** the packet BIATCH...
 453:../../../src/radio/cc2420/source/basic_rf.c **** **************************************************************************/
 454:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 455:../../../src/radio/cc2420/source/basic_rf.c **** {
 456:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 457:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength;
 458:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 459:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 460:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 461:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t timestamp;
 462:../../../src/radio/cc2420/source/basic_rf.c **** 
 463:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 464:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 465:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 466:../../../src/radio/cc2420/source/basic_rf.c ****     timestamp=_nrk_os_timer_get();
 467:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 468:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 469:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 470:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 471:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 472:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 473:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 474:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 475:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 476:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 477:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 478:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 479:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 480:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 481:../../../src/radio/cc2420/source/basic_rf.c **** 
 482:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 483:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 484:../../../src/radio/cc2420/source/basic_rf.c ****     {
 485:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 486:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 487:../../../src/radio/cc2420/source/basic_rf.c ****     }
 488:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 489:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_set_led(3);
 490:../../../src/radio/cc2420/source/basic_rf.c ****     //do { } while(_nrk_get_high_speed_timer()<(tx_guard_time));
 491:../../../src/radio/cc2420/source/basic_rf.c **** 
 492:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 493:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 494:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a higher layer since they assume TDMA
 495:../../../src/radio/cc2420/source/basic_rf.c **** 
 496:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 497:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = pRTI->ackRequest ? RF_FCF_ACK : RF_FCF_NOACK;
 498:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 499:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 500:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 501:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 502:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 503:../../../src/radio/cc2420/source/basic_rf.c **** 
 504:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_high_speed_timer_wait(slot_start_time,tx_guard_time);
 505:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_clr_led(3);
 506:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 507:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 508:../../../src/radio/cc2420/source/basic_rf.c ****      nrk_set_led(3);
 509:../../../src/radio/cc2420/source/basic_rf.c ****     last=0;
 510:../../../src/radio/cc2420/source/basic_rf.c ****     do {
 511:../../../src/radio/cc2420/source/basic_rf.c ****     if(last==_nrk_get_high_speed_timer())
 512:../../../src/radio/cc2420/source/basic_rf.c ****     	{
 513:../../../src/radio/cc2420/source/basic_rf.c ****     	//while(1)
 514:../../../src/radio/cc2420/source/basic_rf.c ****     	//printf( "TX ERROR %d vs %d\r\n",_nrk_get_high_speed_timer(),tx_guard_time );
 515:../../../src/radio/cc2420/source/basic_rf.c ****     	break;
 516:../../../src/radio/cc2420/source/basic_rf.c ****     	}
 517:../../../src/radio/cc2420/source/basic_rf.c ****     last=_nrk_get_high_speed_timer();
 518:../../../src/radio/cc2420/source/basic_rf.c ****     }
 519:../../../src/radio/cc2420/source/basic_rf.c ****     while((volatile)last<(tx_guard_time));
 520:../../../src/radio/cc2420/source/basic_rf.c **** 
 521:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 522:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_clr_led(3);
 523:../../../src/radio/cc2420/source/basic_rf.c ****     */
 524:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 525:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 526:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 527:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 528:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 529:../../../src/radio/cc2420/source/basic_rf.c **** 
 530:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 531:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 532:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 533:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 534:../../../src/radio/cc2420/source/basic_rf.c **** 
 535:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 536:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 537:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 538:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 539:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 540:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 541:../../../src/radio/cc2420/source/basic_rf.c ****     */
 542:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 543:../../../src/radio/cc2420/source/basic_rf.c ****     {
 544:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 545:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 546:../../../src/radio/cc2420/source/basic_rf.c ****         {
 547:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 548:../../../src/radio/cc2420/source/basic_rf.c ****         }
 549:../../../src/radio/cc2420/source/basic_rf.c **** 
 550:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 551:../../../src/radio/cc2420/source/basic_rf.c ****         do
 552:../../../src/radio/cc2420/source/basic_rf.c ****         {
 553:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 554:../../../src/radio/cc2420/source/basic_rf.c ****         }
 555:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 556:../../../src/radio/cc2420/source/basic_rf.c **** 
 557:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 558:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 559:../../../src/radio/cc2420/source/basic_rf.c ****         do
 560:../../../src/radio/cc2420/source/basic_rf.c ****         {
 561:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 562:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 563:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 564:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 565:../../../src/radio/cc2420/source/basic_rf.c ****             {
 566:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 567:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 568:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 569:../../../src/radio/cc2420/source/basic_rf.c ****             }
 570:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 571:../../../src/radio/cc2420/source/basic_rf.c ****         }
 572:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 573:../../../src/radio/cc2420/source/basic_rf.c ****     }
 574:../../../src/radio/cc2420/source/basic_rf.c ****     else
 575:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 576:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_gpio_set(DEBUG_0);
 577:../../../src/radio/cc2420/source/basic_rf.c **** 
 578:../../../src/radio/cc2420/source/basic_rf.c **** 
 579:../../../src/radio/cc2420/source/basic_rf.c ****     // Fill in the rest of the packet now
 580:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 581:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 582:../../../src/radio/cc2420/source/basic_rf.c **** 
 583:../../../src/radio/cc2420/source/basic_rf.c **** 
 584:../../../src/radio/cc2420/source/basic_rf.c **** 
 585:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_spin_wait_us(200);
 586:../../../src/radio/cc2420/source/basic_rf.c **** //  FASTSPI_STROBE(CC2420_STXON);
 587:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 588:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 589:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 590:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 591:../../../src/radio/cc2420/source/basic_rf.c **** 
 592:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 593:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 594:../../../src/radio/cc2420/source/basic_rf.c **** 
 595:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 596:../../../src/radio/cc2420/source/basic_rf.c ****     /*if (pRTI->ackRequest) {
 597:../../../src/radio/cc2420/source/basic_rf.c ****     	rfSettings.ackReceived = FALSE;
 598:../../../src/radio/cc2420/source/basic_rf.c **** 
 599:../../../src/radio/cc2420/source/basic_rf.c ****     	// Wait for the SFD to go low again
 600:../../../src/radio/cc2420/source/basic_rf.c ****     	while (SFD_IS_1);
 601:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the ack reception s
 602:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration, and a smal
 603:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 604:../../../src/radio/cc2420/source/basic_rf.c **** 
 605:../../../src/radio/cc2420/source/basic_rf.c ****     	// If an acknowledgment has been received (by the FIFOP interrupt), the ackReceived flag shoul
 606:../../../src/radio/cc2420/source/basic_rf.c ****     	success = rfSettings.ackReceived;
 607:../../../src/radio/cc2420/source/basic_rf.c ****     }*/
 608:../../../src/radio/cc2420/source/basic_rf.c **** 
 609:../../../src/radio/cc2420/source/basic_rf.c **** 
 610:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 611:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 612:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX hack, temp out
 613:../../../src/radio/cc2420/source/basic_rf.c ****     //if (!rfSettings.receiveOn) { while (SFD_IS_1); /*FASTSPI_STROBE(CC2420_SRFOFF);*/ }
 614:../../../src/radio/cc2420/source/basic_rf.c ****     // while (SFD_IS_1);
 615:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 616:../../../src/radio/cc2420/source/basic_rf.c **** 
 617:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 618:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 619:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 620:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 621:../../../src/radio/cc2420/source/basic_rf.c **** 
 622:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 623:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 624:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 625:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 626:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 627:../../../src/radio/cc2420/source/basic_rf.c **** 
 628:../../../src/radio/cc2420/source/basic_rf.c **** 
 629:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 630:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 631:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 632:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 633:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 634:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 635:../../../src/radio/cc2420/source/basic_rf.c **** 
 636:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 637:../../../src/radio/cc2420/source/basic_rf.c **** 
 638:../../../src/radio/cc2420/source/basic_rf.c **** }
 639:../../../src/radio/cc2420/source/basic_rf.c **** 
 640:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 641:../../../src/radio/cc2420/source/basic_rf.c **** //  BYTE rf_tx_packet(RF_TX_INFO *pRTI)
 642:../../../src/radio/cc2420/source/basic_rf.c **** //
 643:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 644:../../../src/radio/cc2420/source/basic_rf.c **** //		Transmits a packet using the IEEE 802.15.4 MAC data packet format with short addresses. CCA is
 645:../../../src/radio/cc2420/source/basic_rf.c **** //		measured only once before backet transmission (not compliant with 802.15.4 CSMA-CA).
 646:../../../src/radio/cc2420/source/basic_rf.c **** //		The function returns:
 647:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is FALSE: After the transmission has begun (SFD gone high)
 648:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is TRUE: After the acknowledgment has been received/declared missing.
 649:../../../src/radio/cc2420/source/basic_rf.c **** //		The acknowledgment is received through the FIFOP interrupt.
 650:../../../src/radio/cc2420/source/basic_rf.c **** //
 651:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 652:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_TX_INFO *pRTI
 653:../../../src/radio/cc2420/source/basic_rf.c **** //          The transmission structure, which contains all relevant info about the packet.
 654:../../../src/radio/cc2420/source/basic_rf.c **** //
 655:../../../src/radio/cc2420/source/basic_rf.c **** //  RETURN VALUE:
 656:../../../src/radio/cc2420/source/basic_rf.c **** //		uint8_t
 657:../../../src/radio/cc2420/source/basic_rf.c **** //			Successful transmission (acknowledgment received)
 658:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 659:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 660:../../../src/radio/cc2420/source/basic_rf.c **** {
 661:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 662:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength, length;
 663:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 664:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 665:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 666:../../../src/radio/cc2420/source/basic_rf.c **** 
 667:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 668:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 669:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 670:../../../src/radio/cc2420/source/basic_rf.c **** 
 671:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 672:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 673:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 674:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 675:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 676:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_STXENC);
 677:../../../src/radio/cc2420/source/basic_rf.c **** 
 678:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 679:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 680:../../../src/radio/cc2420/source/basic_rf.c ****     {
 681:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 682:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 683:../../../src/radio/cc2420/source/basic_rf.c ****     }
 684:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 685:../../../src/radio/cc2420/source/basic_rf.c **** 
 686:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 687:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a slighly higher later since they assume TDMA
 688:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 689:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) packetLength+=4;  // for CTR counter
 690:../../../src/radio/cc2420/source/basic_rf.c **** 
 691:../../../src/radio/cc2420/source/basic_rf.c **** 
 692:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 693:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 694:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 695:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 696:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 697:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 698:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 699:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 700:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 701:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 702:../../../src/radio/cc2420/source/basic_rf.c **** 
 703:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 704:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 705:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 706:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 707:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 708:../../../src/radio/cc2420/source/basic_rf.c **** 
 709:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 710:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 711:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 712:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 713:../../../src/radio/cc2420/source/basic_rf.c **** 
 714:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 715:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 716:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 717:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 718:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 719:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 720:../../../src/radio/cc2420/source/basic_rf.c ****     */
 721:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 722:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = RF_FCF_NOACK;   // default
 723:../../../src/radio/cc2420/source/basic_rf.c ****     if(auto_ack_enable) frameControlField |= RF_ACK_BM;
 724:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) frameControlField |= RF_SEC_BM;
 725:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 726:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 727:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 728:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 729:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 730:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 731:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_FIFO((uint8_t*) &tx_ctr, 4);         // CTR counter
 732:../../../src/radio/cc2420/source/basic_rf.c **** 
 733:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 734:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 735:../../../src/radio/cc2420/source/basic_rf.c **** 
 736:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 737:../../../src/radio/cc2420/source/basic_rf.c ****     {
 738:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 739:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 740:../../../src/radio/cc2420/source/basic_rf.c ****         {
 741:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 742:../../../src/radio/cc2420/source/basic_rf.c ****         }
 743:../../../src/radio/cc2420/source/basic_rf.c **** 
 744:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 745:../../../src/radio/cc2420/source/basic_rf.c ****         do
 746:../../../src/radio/cc2420/source/basic_rf.c ****         {
 747:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 748:../../../src/radio/cc2420/source/basic_rf.c ****         }
 749:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 750:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 751:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 752:../../../src/radio/cc2420/source/basic_rf.c ****         do
 753:../../../src/radio/cc2420/source/basic_rf.c ****         {
 754:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 755:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 756:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 757:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 758:../../../src/radio/cc2420/source/basic_rf.c ****             {
 759:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 760:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 761:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 762:../../../src/radio/cc2420/source/basic_rf.c ****             }
 763:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 764:../../../src/radio/cc2420/source/basic_rf.c ****         }
 765:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 766:../../../src/radio/cc2420/source/basic_rf.c ****     }
 767:../../../src/radio/cc2420/source/basic_rf.c ****     else
 768:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 769:../../../src/radio/cc2420/source/basic_rf.c **** 
 770:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 771:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 772:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 773:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 774:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 775:../../../src/radio/cc2420/source/basic_rf.c **** 
 776:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 777:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 778:../../../src/radio/cc2420/source/basic_rf.c **** 
 779:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 780:../../../src/radio/cc2420/source/basic_rf.c **** 
 781:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 782:../../../src/radio/cc2420/source/basic_rf.c ****     if (auto_ack_enable)
 783:../../../src/radio/cc2420/source/basic_rf.c ****     {
 784:../../../src/radio/cc2420/source/basic_rf.c **** //		rfSettings.ackReceived = FALSE;
 785:../../../src/radio/cc2420/source/basic_rf.c **** 
 786:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the SFD to go low again
 787:../../../src/radio/cc2420/source/basic_rf.c ****         //	while (SFD_IS_1);
 788:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the
 789:../../../src/radio/cc2420/source/basic_rf.c ****         // ack reception should have finished
 790:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration,
 791:../../../src/radio/cc2420/source/basic_rf.c ****         // and a small margin
 792:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 793:../../../src/radio/cc2420/source/basic_rf.c **** 
 794:../../../src/radio/cc2420/source/basic_rf.c ****         if(FIFO_IS_1)
 795:../../../src/radio/cc2420/source/basic_rf.c ****         {
 796:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(length);
 797:../../../src/radio/cc2420/source/basic_rf.c ****             length &= RF_LENGTH_MASK; // Ignore MSB
 798:../../../src/radio/cc2420/source/basic_rf.c ****             success = TRUE;
 799:../../../src/radio/cc2420/source/basic_rf.c **** 
 800:../../../src/radio/cc2420/source/basic_rf.c ****         }
 801:../../../src/radio/cc2420/source/basic_rf.c ****         else
 802:../../../src/radio/cc2420/source/basic_rf.c ****         {
 803:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 804:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 805:../../../src/radio/cc2420/source/basic_rf.c ****             success = FALSE;
 806:../../../src/radio/cc2420/source/basic_rf.c ****         }
 807:../../../src/radio/cc2420/source/basic_rf.c **** 
 808:../../../src/radio/cc2420/source/basic_rf.c ****     }
 809:../../../src/radio/cc2420/source/basic_rf.c **** 
 810:../../../src/radio/cc2420/source/basic_rf.c **** 
 811:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 812:../../../src/radio/cc2420/source/basic_rf.c **** 
 813:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 814:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 815:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 816:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 817:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 818:../../../src/radio/cc2420/source/basic_rf.c **** 
 819:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 820:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 821:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 822:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 823:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 824:../../../src/radio/cc2420/source/basic_rf.c **** 
 825:../../../src/radio/cc2420/source/basic_rf.c ****     // agr XXX hack to test time issue
 826:../../../src/radio/cc2420/source/basic_rf.c ****     //rf_rx_on();
 827:../../../src/radio/cc2420/source/basic_rf.c **** 
 828:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 829:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 830:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 831:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 832:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 833:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 834:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 835:../../../src/radio/cc2420/source/basic_rf.c **** 
 836:../../../src/radio/cc2420/source/basic_rf.c **** }
 837:../../../src/radio/cc2420/source/basic_rf.c **** 
 838:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_busy()
 839:../../../src/radio/cc2420/source/basic_rf.c **** {
 772               	.LM66:
 773               	.LFBB15:
 774               	/* prologue: function */
 775               	/* frame size = 0 */
 840:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 777               	.LM67:
 778 0248 80B3      		in r24,48-32
 779 024a 90E0      		ldi r25,lo8(0)
 780 024c 24E0      		ldi r18,4
 781 024e 9695      	1:	lsr r25
 782 0250 8795      		ror r24
 783 0252 2A95      		dec r18
 784 0254 01F4      		brne 1b
 841:../../../src/radio/cc2420/source/basic_rf.c **** }
 786               	.LM68:
 787 0256 8170      		andi r24,lo8(1)
 788               	/* epilogue start */
 789 0258 0895      		ret
 791               	.Lscope15:
 793               		.stabd	78,0,0
 795               	.global	rf_rx_check_fifop
 797               	rf_rx_check_fifop:
 798               		.stabd	46,0,0
 842:../../../src/radio/cc2420/source/basic_rf.c **** 
 843:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_fifop()
 844:../../../src/radio/cc2420/source/basic_rf.c **** {
 800               	.LM69:
 801               	.LFBB16:
 802               	/* prologue: function */
 803               	/* frame size = 0 */
 845:../../../src/radio/cc2420/source/basic_rf.c ****     return FIFOP_IS_1;
 805               	.LM70:
 806 025a 81B1      		in r24,33-32
 807 025c 90E0      		ldi r25,lo8(0)
 808 025e 36E0      		ldi r19,6
 809 0260 9695      	1:	lsr r25
 810 0262 8795      		ror r24
 811 0264 3A95      		dec r19
 812 0266 01F4      		brne 1b
 846:../../../src/radio/cc2420/source/basic_rf.c **** }
 814               	.LM71:
 815 0268 8170      		andi r24,lo8(1)
 816               	/* epilogue start */
 817 026a 0895      		ret
 819               	.Lscope16:
 821               		.stabd	78,0,0
 823               	.global	rf_rx_check_sfd
 825               	rf_rx_check_sfd:
 826               		.stabd	46,0,0
 847:../../../src/radio/cc2420/source/basic_rf.c **** 
 848:../../../src/radio/cc2420/source/basic_rf.c **** 
 849:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_sfd()
 850:../../../src/radio/cc2420/source/basic_rf.c **** {
 828               	.LM72:
 829               	.LFBB17:
 830               	/* prologue: function */
 831               	/* frame size = 0 */
 851:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 833               	.LM73:
 834 026c 80B3      		in r24,48-32
 835 026e 90E0      		ldi r25,lo8(0)
 836 0270 44E0      		ldi r20,4
 837 0272 9695      	1:	lsr r25
 838 0274 8795      		ror r24
 839 0276 4A95      		dec r20
 840 0278 01F4      		brne 1b
 852:../../../src/radio/cc2420/source/basic_rf.c **** }
 842               	.LM74:
 843 027a 8170      		andi r24,lo8(1)
 844               	/* epilogue start */
 845 027c 0895      		ret
 847               	.Lscope17:
 849               		.stabd	78,0,0
 851               	.global	rf_polling_rx_packet
 853               	rf_polling_rx_packet:
 854               		.stabd	46,0,0
 853:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t tmp_blah;
 854:../../../src/radio/cc2420/source/basic_rf.c **** 
 855:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 856:../../../src/radio/cc2420/source/basic_rf.c **** {
 856               	.LM75:
 857               	.LFBB18:
 858 027e DF93      		push r29
 859 0280 CF93      		push r28
 860 0282 00D0      		rcall .
 861 0284 00D0      		rcall .
 862 0286 0F92      		push __tmp_reg__
 863 0288 CDB7      		in r28,__SP_L__
 864 028a DEB7      		in r29,__SP_H__
 865               	/* prologue: function */
 866               	/* frame size = 5 */
 857:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t tmp;
 858:../../../src/radio/cc2420/source/basic_rf.c **** 
 859:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 860:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 861:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 862:../../../src/radio/cc2420/source/basic_rf.c **** 
 863:../../../src/radio/cc2420/source/basic_rf.c ****     if(FIFOP_IS_1 )
 868               	.LM76:
 869 028c 0E99      		sbic 33-32,6
 870 028e 00C0      		rjmp .L114
 871 0290 80E0      		ldi r24,lo8(0)
 872 0292 00C0      		rjmp .L115
 873               	.L114:
 874               	.LBB2:
 864:../../../src/radio/cc2420/source/basic_rf.c ****     {
 865:../../../src/radio/cc2420/source/basic_rf.c ****         uint16_t frameControlField;
 866:../../../src/radio/cc2420/source/basic_rf.c ****         int8_t length;
 867:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t pFooter[2];
 868:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t checksum,rx_checksum,i;
 869:../../../src/radio/cc2420/source/basic_rf.c **** 
 870:../../../src/radio/cc2420/source/basic_rf.c ****         last_pkt_encrypted=0;
 876               	.LM77:
 877 0294 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 871:../../../src/radio/cc2420/source/basic_rf.c **** 
 872:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SRXON);
 873:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SFLUSHRX);
 874:../../../src/radio/cc2420/source/basic_rf.c **** 
 875:../../../src/radio/cc2420/source/basic_rf.c **** //	while(!SFD_IS_1);
 876:../../../src/radio/cc2420/source/basic_rf.c **** //  XXX Need to make sure SFD has gone down to be sure packet finished!
 877:../../../src/radio/cc2420/source/basic_rf.c **** //	while(SFD_IS_1);
 878:../../../src/radio/cc2420/source/basic_rf.c ****         // Clean up and exit in case of FIFO overflow, which is indicated by FIFOP = 1 and FIFO = 0
 879:../../../src/radio/cc2420/source/basic_rf.c ****         if((FIFOP_IS_1) && (!(FIFO_IS_1)))
 879               	.LM78:
 880 0298 0E9B      		sbis 33-32,6
 881 029a 00C0      		rjmp .L116
 882 029c B799      		sbic 54-32,7
 883 029e 00C0      		rjmp .L116
 880:../../../src/radio/cc2420/source/basic_rf.c ****         {
 881:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 882:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 885               	.LM79:
 886 02a0 C098      		cbi 56-32,0
 887 02a2 8FE7      		ldi r24,lo8(127)
 888 02a4 8FB9      		out 47-32,r24
 889               	.L117:
 890 02a6 779B      		sbis 46-32,7
 891 02a8 00C0      		rjmp .L117
 892 02aa 1FB8      		out 47-32,__zero_reg__
 893               	.L118:
 894 02ac 779B      		sbis 46-32,7
 895 02ae 00C0      		rjmp .L118
 896 02b0 8FB1      		in r24,47-32
 897 02b2 C09A      		sbi 56-32,0
 883:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 899               	.LM80:
 900 02b4 C098      		cbi 56-32,0
 901 02b6 88E0      		ldi r24,lo8(8)
 902 02b8 8FB9      		out 47-32,r24
 903               	.L119:
 904 02ba 779B      		sbis 46-32,7
 905 02bc 00C0      		rjmp .L119
 906 02be C09A      		sbi 56-32,0
 884:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 908               	.LM81:
 909 02c0 C098      		cbi 56-32,0
 910 02c2 88E0      		ldi r24,lo8(8)
 911 02c4 8FB9      		out 47-32,r24
 912               	.L120:
 913 02c6 779B      		sbis 46-32,7
 914 02c8 00C0      		rjmp .L120
 915 02ca C09A      		sbi 56-32,0
 916 02cc 8FEF      		ldi r24,lo8(-1)
 917 02ce 00C0      		rjmp .L115
 918               	.L116:
 885:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 886:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 887:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 888:../../../src/radio/cc2420/source/basic_rf.c ****             return -1;
 889:../../../src/radio/cc2420/source/basic_rf.c ****         }
 890:../../../src/radio/cc2420/source/basic_rf.c **** 
 891:../../../src/radio/cc2420/source/basic_rf.c ****         // Payload length
 892:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_READ_FIFO_BYTE(length);
 920               	.LM82:
 921 02d0 C098      		cbi 56-32,0
 922 02d2 8FE7      		ldi r24,lo8(127)
 923 02d4 8FB9      		out 47-32,r24
 924               	.L121:
 925 02d6 779B      		sbis 46-32,7
 926 02d8 00C0      		rjmp .L121
 927 02da 1FB8      		out 47-32,__zero_reg__
 928               	.L122:
 929 02dc 779B      		sbis 46-32,7
 930 02de 00C0      		rjmp .L122
 931 02e0 4FB1      		in r20,47-32
 932 02e2 C09A      		sbi 56-32,0
 893:../../../src/radio/cc2420/source/basic_rf.c ****         length &= RF_LENGTH_MASK; // Ignore MSB
 934               	.LM83:
 935 02e4 4F77      		andi r20,lo8(127)
 894:../../../src/radio/cc2420/source/basic_rf.c ****         // Ignore the packet if the length is too short
 895:../../../src/radio/cc2420/source/basic_rf.c ****         if(length<=0)
 937               	.LM84:
 938 02e6 01F4      		brne .L123
 896:../../../src/radio/cc2420/source/basic_rf.c ****         {
 897:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 898:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 940               	.LM85:
 941 02e8 C098      		cbi 56-32,0
 942 02ea 8FE7      		ldi r24,lo8(127)
 943 02ec 8FB9      		out 47-32,r24
 944               	.L124:
 945 02ee 779B      		sbis 46-32,7
 946 02f0 00C0      		rjmp .L124
 947 02f2 1FB8      		out 47-32,__zero_reg__
 948               	.L125:
 949 02f4 779B      		sbis 46-32,7
 950 02f6 00C0      		rjmp .L125
 951 02f8 8FB1      		in r24,47-32
 952 02fa C09A      		sbi 56-32,0
 899:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 954               	.LM86:
 955 02fc C098      		cbi 56-32,0
 956 02fe 88E0      		ldi r24,lo8(8)
 957 0300 8FB9      		out 47-32,r24
 958               	.L126:
 959 0302 779B      		sbis 46-32,7
 960 0304 00C0      		rjmp .L126
 961 0306 C09A      		sbi 56-32,0
 900:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 963               	.LM87:
 964 0308 C098      		cbi 56-32,0
 965 030a 88E0      		ldi r24,lo8(8)
 966 030c 8FB9      		out 47-32,r24
 967               	.L127:
 968 030e 779B      		sbis 46-32,7
 969 0310 00C0      		rjmp .L127
 970 0312 C09A      		sbi 56-32,0
 971 0314 8EEF      		ldi r24,lo8(-2)
 972 0316 00C0      		rjmp .L115
 973               	.L123:
 901:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 902:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 903:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 904:../../../src/radio/cc2420/source/basic_rf.c ****             return -2;
 905:../../../src/radio/cc2420/source/basic_rf.c ****         }
 906:../../../src/radio/cc2420/source/basic_rf.c ****         if (length < (RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD)/*RF_ACK_PACKET_SIZE*/ || (length
 975               	.LM88:
 976 0318 4C30      		cpi r20,lo8(12)
 977 031a 04F0      		brlt .L128
 978 031c E091 0000 		lds r30,rfSettings
 979 0320 F091 0000 		lds r31,(rfSettings)+1
 980 0324 242F      		mov r18,r20
 981 0326 3327      		clr r19
 982 0328 27FD      		sbrc r18,7
 983 032a 3095      		com r19
 984 032c 2B50      		subi r18,lo8(-(-11))
 985 032e 3040      		sbci r19,hi8(-(-11))
 986 0330 8481      		ldd r24,Z+4
 987 0332 9927      		clr r25
 988 0334 87FD      		sbrc r24,7
 989 0336 9095      		com r25
 990 0338 8217      		cp r24,r18
 991 033a 9307      		cpc r25,r19
 992 033c 04F4      		brge .L129
 993               	.L128:
 907:../../../src/radio/cc2420/source/basic_rf.c ****         {
 908:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(length);
 995               	.LM89:
 996 033e C098      		cbi 56-32,0
 997 0340 8FE7      		ldi r24,lo8(127)
 998 0342 8FB9      		out 47-32,r24
 999               	.L130:
 1000 0344 779B      		sbis 46-32,7
 1001 0346 00C0      		rjmp .L130
 1002 0348 50E0      		ldi r21,lo8(0)
 1003               	.LBB3:
 1004 034a 242F      		mov r18,r20
 1005 034c 3327      		clr r19
 1006 034e 27FD      		sbrc r18,7
 1007 0350 3095      		com r19
 1008 0352 00C0      		rjmp .L131
 1009               	.L134:
 1010 0354 1FB8      		out 47-32,__zero_reg__
 1011               	.L132:
 1012 0356 779B      		sbis 46-32,7
 1013 0358 00C0      		rjmp .L132
 1014 035a 5F5F      		subi r21,lo8(-(1))
 1015               	.L131:
 1016 035c 852F      		mov r24,r21
 1017 035e 90E0      		ldi r25,lo8(0)
 1018 0360 8217      		cp r24,r18
 1019 0362 9307      		cpc r25,r19
 1020 0364 04F4      		brge .L133
 1021 0366 B799      		sbic 54-32,7
 1022 0368 00C0      		rjmp .L134
 1023               	.L133:
 1024               	.LBE3:
 1025 036a C09A      		sbi 56-32,0
 909:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 1027               	.LM90:
 1028 036c C098      		cbi 56-32,0
 1029 036e 8FE7      		ldi r24,lo8(127)
 1030 0370 8FB9      		out 47-32,r24
 1031               	.L135:
 1032 0372 779B      		sbis 46-32,7
 1033 0374 00C0      		rjmp .L135
 1034 0376 1FB8      		out 47-32,__zero_reg__
 1035               	.L136:
 1036 0378 779B      		sbis 46-32,7
 1037 037a 00C0      		rjmp .L136
 1038 037c 8FB1      		in r24,47-32
 1039 037e C09A      		sbi 56-32,0
 910:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 1041               	.LM91:
 1042 0380 C098      		cbi 56-32,0
 1043 0382 88E0      		ldi r24,lo8(8)
 1044 0384 8FB9      		out 47-32,r24
 1045               	.L137:
 1046 0386 779B      		sbis 46-32,7
 1047 0388 00C0      		rjmp .L137
 1048 038a C09A      		sbi 56-32,0
 911:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 1050               	.LM92:
 1051 038c C098      		cbi 56-32,0
 1052 038e 88E0      		ldi r24,lo8(8)
 1053 0390 8FB9      		out 47-32,r24
 1054               	.L138:
 1055 0392 779B      		sbis 46-32,7
 1056 0394 00C0      		rjmp .L138
 1057 0396 C09A      		sbi 56-32,0
 1058 0398 8DEF      		ldi r24,lo8(-3)
 1059 039a 00C0      		rjmp .L115
 1060               	.L129:
 912:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 913:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 914:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 915:../../../src/radio/cc2420/source/basic_rf.c ****             return -3;
 916:../../../src/radio/cc2420/source/basic_rf.c ****             //printf_u( "Bad length: %d %d\n",length, rfSettings.pRxInfo->max_length );
 917:../../../src/radio/cc2420/source/basic_rf.c ****             // Otherwise, if the length is valid, then proceed with the rest of the packet
 918:../../../src/radio/cc2420/source/basic_rf.c ****         }
 919:../../../src/radio/cc2420/source/basic_rf.c ****         else
 920:../../../src/radio/cc2420/source/basic_rf.c ****         {
 921:../../../src/radio/cc2420/source/basic_rf.c ****             // Register the payload length
 922:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->length = length - RF_PACKET_OVERHEAD_SIZE - CHECKSUM_OVERHEAD;
 1062               	.LM93:
 1063 039c E091 0000 		lds r30,rfSettings
 1064 03a0 F091 0000 		lds r31,(rfSettings)+1
 1065 03a4 4C50      		subi r20,lo8(-(-12))
 1066 03a6 4383      		std Z+3,r20
 923:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the frame control field and the data sequence number
 924:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &frameControlField, 2);
 1068               	.LM94:
 1069 03a8 C098      		cbi 56-32,0
 1070 03aa 8FE7      		ldi r24,lo8(127)
 1071 03ac 8FB9      		out 47-32,r24
 1072               	.L139:
 1073 03ae 779B      		sbis 46-32,7
 1074 03b0 00C0      		rjmp .L139
 1075 03b2 FE01      		movw r30,r28
 1076 03b4 3296      		adiw r30,2
 1077               	.LBB4:
 1078 03b6 9F01      		movw r18,r30
 1079 03b8 2E5F      		subi r18,lo8(-(2))
 1080 03ba 3F4F      		sbci r19,hi8(-(2))
 1081               	.L141:
 1082 03bc 1FB8      		out 47-32,__zero_reg__
 1083               	.L140:
 1084 03be 779B      		sbis 46-32,7
 1085 03c0 00C0      		rjmp .L140
 1086 03c2 8FB1      		in r24,47-32
 1087 03c4 8193      		st Z+,r24
 1088 03c6 E217      		cp r30,r18
 1089 03c8 F307      		cpc r31,r19
 1090 03ca 01F4      		brne .L141
 1091               	.LBE4:
 1092 03cc C09A      		sbi 56-32,0
 925:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->ackRequest = !!(frameControlField & RF_FCF_ACK_BM);
 1094               	.LM95:
 1095 03ce E091 0000 		lds r30,rfSettings
 1096 03d2 F091 0000 		lds r31,(rfSettings)+1
 1097 03d6 8A81      		ldd r24,Y+2
 1098 03d8 9B81      		ldd r25,Y+3
 1099 03da 55E0      		ldi r21,5
 1100 03dc 9695      	1:	lsr r25
 1101 03de 8795      		ror r24
 1102 03e0 5A95      		dec r21
 1103 03e2 01F4      		brne 1b
 1104 03e4 8170      		andi r24,lo8(1)
 1105 03e6 8783      		std Z+7,r24
 926:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(rfSettings.pRxInfo->seqNumber);
 1107               	.LM96:
 1108 03e8 C098      		cbi 56-32,0
 1109 03ea 8FE7      		ldi r24,lo8(127)
 1110 03ec 8FB9      		out 47-32,r24
 1111               	.L142:
 1112 03ee 779B      		sbis 46-32,7
 1113 03f0 00C0      		rjmp .L142
 1114 03f2 1FB8      		out 47-32,__zero_reg__
 1115               	.L143:
 1116 03f4 779B      		sbis 46-32,7
 1117 03f6 00C0      		rjmp .L143
 1118 03f8 E091 0000 		lds r30,rfSettings
 1119 03fc F091 0000 		lds r31,(rfSettings)+1
 1120 0400 8FB1      		in r24,47-32
 1121 0402 8083      		st Z,r24
 1122 0404 C09A      		sbi 56-32,0
 927:../../../src/radio/cc2420/source/basic_rf.c **** 
 928:../../../src/radio/cc2420/source/basic_rf.c ****             // Is this an acknowledgment packet?
 929:../../../src/radio/cc2420/source/basic_rf.c ****             /*
 930:../../../src/radio/cc2420/source/basic_rf.c ****                 	if ((length == RF_ACK_PACKET_SIZE) && (frameControlField == RF_ACK_FCF) && (rfSett
 931:../../../src/radio/cc2420/source/basic_rf.c **** 
 932:../../../src/radio/cc2420/source/basic_rf.c ****              	       	// Read the footer and check for CRC OK
 933:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 934:../../../src/radio/cc2420/source/basic_rf.c **** 
 935:../../../src/radio/cc2420/source/basic_rf.c ****             			// Indicate the successful ack reception (this flag is polled by the transmission ro
 936:../../../src/radio/cc2420/source/basic_rf.c ****             			if (pFooter[1] & RF_CRC_OK_BM) rfSettings.ackReceived = TRUE;
 937:../../../src/radio/cc2420/source/basic_rf.c **** 
 938:../../../src/radio/cc2420/source/basic_rf.c ****             		// Too small to be a valid packet?
 939:../../../src/radio/cc2420/source/basic_rf.c ****             		} else if (length < RF_PACKET_OVERHEAD_SIZE) {
 940:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_GARBAGE(length - 3);
 941:../../../src/radio/cc2420/source/basic_rf.c **** 
 942:../../../src/radio/cc2420/source/basic_rf.c ****             		// Receive the rest of the packet
 943:../../../src/radio/cc2420/source/basic_rf.c ****             		} else {
 944:../../../src/radio/cc2420/source/basic_rf.c ****             */
 945:../../../src/radio/cc2420/source/basic_rf.c ****             // Skip the destination PAN and address (that's taken care of by harware address recogn
 946:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(4);
 1124               	.LM97:
 1125 0406 C098      		cbi 56-32,0
 1126 0408 8FE7      		ldi r24,lo8(127)
 1127 040a 8FB9      		out 47-32,r24
 1128               	.L144:
 1129 040c 779B      		sbis 46-32,7
 1130 040e 00C0      		rjmp .L144
 1131 0410 80E0      		ldi r24,lo8(0)
 1132 0412 00C0      		rjmp .L145
 1133               	.L148:
 1134               	.LBB5:
 1135 0414 1FB8      		out 47-32,__zero_reg__
 1136               	.L146:
 1137 0416 779B      		sbis 46-32,7
 1138 0418 00C0      		rjmp .L146
 1139 041a 8F5F      		subi r24,lo8(-(1))
 1140 041c 8430      		cpi r24,lo8(4)
 1141 041e 01F0      		breq .L147
 1142               	.L145:
 1143 0420 B799      		sbic 54-32,7
 1144 0422 00C0      		rjmp .L148
 1145               	.L147:
 1146               	.LBE5:
 1147 0424 C09A      		sbi 56-32,0
 947:../../../src/radio/cc2420/source/basic_rf.c **** 
 948:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the source address
 949:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rfSettings.pRxInfo->srcAddr, 2);
 1149               	.LM98:
 1150 0426 C098      		cbi 56-32,0
 1151 0428 8FE7      		ldi r24,lo8(127)
 1152 042a 8FB9      		out 47-32,r24
 1153               	.L149:
 1154 042c 779B      		sbis 46-32,7
 1155 042e 00C0      		rjmp .L149
 1156 0430 20E0      		ldi r18,lo8(0)
 1157 0432 30E0      		ldi r19,hi8(0)
 1158               	.L151:
 1159               	.LBB6:
 1160 0434 1FB8      		out 47-32,__zero_reg__
 1161               	.L150:
 1162 0436 779B      		sbis 46-32,7
 1163 0438 00C0      		rjmp .L150
 1164 043a E091 0000 		lds r30,rfSettings
 1165 043e F091 0000 		lds r31,(rfSettings)+1
 1166 0442 8FB1      		in r24,47-32
 1167 0444 E20F      		add r30,r18
 1168 0446 F31F      		adc r31,r19
 1169 0448 8183      		std Z+1,r24
 1170 044a 2F5F      		subi r18,lo8(-(1))
 1171 044c 3F4F      		sbci r19,hi8(-(1))
 1172 044e 2230      		cpi r18,2
 1173 0450 3105      		cpc r19,__zero_reg__
 1174 0452 01F4      		brne .L151
 1175               	.LBE6:
 1176 0454 C09A      		sbi 56-32,0
 950:../../../src/radio/cc2420/source/basic_rf.c **** 
 951:../../../src/radio/cc2420/source/basic_rf.c ****             if(frameControlField & RF_SEC_BM)
 1178               	.LM99:
 1179 0456 8A81      		ldd r24,Y+2
 1180 0458 83FF      		sbrs r24,3
 1181 045a 00C0      		rjmp .L152
 1182               	.LBB7:
 952:../../../src/radio/cc2420/source/basic_rf.c ****             {
 953:../../../src/radio/cc2420/source/basic_rf.c ****                 uint8_t n;
 954:../../../src/radio/cc2420/source/basic_rf.c ****                 // READ rx_ctr and set it
 955:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rx_ctr, 4);
 1184               	.LM100:
 1185 045c C098      		cbi 56-32,0
 1186 045e 8FE7      		ldi r24,lo8(127)
 1187 0460 8FB9      		out 47-32,r24
 1188               	.L153:
 1189 0462 779B      		sbis 46-32,7
 1190 0464 00C0      		rjmp .L153
 1191 0466 E0E0      		ldi r30,lo8(rx_ctr)
 1192 0468 F0E0      		ldi r31,hi8(rx_ctr)
 1193               	.L155:
 1194               	.LBB8:
 1195 046a 1FB8      		out 47-32,__zero_reg__
 1196               	.L154:
 1197 046c 779B      		sbis 46-32,7
 1198 046e 00C0      		rjmp .L154
 1199 0470 8FB1      		in r24,47-32
 1200 0472 8193      		st Z+,r24
 1201 0474 80E0      		ldi r24,hi8(rx_ctr+4)
 1202 0476 E030      		cpi r30,lo8(rx_ctr+4)
 1203 0478 F807      		cpc r31,r24
 1204 047a 01F4      		brne .L155
 1205               	.LBE8:
 1206 047c C09A      		sbi 56-32,0
 956:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[0],(CC2420RAM_RXNONCE+9),2,n);
 1208               	.LM101:
 1209 047e C098      		cbi 56-32,0
 1210 0480 89E9      		ldi r24,lo8(-103)
 1211 0482 8FB9      		out 47-32,r24
 1212               	.L156:
 1213 0484 779B      		sbis 46-32,7
 1214 0486 00C0      		rjmp .L156
 1215 0488 80E8      		ldi r24,lo8(-128)
 1216 048a 8FB9      		out 47-32,r24
 1217               	.L157:
 1218 048c 779B      		sbis 46-32,7
 1219 048e 00C0      		rjmp .L157
 1220 0490 92E0      		ldi r25,lo8(2)
 1221               	.L159:
 1222 0492 9150      		subi r25,lo8(-(-1))
 1223 0494 E92F      		mov r30,r25
 1224 0496 F0E0      		ldi r31,lo8(0)
 1225 0498 E050      		subi r30,lo8(-(rx_ctr))
 1226 049a F040      		sbci r31,hi8(-(rx_ctr))
 1227 049c 8081      		ld r24,Z
 1228 049e 8FB9      		out 47-32,r24
 1229               	.L158:
 1230 04a0 779B      		sbis 46-32,7
 1231 04a2 00C0      		rjmp .L158
 1232 04a4 9923      		tst r25
 1233 04a6 01F4      		brne .L159
 1234 04a8 C09A      		sbi 56-32,0
 957:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[2],(CC2420RAM_RXNONCE+11),2,n);
 1236               	.LM102:
 1237 04aa C098      		cbi 56-32,0
 1238 04ac 8BE9      		ldi r24,lo8(-101)
 1239 04ae 8FB9      		out 47-32,r24
 1240               	.L160:
 1241 04b0 779B      		sbis 46-32,7
 1242 04b2 00C0      		rjmp .L160
 1243 04b4 80E8      		ldi r24,lo8(-128)
 1244 04b6 8FB9      		out 47-32,r24
 1245               	.L161:
 1246 04b8 779B      		sbis 46-32,7
 1247 04ba 00C0      		rjmp .L161
 1248 04bc 92E0      		ldi r25,lo8(2)
 1249               	.L163:
 1250 04be 9150      		subi r25,lo8(-(-1))
 1251 04c0 E92F      		mov r30,r25
 1252 04c2 F0E0      		ldi r31,lo8(0)
 1253 04c4 E050      		subi r30,lo8(-(rx_ctr+2))
 1254 04c6 F040      		sbci r31,hi8(-(rx_ctr+2))
 1255 04c8 8081      		ld r24,Z
 1256 04ca 8FB9      		out 47-32,r24
 1257               	.L162:
 1258 04cc 779B      		sbis 46-32,7
 1259 04ce 00C0      		rjmp .L162
 1260 04d0 9923      		tst r25
 1261 04d2 01F4      		brne .L163
 1262 04d4 C09A      		sbi 56-32,0
 958:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SRXDEC);  // if packet is encrypted then decrypt
 1264               	.LM103:
 1265 04d6 C098      		cbi 56-32,0
 1266 04d8 8CE0      		ldi r24,lo8(12)
 1267 04da 8FB9      		out 47-32,r24
 1268               	.L164:
 1269 04dc 779B      		sbis 46-32,7
 1270 04de 00C0      		rjmp .L164
 1271 04e0 C09A      		sbi 56-32,0
 959:../../../src/radio/cc2420/source/basic_rf.c ****                 last_pkt_encrypted=1;
 1273               	.LM104:
 1274 04e2 81E0      		ldi r24,lo8(1)
 1275 04e4 8093 0000 		sts last_pkt_encrypted,r24
 960:../../../src/radio/cc2420/source/basic_rf.c ****                 rfSettings.pRxInfo->length -= 4;
 1277               	.LM105:
 1278 04e8 E091 0000 		lds r30,rfSettings
 1279 04ec F091 0000 		lds r31,(rfSettings)+1
 1280 04f0 8381      		ldd r24,Z+3
 1281 04f2 8450      		subi r24,lo8(-(-4))
 1282 04f4 8383      		std Z+3,r24
 1283               	.L152:
 1284               	.LBE7:
 961:../../../src/radio/cc2420/source/basic_rf.c ****             }
 962:../../../src/radio/cc2420/source/basic_rf.c **** 
 963:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the packet payload
 964:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(rfSettings.pRxInfo->pPayload, rfSettings.pRxInfo->length);
 1286               	.LM106:
 1287 04f6 C098      		cbi 56-32,0
 1288 04f8 8FE7      		ldi r24,lo8(127)
 1289 04fa 8FB9      		out 47-32,r24
 1290               	.L165:
 1291 04fc 779B      		sbis 46-32,7
 1292 04fe 00C0      		rjmp .L165
 1293 0500 40E0      		ldi r20,lo8(0)
 1294 0502 00C0      		rjmp .L166
 1295               	.L168:
 1296               	.LBB9:
 1297 0504 1FB8      		out 47-32,__zero_reg__
 1298               	.L167:
 1299 0506 779B      		sbis 46-32,7
 1300 0508 00C0      		rjmp .L167
 1301 050a E091 0000 		lds r30,rfSettings
 1302 050e F091 0000 		lds r31,(rfSettings)+1
 1303 0512 8FB1      		in r24,47-32
 1304 0514 0580      		ldd __tmp_reg__,Z+5
 1305 0516 F681      		ldd r31,Z+6
 1306 0518 E02D      		mov r30,__tmp_reg__
 1307 051a E40F      		add r30,r20
 1308 051c F11D      		adc r31,__zero_reg__
 1309 051e 8083      		st Z,r24
 1310 0520 4F5F      		subi r20,lo8(-(1))
 1311               	.L166:
 1312 0522 E091 0000 		lds r30,rfSettings
 1313 0526 F091 0000 		lds r31,(rfSettings)+1
 1314 052a 242F      		mov r18,r20
 1315 052c 30E0      		ldi r19,lo8(0)
 1316 052e 8381      		ldd r24,Z+3
 1317 0530 9927      		clr r25
 1318 0532 87FD      		sbrc r24,7
 1319 0534 9095      		com r25
 1320 0536 2817      		cp r18,r24
 1321 0538 3907      		cpc r19,r25
 1322 053a 04F0      		brlt .L168
 1323               	.LBE9:
 1324 053c C09A      		sbi 56-32,0
 965:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(&rx_checksum, 1 );
 1326               	.LM107:
 1327 053e C098      		cbi 56-32,0
 1328 0540 8FE7      		ldi r24,lo8(127)
 1329 0542 8FB9      		out 47-32,r24
 1330               	.L169:
 1331 0544 779B      		sbis 46-32,7
 1332 0546 00C0      		rjmp .L169
 1333               	.LBB10:
 1334 0548 1FB8      		out 47-32,__zero_reg__
 1335               	.L170:
 1336 054a 779B      		sbis 46-32,7
 1337 054c 00C0      		rjmp .L170
 1338 054e 9FB1      		in r25,47-32
 1339               	.LBE10:
 1340 0550 C09A      		sbi 56-32,0
 966:../../../src/radio/cc2420/source/basic_rf.c **** 
 967:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the footer to get the RSSI value
 968:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 1342               	.LM108:
 1343 0552 C098      		cbi 56-32,0
 1344 0554 8FE7      		ldi r24,lo8(127)
 1345 0556 8FB9      		out 47-32,r24
 1346               	.L171:
 1347 0558 779B      		sbis 46-32,7
 1348 055a 00C0      		rjmp .L171
 1349               	.LBB11:
 966:../../../src/radio/cc2420/source/basic_rf.c **** 
 1351               	.LM109:
 1352 055c 9983      		std Y+1,r25
 1353 055e FE01      		movw r30,r28
 1354 0560 3496      		adiw r30,4
 1355               	.LBE11:
 1356               	.LBB12:
 1358               	.LM110:
 1359 0562 9E01      		movw r18,r28
 1360 0564 2A5F      		subi r18,lo8(-(6))
 1361 0566 3F4F      		sbci r19,hi8(-(6))
 1362               	.L173:
 1363 0568 1FB8      		out 47-32,__zero_reg__
 1364               	.L172:
 1365 056a 779B      		sbis 46-32,7
 1366 056c 00C0      		rjmp .L172
 1367 056e 8FB1      		in r24,47-32
 1368 0570 8193      		st Z+,r24
 1369 0572 E217      		cp r30,r18
 1370 0574 F307      		cpc r31,r19
 1371 0576 01F4      		brne .L173
 1372               	.LBE12:
 1373 0578 C09A      		sbi 56-32,0
 969:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->rssi = pFooter[0];
 1375               	.LM111:
 1376 057a E091 0000 		lds r30,rfSettings
 1377 057e F091 0000 		lds r31,(rfSettings)+1
 1378 0582 8C81      		ldd r24,Y+4
 1379 0584 8087      		std Z+8,r24
 1380 0586 50E0      		ldi r21,lo8(0)
 1381 0588 40E0      		ldi r20,lo8(0)
 1382 058a 00C0      		rjmp .L174
 1383               	.L175:
 970:../../../src/radio/cc2420/source/basic_rf.c ****             checksum=0;
 971:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 972:../../../src/radio/cc2420/source/basic_rf.c ****             {
 973:../../../src/radio/cc2420/source/basic_rf.c ****                 checksum+=rfSettings.pRxInfo->pPayload[i];
 1385               	.LM112:
 1386 058c E091 0000 		lds r30,rfSettings
 1387 0590 F091 0000 		lds r31,(rfSettings)+1
 1388 0594 0580      		ldd __tmp_reg__,Z+5
 1389 0596 F681      		ldd r31,Z+6
 1390 0598 E02D      		mov r30,__tmp_reg__
 1391 059a E20F      		add r30,r18
 1392 059c F31F      		adc r31,r19
 1393 059e 8081      		ld r24,Z
 1394 05a0 580F      		add r21,r24
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 1396               	.LM113:
 1397 05a2 4F5F      		subi r20,lo8(-(1))
 1398               	.L174:
 1399 05a4 E091 0000 		lds r30,rfSettings
 1400 05a8 F091 0000 		lds r31,(rfSettings)+1
 1401 05ac 242F      		mov r18,r20
 1402 05ae 30E0      		ldi r19,lo8(0)
 1403 05b0 8381      		ldd r24,Z+3
 1404 05b2 9927      		clr r25
 1405 05b4 87FD      		sbrc r24,7
 1406 05b6 9095      		com r25
 1407 05b8 2817      		cp r18,r24
 1408 05ba 3907      		cpc r19,r25
 1409 05bc 04F0      		brlt .L175
 974:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "%d ", rfSettings.pRxInfo->pPayload[i]);
 975:../../../src/radio/cc2420/source/basic_rf.c ****             }
 976:../../../src/radio/cc2420/source/basic_rf.c **** 
 977:../../../src/radio/cc2420/source/basic_rf.c ****             if(checksum!=rx_checksum)
 1411               	.LM114:
 1412 05be 8981      		ldd r24,Y+1
 1413 05c0 5817      		cp r21,r24
 1414 05c2 01F0      		breq .L176
 978:../../../src/radio/cc2420/source/basic_rf.c ****             {
 979:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "Checksum failed %d %d\r",rx_checksum, checksum );
 980:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
 981:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 1416               	.LM115:
 1417 05c4 C098      		cbi 56-32,0
 1418 05c6 8FE7      		ldi r24,lo8(127)
 1419 05c8 8FB9      		out 47-32,r24
 1420               	.L177:
 1421 05ca 779B      		sbis 46-32,7
 1422 05cc 00C0      		rjmp .L177
 1423 05ce 1FB8      		out 47-32,__zero_reg__
 1424               	.L178:
 1425 05d0 779B      		sbis 46-32,7
 1426 05d2 00C0      		rjmp .L178
 1427 05d4 8FB1      		in r24,47-32
 1428 05d6 C09A      		sbi 56-32,0
 982:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 1430               	.LM116:
 1431 05d8 C098      		cbi 56-32,0
 1432 05da 88E0      		ldi r24,lo8(8)
 1433 05dc 8FB9      		out 47-32,r24
 1434               	.L179:
 1435 05de 779B      		sbis 46-32,7
 1436 05e0 00C0      		rjmp .L179
 1437 05e2 C09A      		sbi 56-32,0
 983:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 1439               	.LM117:
 1440 05e4 C098      		cbi 56-32,0
 1441 05e6 88E0      		ldi r24,lo8(8)
 1442 05e8 8FB9      		out 47-32,r24
 1443               	.L180:
 1444 05ea 779B      		sbis 46-32,7
 1445 05ec 00C0      		rjmp .L180
 1446 05ee C09A      		sbi 56-32,0
 1447 05f0 8CEF      		ldi r24,lo8(-4)
 1448 05f2 00C0      		rjmp .L115
 1449               	.L176:
 984:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 985:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 986:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 987:../../../src/radio/cc2420/source/basic_rf.c ****                 return -4;
 988:../../../src/radio/cc2420/source/basic_rf.c ****             }
 989:../../../src/radio/cc2420/source/basic_rf.c ****             if (pFooter[1] & RF_CRC_OK_BM)
 1451               	.LM118:
 1452 05f4 8D81      		ldd r24,Y+5
 1453 05f6 87FF      		sbrs r24,7
 1454 05f8 00C0      		rjmp .L181
 990:../../../src/radio/cc2420/source/basic_rf.c ****             {
 991:../../../src/radio/cc2420/source/basic_rf.c ****                 //rfSettings.pRxInfo = rf_rx_callback(rfSettings.pRxInfo);
 992:../../../src/radio/cc2420/source/basic_rf.c ****                 rx_ready++;
 1456               	.LM119:
 1457 05fa 8091 0000 		lds r24,rx_ready
 1458 05fe 8F5F      		subi r24,lo8(-(1))
 1459 0600 8093 0000 		sts rx_ready,r24
 1460 0604 81E0      		ldi r24,lo8(1)
 1461 0606 00C0      		rjmp .L115
 1462               	.L181:
 993:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 994:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 995:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 996:../../../src/radio/cc2420/source/basic_rf.c ****                 return 1;
 997:../../../src/radio/cc2420/source/basic_rf.c ****             }
 998:../../../src/radio/cc2420/source/basic_rf.c ****             else
 999:../../../src/radio/cc2420/source/basic_rf.c ****             {
1000:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
1001:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 1464               	.LM120:
 1465 0608 C098      		cbi 56-32,0
 1466 060a 8FE7      		ldi r24,lo8(127)
 1467 060c 8FB9      		out 47-32,r24
 1468               	.L182:
 1469 060e 779B      		sbis 46-32,7
 1470 0610 00C0      		rjmp .L182
 1471 0612 1FB8      		out 47-32,__zero_reg__
 1472               	.L183:
 1473 0614 779B      		sbis 46-32,7
 1474 0616 00C0      		rjmp .L183
 1475 0618 8FB1      		in r24,47-32
 1476 061a C09A      		sbi 56-32,0
1002:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 1478               	.LM121:
 1479 061c C098      		cbi 56-32,0
 1480 061e 88E0      		ldi r24,lo8(8)
 1481 0620 8FB9      		out 47-32,r24
 1482               	.L184:
 1483 0622 779B      		sbis 46-32,7
 1484 0624 00C0      		rjmp .L184
 1485 0626 C09A      		sbi 56-32,0
1003:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 1487               	.LM122:
 1488 0628 C098      		cbi 56-32,0
 1489 062a 88E0      		ldi r24,lo8(8)
 1490 062c 8FB9      		out 47-32,r24
 1491               	.L185:
 1492 062e 779B      		sbis 46-32,7
 1493 0630 00C0      		rjmp .L185
 1494 0632 C09A      		sbi 56-32,0
 1495 0634 8BEF      		ldi r24,lo8(-5)
 1496               	.L115:
 1497               	/* epilogue start */
 1498               	.LBE2:
1004:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1005:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
1006:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1007:../../../src/radio/cc2420/source/basic_rf.c ****                 return -5;
1008:../../../src/radio/cc2420/source/basic_rf.c ****             }
1009:../../../src/radio/cc2420/source/basic_rf.c **** //		}
1010:../../../src/radio/cc2420/source/basic_rf.c **** 
1011:../../../src/radio/cc2420/source/basic_rf.c ****         }
1012:../../../src/radio/cc2420/source/basic_rf.c **** 
1013:../../../src/radio/cc2420/source/basic_rf.c **** 
1014:../../../src/radio/cc2420/source/basic_rf.c ****     }
1015:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1016:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1017:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1018:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
1019:../../../src/radio/cc2420/source/basic_rf.c **** }
 1500               	.LM123:
 1501 0636 0F90      		pop __tmp_reg__
 1502 0638 0F90      		pop __tmp_reg__
 1503 063a 0F90      		pop __tmp_reg__
 1504 063c 0F90      		pop __tmp_reg__
 1505 063e 0F90      		pop __tmp_reg__
 1506 0640 CF91      		pop r28
 1507 0642 DF91      		pop r29
 1508 0644 0895      		ret
 1532               	.Lscope18:
 1534               		.stabd	78,0,0
 1536               	.global	rf_rx_packet
 1538               	rf_rx_packet:
 1539               		.stabd	46,0,0
1020:../../../src/radio/cc2420/source/basic_rf.c **** 
1021:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_rx_packet()
1022:../../../src/radio/cc2420/source/basic_rf.c **** {
 1541               	.LM124:
 1542               	.LFBB19:
 1543               	/* prologue: function */
 1544               	/* frame size = 0 */
1023:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t tmp;
1024:../../../src/radio/cc2420/source/basic_rf.c ****     if(rx_ready>0)
 1546               	.LM125:
 1547 0646 8091 0000 		lds r24,rx_ready
 1548 064a 8823      		tst r24
 1549 064c 01F0      		breq .L242
1025:../../../src/radio/cc2420/source/basic_rf.c ****     {
1026:../../../src/radio/cc2420/source/basic_rf.c ****         tmp=rx_ready;
 1551               	.LM126:
 1552 064e 8091 0000 		lds r24,rx_ready
1027:../../../src/radio/cc2420/source/basic_rf.c ****         rx_ready=0;
 1554               	.LM127:
 1555 0652 1092 0000 		sts rx_ready,__zero_reg__
 1556               	.L242:
1028:../../../src/radio/cc2420/source/basic_rf.c ****         return tmp;
1029:../../../src/radio/cc2420/source/basic_rf.c ****     }
1030:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
1031:../../../src/radio/cc2420/source/basic_rf.c **** }
 1558               	.LM128:
 1559 0656 0895      		ret
 1564               	.Lscope19:
 1566               		.stabd	78,0,0
 1568               	.global	rf_flush_rx_fifo
 1570               	rf_flush_rx_fifo:
 1571               		.stabd	46,0,0
1032:../../../src/radio/cc2420/source/basic_rf.c **** 
1033:../../../src/radio/cc2420/source/basic_rf.c **** 
1034:../../../src/radio/cc2420/source/basic_rf.c **** inline void rf_flush_rx_fifo()
1035:../../../src/radio/cc2420/source/basic_rf.c **** {
 1573               	.LM129:
 1574               	.LFBB20:
 1575               	/* prologue: function */
 1576               	/* frame size = 0 */
1036:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1578               	.LM130:
 1579 0658 C098      		cbi 56-32,0
 1580 065a 88E0      		ldi r24,lo8(8)
 1581 065c 8FB9      		out 47-32,r24
 1582               	.L245:
 1583 065e 779B      		sbis 46-32,7
 1584 0660 00C0      		rjmp .L245
 1585 0662 C09A      		sbi 56-32,0
1037:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1587               	.LM131:
 1588 0664 C098      		cbi 56-32,0
 1589 0666 88E0      		ldi r24,lo8(8)
 1590 0668 8FB9      		out 47-32,r24
 1591               	.L246:
 1592 066a 779B      		sbis 46-32,7
 1593 066c 00C0      		rjmp .L246
 1594 066e C09A      		sbi 56-32,0
 1595               	/* epilogue start */
1038:../../../src/radio/cc2420/source/basic_rf.c **** }
 1597               	.LM132:
 1598 0670 0895      		ret
 1600               	.Lscope20:
 1602               		.stabd	78,0,0
 1605               	.global	rf_set_cca_thresh
 1607               	rf_set_cca_thresh:
 1608               		.stabd	46,0,0
1039:../../../src/radio/cc2420/source/basic_rf.c **** 
1040:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_thresh(int8_t t)
1041:../../../src/radio/cc2420/source/basic_rf.c **** {
 1610               	.LM133:
 1611               	.LFBB21:
 1612               	/* prologue: function */
 1613               	/* frame size = 0 */
1042:../../../src/radio/cc2420/source/basic_rf.c **** // default is -32
1043:../../../src/radio/cc2420/source/basic_rf.c **** // Higher number is less sensitive
1044:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t val;
1045:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1046:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1047:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1048:../../../src/radio/cc2420/source/basic_rf.c **** 
1049:../../../src/radio/cc2420/source/basic_rf.c ****     val=(t<<8) | 0x80;
 1615               	.LM134:
 1616 0672 9927      		clr r25
 1617 0674 87FD      		sbrc r24,7
 1618 0676 9095      		com r25
 1619 0678 382F      		mov r19,r24
 1620 067a 2227      		clr r18
 1621 067c 2068      		ori r18,lo8(128)
1050:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RSSI, val);
 1623               	.LM135:
 1624 067e C098      		cbi 56-32,0
 1625 0680 83E1      		ldi r24,lo8(19)
 1626 0682 8FB9      		out 47-32,r24
 1627               	.L251:
 1628 0684 779B      		sbis 46-32,7
 1629 0686 00C0      		rjmp .L251
 1630 0688 3FB9      		out 47-32,r19
 1631               	.L252:
 1632 068a 779B      		sbis 46-32,7
 1633 068c 00C0      		rjmp .L252
 1634 068e 2FB9      		out 47-32,r18
 1635               	.L253:
 1636 0690 779B      		sbis 46-32,7
 1637 0692 00C0      		rjmp .L253
 1638 0694 C09A      		sbi 56-32,0
 1639               	/* epilogue start */
1051:../../../src/radio/cc2420/source/basic_rf.c **** 
1052:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1053:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1054:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1055:../../../src/radio/cc2420/source/basic_rf.c **** }
 1641               	.LM136:
 1642 0696 0895      		ret
 1647               	.Lscope21:
 1649               		.stabd	78,0,0
 1651               	.global	rf_test_mode
 1653               	rf_test_mode:
 1654               		.stabd	46,0,0
1056:../../../src/radio/cc2420/source/basic_rf.c **** 
1057:../../../src/radio/cc2420/source/basic_rf.c **** void rf_test_mode()
1058:../../../src/radio/cc2420/source/basic_rf.c **** {
 1656               	.LM137:
 1657               	.LFBB22:
 1658               	/* prologue: function */
 1659               	/* frame size = 0 */
1059:../../../src/radio/cc2420/source/basic_rf.c **** 
1060:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1061:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1062:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1063:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 1661               	.LM138:
 1662 0698 C098      		cbi 56-32,0
 1663 069a 86E0      		ldi r24,lo8(6)
 1664 069c 8FB9      		out 47-32,r24
 1665               	.L259:
 1666 069e 779B      		sbis 46-32,7
 1667 06a0 00C0      		rjmp .L259
 1668 06a2 C09A      		sbi 56-32,0
1064:../../../src/radio/cc2420/source/basic_rf.c ****     // NOTE ON SETTING CC2420_MDMCTRL1
1065:../../../src/radio/cc2420/source/basic_rf.c ****     //
1066:../../../src/radio/cc2420/source/basic_rf.c ****     // RF studio" uses TX_MODE=3 (CC2420_MDMCTRL1=0x050C)
1067:../../../src/radio/cc2420/source/basic_rf.c ****     // to send an unmodulated carrier; data sheet says TX_MODE
1068:../../../src/radio/cc2420/source/basic_rf.c ****     // can be 2 or 3. So it should not matter...
1069:../../../src/radio/cc2420/source/basic_rf.c ****     // HOWEVER, using (TX_MODE=3) sometimes causes problems when
1070:../../../src/radio/cc2420/source/basic_rf.c ****     // going back to "data" mode!
1071:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0508); // MDMCTRL1 with TX_MODE=2
 1670               	.LM139:
 1671 06a4 C098      		cbi 56-32,0
 1672 06a6 82E1      		ldi r24,lo8(18)
 1673 06a8 8FB9      		out 47-32,r24
 1674               	.L260:
 1675 06aa 779B      		sbis 46-32,7
 1676 06ac 00C0      		rjmp .L260
 1677 06ae 85E0      		ldi r24,lo8(5)
 1678 06b0 8FB9      		out 47-32,r24
 1679               	.L261:
 1680 06b2 779B      		sbis 46-32,7
 1681 06b4 00C0      		rjmp .L261
 1682 06b6 88E0      		ldi r24,lo8(8)
 1683 06b8 8FB9      		out 47-32,r24
 1684               	.L262:
 1685 06ba 779B      		sbis 46-32,7
 1686 06bc 00C0      		rjmp .L262
 1687 06be C09A      		sbi 56-32,0
1072:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0x1800); // send unmodulated carrier
 1689               	.LM140:
 1690 06c0 C098      		cbi 56-32,0
 1691 06c2 8EE2      		ldi r24,lo8(46)
 1692 06c4 8FB9      		out 47-32,r24
 1693               	.L263:
 1694 06c6 779B      		sbis 46-32,7
 1695 06c8 00C0      		rjmp .L263
 1696 06ca 88E1      		ldi r24,lo8(24)
 1697 06cc 8FB9      		out 47-32,r24
 1698               	.L264:
 1699 06ce 779B      		sbis 46-32,7
 1700 06d0 00C0      		rjmp .L264
 1701 06d2 1FB8      		out 47-32,__zero_reg__
 1702               	.L265:
 1703 06d4 779B      		sbis 46-32,7
 1704 06d6 00C0      		rjmp .L265
 1705 06d8 C09A      		sbi 56-32,0
1073:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 1707               	.LM141:
 1708 06da 0E94 0000 		call rf_flush_rx_fifo
 1709               	/* epilogue start */
1074:../../../src/radio/cc2420/source/basic_rf.c **** 
1075:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1076:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1077:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1078:../../../src/radio/cc2420/source/basic_rf.c **** }
 1711               	.LM142:
 1712 06de 0895      		ret
 1714               	.Lscope22:
 1716               		.stabd	78,0,0
 1718               	.global	rf_data_mode
 1720               	rf_data_mode:
 1721               		.stabd	46,0,0
1079:../../../src/radio/cc2420/source/basic_rf.c **** 
1080:../../../src/radio/cc2420/source/basic_rf.c **** 
1081:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1082:../../../src/radio/cc2420/source/basic_rf.c ****  * set the radio into "normal" mode (buffered TXFIFO) and go into (data) receive */
1083:../../../src/radio/cc2420/source/basic_rf.c **** void rf_data_mode()
1084:../../../src/radio/cc2420/source/basic_rf.c **** {
 1723               	.LM143:
 1724               	.LFBB23:
 1725               	/* prologue: function */
 1726               	/* frame size = 0 */
1085:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1086:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1087:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1088:../../../src/radio/cc2420/source/basic_rf.c **** 
1089:../../../src/radio/cc2420/source/basic_rf.c **** 
1090:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 1728               	.LM144:
 1729 06e0 C098      		cbi 56-32,0
 1730 06e2 86E0      		ldi r24,lo8(6)
 1731 06e4 8FB9      		out 47-32,r24
 1732               	.L275:
 1733 06e6 779B      		sbis 46-32,7
 1734 06e8 00C0      		rjmp .L275
 1735 06ea C09A      		sbi 56-32,0
1091:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // default MDMCTRL1 value
 1737               	.LM145:
 1738 06ec C098      		cbi 56-32,0
 1739 06ee 82E1      		ldi r24,lo8(18)
 1740 06f0 8FB9      		out 47-32,r24
 1741               	.L276:
 1742 06f2 779B      		sbis 46-32,7
 1743 06f4 00C0      		rjmp .L276
 1744 06f6 85E0      		ldi r24,lo8(5)
 1745 06f8 8FB9      		out 47-32,r24
 1746               	.L277:
 1747 06fa 779B      		sbis 46-32,7
 1748 06fc 00C0      		rjmp .L277
 1749 06fe 1FB8      		out 47-32,__zero_reg__
 1750               	.L278:
 1751 0700 779B      		sbis 46-32,7
 1752 0702 00C0      		rjmp .L278
 1753 0704 C09A      		sbi 56-32,0
1092:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0); // default value
 1755               	.LM146:
 1756 0706 C098      		cbi 56-32,0
 1757 0708 8EE2      		ldi r24,lo8(46)
 1758 070a 8FB9      		out 47-32,r24
 1759               	.L279:
 1760 070c 779B      		sbis 46-32,7
 1761 070e 00C0      		rjmp .L279
 1762 0710 1FB8      		out 47-32,__zero_reg__
 1763               	.L280:
 1764 0712 779B      		sbis 46-32,7
 1765 0714 00C0      		rjmp .L280
 1766 0716 1FB8      		out 47-32,__zero_reg__
 1767               	.L281:
 1768 0718 779B      		sbis 46-32,7
 1769 071a 00C0      		rjmp .L281
 1770 071c C09A      		sbi 56-32,0
1093:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 1772               	.LM147:
 1773 071e 0E94 0000 		call rf_flush_rx_fifo
 1774               	/* epilogue start */
1094:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1095:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1096:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1097:../../../src/radio/cc2420/source/basic_rf.c **** }
 1776               	.LM148:
 1777 0722 0895      		ret
 1779               	.Lscope23:
 1781               		.stabd	78,0,0
 1783               	.global	rf_rx_set_serial
 1785               	rf_rx_set_serial:
 1786               		.stabd	46,0,0
1098:../../../src/radio/cc2420/source/basic_rf.c **** 
1099:../../../src/radio/cc2420/source/basic_rf.c **** 
1100:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1101:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the radio into serial unbuffered RX mode
1102:../../../src/radio/cc2420/source/basic_rf.c ****  * RX data is received through sampling the FIFO pin, timing is done using FIFOP
1103:../../../src/radio/cc2420/source/basic_rf.c ****  * Use rf_rx_on() to start rcv, then wait for SFD / FIFOP. Sample during each high edge of FIFOP
1104:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by using rf_data_mode()
1105:../../../src/radio/cc2420/source/basic_rf.c ****  */
1106:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_set_serial()
1107:../../../src/radio/cc2420/source/basic_rf.c **** {
 1788               	.LM149:
 1789               	.LFBB24:
 1790               	/* prologue: function */
 1791               	/* frame size = 0 */
1108:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);           // stop radio
 1793               	.LM150:
 1794 0724 C098      		cbi 56-32,0
 1795 0726 86E0      		ldi r24,lo8(6)
 1796 0728 8FB9      		out 47-32,r24
 1797               	.L291:
 1798 072a 779B      		sbis 46-32,7
 1799 072c 00C0      		rjmp .L291
 1800 072e C09A      		sbi 56-32,0
1109:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0501); // Set RX_MODE to 1
 1802               	.LM151:
 1803 0730 C098      		cbi 56-32,0
 1804 0732 82E1      		ldi r24,lo8(18)
 1805 0734 8FB9      		out 47-32,r24
 1806               	.L292:
 1807 0736 779B      		sbis 46-32,7
 1808 0738 00C0      		rjmp .L292
 1809 073a 85E0      		ldi r24,lo8(5)
 1810 073c 8FB9      		out 47-32,r24
 1811               	.L293:
 1812 073e 779B      		sbis 46-32,7
 1813 0740 00C0      		rjmp .L293
 1814 0742 81E0      		ldi r24,lo8(1)
 1815 0744 8FB9      		out 47-32,r24
 1816               	.L294:
 1817 0746 779B      		sbis 46-32,7
 1818 0748 00C0      		rjmp .L294
 1819 074a C09A      		sbi 56-32,0
1110:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 1821               	.LM152:
 1822 074c 0E94 0000 		call rf_flush_rx_fifo
 1823               	/* epilogue start */
1111:../../../src/radio/cc2420/source/basic_rf.c **** }
 1825               	.LM153:
 1826 0750 0895      		ret
 1828               	.Lscope24:
 1830               		.stabd	78,0,0
 1832               	.global	rf_tx_set_serial
 1834               	rf_tx_set_serial:
 1835               		.stabd	46,0,0
1112:../../../src/radio/cc2420/source/basic_rf.c **** 
1113:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1114:../../../src/radio/cc2420/source/basic_rf.c ****  * Put the radio in serial TX mode, where data is sampled from the FIFO
1115:../../../src/radio/cc2420/source/basic_rf.c ****  * pin to send after SFD, and timing is done using FIFOP
1116:../../../src/radio/cc2420/source/basic_rf.c ****  * use rf_carrier_on() to start, set FIFO to first bit, then wait for it
1117:../../../src/radio/cc2420/source/basic_rf.c ****  * to go up and down, then set next bit etc.
1118:../../../src/radio/cc2420/source/basic_rf.c ****  * NOTE: You must set the FIFO pin to output mode in order to do this!
1119:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by calling rf_data_mode()
1120:../../../src/radio/cc2420/source/basic_rf.c ****  */
1121:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_set_serial()
1122:../../../src/radio/cc2420/source/basic_rf.c **** {
 1837               	.LM154:
 1838               	.LFBB25:
 1839               	/* prologue: function */
 1840               	/* frame size = 0 */
1123:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0504); // set TXMODE to 1
 1842               	.LM155:
 1843 0752 C098      		cbi 56-32,0
 1844 0754 82E1      		ldi r24,lo8(18)
 1845 0756 8FB9      		out 47-32,r24
 1846               	.L301:
 1847 0758 779B      		sbis 46-32,7
 1848 075a 00C0      		rjmp .L301
 1849 075c 85E0      		ldi r24,lo8(5)
 1850 075e 8FB9      		out 47-32,r24
 1851               	.L302:
 1852 0760 779B      		sbis 46-32,7
 1853 0762 00C0      		rjmp .L302
 1854 0764 84E0      		ldi r24,lo8(4)
 1855 0766 8FB9      		out 47-32,r24
 1856               	.L303:
 1857 0768 779B      		sbis 46-32,7
 1858 076a 00C0      		rjmp .L303
 1859 076c C09A      		sbi 56-32,0
1124:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 1861               	.LM156:
 1862 076e 0E94 0000 		call rf_flush_rx_fifo
 1863               	/* epilogue start */
1125:../../../src/radio/cc2420/source/basic_rf.c **** }
 1865               	.LM157:
 1866 0772 0895      		ret
 1868               	.Lscope25:
 1870               		.stabd	78,0,0
 1873               	.global	rf_set_preamble_length
 1875               	rf_set_preamble_length:
 1876               		.stabd	46,0,0
1126:../../../src/radio/cc2420/source/basic_rf.c **** 
1127:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1128:../../../src/radio/cc2420/source/basic_rf.c ****  * Specifies the number of symbols to be part of preamble
1129:../../../src/radio/cc2420/source/basic_rf.c ****  * arg is equal to number of bytes - 1.
1130:../../../src/radio/cc2420/source/basic_rf.c ****  * (3 bytes is 802.15.4 compliant, so length arg would be 2)
1131:../../../src/radio/cc2420/source/basic_rf.c ****  * Length arg supports values 0 to 15. See the datasheet of course for more details
1132:../../../src/radio/cc2420/source/basic_rf.c ****  */
1133:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_preamble_length(uint8_t length)
1134:../../../src/radio/cc2420/source/basic_rf.c **** {
 1878               	.LM158:
 1879               	.LFBB26:
 1880               	/* prologue: function */
 1881               	/* frame size = 0 */
1135:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);
1136:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= (length & 0x000F);
 1883               	.LM159:
 1884 0774 282F      		mov r18,r24
 1885 0776 30E0      		ldi r19,lo8(0)
 1886 0778 2F70      		andi r18,lo8(15)
 1887 077a 3070      		andi r19,hi8(15)
 1888 077c 8091 0000 		lds r24,mdmctrl0
 1889 0780 9091 0000 		lds r25,(mdmctrl0)+1
 1890 0784 807F      		andi r24,lo8(-16)
 1891 0786 282B      		or r18,r24
 1892 0788 392B      		or r19,r25
 1893 078a 3093 0000 		sts (mdmctrl0)+1,r19
 1894 078e 2093 0000 		sts mdmctrl0,r18
1137:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1896               	.LM160:
 1897 0792 C098      		cbi 56-32,0
 1898 0794 81E1      		ldi r24,lo8(17)
 1899 0796 8FB9      		out 47-32,r24
 1900               	.L309:
 1901 0798 779B      		sbis 46-32,7
 1902 079a 00C0      		rjmp .L309
 1903 079c 3FB9      		out 47-32,r19
 1904               	.L310:
 1905 079e 779B      		sbis 46-32,7
 1906 07a0 00C0      		rjmp .L310
 1907 07a2 2FB9      		out 47-32,r18
 1908               	.L311:
 1909 07a4 779B      		sbis 46-32,7
 1910 07a6 00C0      		rjmp .L311
 1911 07a8 C09A      		sbi 56-32,0
 1912               	/* epilogue start */
1138:../../../src/radio/cc2420/source/basic_rf.c **** }
 1914               	.LM161:
 1915 07aa 0895      		ret
 1917               	.Lscope26:
 1919               		.stabd	78,0,0
 1922               	.global	rf_set_cca_mode
 1924               	rf_set_cca_mode:
 1925               		.stabd	46,0,0
1139:../../../src/radio/cc2420/source/basic_rf.c **** 
1140:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1141:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the CCA mode
1142:../../../src/radio/cc2420/source/basic_rf.c ****  * Accept 1-3 as argument
1143:../../../src/radio/cc2420/source/basic_rf.c ****  */
1144:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_mode(uint8_t mode)
1145:../../../src/radio/cc2420/source/basic_rf.c **** {
 1927               	.LM162:
 1928               	.LFBB27:
 1929               	/* prologue: function */
 1930               	/* frame size = 0 */
1146:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
1147:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= ((mode & 0x3) << 6);
 1932               	.LM163:
 1933 07ac 282F      		mov r18,r24
 1934 07ae 30E0      		ldi r19,lo8(0)
 1935 07b0 76E0      		ldi r23,6
 1936 07b2 220F      	1:	lsl r18
 1937 07b4 331F      		rol r19
 1938 07b6 7A95      		dec r23
 1939 07b8 01F4      		brne 1b
 1940 07ba 3070      		andi r19,hi8(255)
 1941 07bc 8091 0000 		lds r24,mdmctrl0
 1942 07c0 9091 0000 		lds r25,(mdmctrl0)+1
 1943 07c4 8F73      		andi r24,lo8(-193)
 1944 07c6 282B      		or r18,r24
 1945 07c8 392B      		or r19,r25
 1946 07ca 3093 0000 		sts (mdmctrl0)+1,r19
 1947 07ce 2093 0000 		sts mdmctrl0,r18
1148:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1949               	.LM164:
 1950 07d2 C098      		cbi 56-32,0
 1951 07d4 81E1      		ldi r24,lo8(17)
 1952 07d6 8FB9      		out 47-32,r24
 1953               	.L317:
 1954 07d8 779B      		sbis 46-32,7
 1955 07da 00C0      		rjmp .L317
 1956 07dc 3FB9      		out 47-32,r19
 1957               	.L318:
 1958 07de 779B      		sbis 46-32,7
 1959 07e0 00C0      		rjmp .L318
 1960 07e2 2FB9      		out 47-32,r18
 1961               	.L319:
 1962 07e4 779B      		sbis 46-32,7
 1963 07e6 00C0      		rjmp .L319
 1964 07e8 C09A      		sbi 56-32,0
 1965               	/* epilogue start */
1149:../../../src/radio/cc2420/source/basic_rf.c **** }
 1967               	.LM165:
 1968 07ea 0895      		ret
 1970               	.Lscope27:
 1972               		.stabd	78,0,0
 1974               	.global	rf_carrier_on
 1976               	rf_carrier_on:
 1977               		.stabd	46,0,0
1150:../../../src/radio/cc2420/source/basic_rf.c **** 
1151:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1152:../../../src/radio/cc2420/source/basic_rf.c ****  * start sending a carrier pulse
1153:../../../src/radio/cc2420/source/basic_rf.c ****  * assumes wdrf_radio_test_mode() was called before doing this
1154:../../../src/radio/cc2420/source/basic_rf.c ****  */
1155:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_on()
1156:../../../src/radio/cc2420/source/basic_rf.c **** {
 1979               	.LM166:
 1980               	.LFBB28:
 1981               	/* prologue: function */
 1982               	/* frame size = 0 */
1157:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1158:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1159:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1160:../../../src/radio/cc2420/source/basic_rf.c **** 
1161:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1162:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
1163:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
1164:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1165:../../../src/radio/cc2420/source/basic_rf.c **** 
1166:../../../src/radio/cc2420/source/basic_rf.c **** 
1167:../../../src/radio/cc2420/source/basic_rf.c **** 
1168:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_STXON); // tell radio to start sending
 1984               	.LM167:
 1985 07ec C098      		cbi 56-32,0
 1986 07ee 84E0      		ldi r24,lo8(4)
 1987 07f0 8FB9      		out 47-32,r24
 1988               	.L325:
 1989 07f2 779B      		sbis 46-32,7
 1990 07f4 00C0      		rjmp .L325
 1991 07f6 C09A      		sbi 56-32,0
 1992               	/* epilogue start */
1169:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1170:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1171:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1172:../../../src/radio/cc2420/source/basic_rf.c **** }
 1994               	.LM168:
 1995 07f8 0895      		ret
 1997               	.Lscope28:
 1999               		.stabd	78,0,0
 2001               	.global	rf_carrier_off
 2003               	rf_carrier_off:
 2004               		.stabd	46,0,0
1173:../../../src/radio/cc2420/source/basic_rf.c **** 
1174:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1175:../../../src/radio/cc2420/source/basic_rf.c ****  * stop sending a carrier pulse; set the radio to idle state
1176:../../../src/radio/cc2420/source/basic_rf.c ****  */
1177:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_off()
1178:../../../src/radio/cc2420/source/basic_rf.c **** {
 2006               	.LM169:
 2007               	.LFBB29:
 2008               	/* prologue: function */
 2009               	/* frame size = 0 */
1179:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1180:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1181:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1182:../../../src/radio/cc2420/source/basic_rf.c **** 
1183:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1184:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
1185:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1186:../../../src/radio/cc2420/source/basic_rf.c **** 
1187:../../../src/radio/cc2420/source/basic_rf.c **** 
1188:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); // stop radio
 2011               	.LM170:
 2012 07fa C098      		cbi 56-32,0
 2013 07fc 86E0      		ldi r24,lo8(6)
 2014 07fe 8FB9      		out 47-32,r24
 2015               	.L329:
 2016 0800 779B      		sbis 46-32,7
 2017 0802 00C0      		rjmp .L329
 2018 0804 C09A      		sbi 56-32,0
 2019               	/* epilogue start */
1189:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1190:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1191:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1192:../../../src/radio/cc2420/source/basic_rf.c **** }
 2021               	.LM171:
 2022 0806 0895      		ret
 2024               	.Lscope29:
 2026               		.stabd	78,0,0
 2029               	.global	rf_tx_packet
 2031               	rf_tx_packet:
 2032               		.stabd	46,0,0
 661:../../../src/radio/cc2420/source/basic_rf.c **** {
 2034               	.LM172:
 2035               	.LFBB30:
 2036 0808 FF92      		push r15
 2037 080a 0F93      		push r16
 2038 080c 1F93      		push r17
 2039 080e DF93      		push r29
 2040 0810 CF93      		push r28
 2041 0812 00D0      		rcall .
 2042 0814 00D0      		rcall .
 2043 0816 CDB7      		in r28,__SP_L__
 2044 0818 DEB7      		in r29,__SP_H__
 2045               	/* prologue: function */
 2046               	/* frame size = 4 */
 2047 081a DC01      		movw r26,r24
 676:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 2049               	.LM173:
 2050 081c 4091 0000 		lds r20,security_enable
 2051 0820 4423      		tst r20
 2052 0822 01F0      		breq .L333
 677:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_STXENC);
 2054               	.LM174:
 2055 0824 C098      		cbi 56-32,0
 2056 0826 8DE0      		ldi r24,lo8(13)
 2057 0828 8FB9      		out 47-32,r24
 2058               	.L334:
 2059 082a 779B      		sbis 46-32,7
 2060 082c 00C0      		rjmp .L334
 2061 082e C09A      		sbi 56-32,0
 2062               	.L333:
 679:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2064               	.LM175:
 2065 0830 1A82      		std Y+2,__zero_reg__
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2067               	.LM176:
 2068 0832 1296      		adiw r26,2
 2069 0834 2C91      		ld r18,X
 2070 0836 1297      		sbiw r26,2
 2071 0838 622F      		mov r22,r18
 2072 083a 7727      		clr r23
 2073 083c 67FD      		sbrc r22,7
 2074 083e 7095      		com r23
 2075 0840 30E0      		ldi r19,lo8(0)
 2076 0842 00C0      		rjmp .L335
 2077               	.L336:
 683:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2079               	.LM177:
 2080 0844 1396      		adiw r26,3
 2081 0846 ED91      		ld r30,X+
 2082 0848 FC91      		ld r31,X
 2083 084a 1497      		sbiw r26,3+1
 2084 084c E80F      		add r30,r24
 2085 084e F91F      		adc r31,r25
 2086 0850 8A81      		ldd r24,Y+2
 2087 0852 9081      		ld r25,Z
 2088 0854 890F      		add r24,r25
 2089 0856 8A83      		std Y+2,r24
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2091               	.LM178:
 2092 0858 3F5F      		subi r19,lo8(-(1))
 2093               	.L335:
 2094 085a 832F      		mov r24,r19
 2095 085c 90E0      		ldi r25,lo8(0)
 2096 085e 8617      		cp r24,r22
 2097 0860 9707      		cpc r25,r23
 2098 0862 04F0      		brlt .L336
 689:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2100               	.LM179:
 2101 0864 245F      		subi r18,lo8(-(12))
 2102 0866 2983      		std Y+1,r18
 2103 0868 2C50      		subi r18,lo8(-(-12))
 690:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) packetLength+=4;  // for CTR counter
 2105               	.LM180:
 2106 086a 4423      		tst r20
 2107 086c 01F0      		breq .L337
 2108 086e 205F      		subi r18,lo8(-(16))
 2109 0870 2983      		std Y+1,r18
 2110               	.L337:
 694:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2112               	.LM181:
 2113 0872 C098      		cbi 56-32,0
 2114 0874 88E0      		ldi r24,lo8(8)
 2115 0876 8FB9      		out 47-32,r24
 2116               	.L338:
 2117 0878 779B      		sbis 46-32,7
 2118 087a 00C0      		rjmp .L338
 2119 087c C09A      		sbi 56-32,0
 695:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2121               	.LM182:
 2122 087e C098      		cbi 56-32,0
 2123 0880 88E0      		ldi r24,lo8(8)
 2124 0882 8FB9      		out 47-32,r24
 2125               	.L339:
 2126 0884 779B      		sbis 46-32,7
 2127 0886 00C0      		rjmp .L339
 2128 0888 C09A      		sbi 56-32,0
 2129               	.L439:
 697:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2131               	.LM183:
 2132 088a 0E99      		sbic 33-32,6
 2133 088c 00C0      		rjmp .L439
 2134 088e 8499      		sbic 48-32,4
 2135 0890 00C0      		rjmp .L439
 699:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2137               	.LM184:
 2138               	/* #APP */
 2139               	 ;  699 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2140 0892 F894      		cli
 2141               		
 2142               	 ;  0 "" 2
 701:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2144               	.LM185:
 2145               	/* #NOAPP */
 2146 0894 C098      		cbi 56-32,0
 2147 0896 89E0      		ldi r24,lo8(9)
 2148 0898 8FB9      		out 47-32,r24
 2149               	.L341:
 2150 089a 779B      		sbis 46-32,7
 2151 089c 00C0      		rjmp .L341
 2152 089e C09A      		sbi 56-32,0
 702:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2154               	.LM186:
 2155 08a0 C098      		cbi 56-32,0
 2156 08a2 89E0      		ldi r24,lo8(9)
 2157 08a4 8FB9      		out 47-32,r24
 2158               	.L342:
 2159 08a6 779B      		sbis 46-32,7
 2160 08a8 00C0      		rjmp .L342
 2161 08aa C09A      		sbi 56-32,0
 722:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2163               	.LM187:
 2164 08ac C098      		cbi 56-32,0
 2165 08ae 8EE3      		ldi r24,lo8(62)
 2166 08b0 8FB9      		out 47-32,r24
 2167               	.L343:
 2168 08b2 779B      		sbis 46-32,7
 2169 08b4 00C0      		rjmp .L343
 2170               	.LBB13:
 2171 08b6 8981      		ldd r24,Y+1
 2172 08b8 8FB9      		out 47-32,r24
 2173               	.L344:
 2174 08ba 779B      		sbis 46-32,7
 2175 08bc 00C0      		rjmp .L344
 2176               	.LBE13:
 2177 08be C09A      		sbi 56-32,0
 723:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = RF_FCF_NOACK;   // default
 2179               	.LM188:
 2180 08c0 81E4      		ldi r24,lo8(-30655)
 2181 08c2 98E8      		ldi r25,hi8(-30655)
 2182 08c4 9C83      		std Y+4,r25
 2183 08c6 8B83      		std Y+3,r24
 724:../../../src/radio/cc2420/source/basic_rf.c ****     if(auto_ack_enable) frameControlField |= RF_ACK_BM;
 2185               	.LM189:
 2186 08c8 8091 0000 		lds r24,auto_ack_enable
 2187 08cc 8823      		tst r24
 2188 08ce 01F0      		breq .L345
 2189 08d0 81E6      		ldi r24,lo8(-30623)
 2190 08d2 98E8      		ldi r25,hi8(-30623)
 2191 08d4 9C83      		std Y+4,r25
 2192 08d6 8B83      		std Y+3,r24
 2193               	.L345:
 725:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) frameControlField |= RF_SEC_BM;
 2195               	.LM190:
 2196 08d8 4423      		tst r20
 2197 08da 01F0      		breq .L346
 2198 08dc 8B81      		ldd r24,Y+3
 2199 08de 9C81      		ldd r25,Y+4
 2200 08e0 8860      		ori r24,lo8(8)
 2201 08e2 9C83      		std Y+4,r25
 2202 08e4 8B83      		std Y+3,r24
 2203               	.L346:
 726:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2205               	.LM191:
 2206 08e6 C098      		cbi 56-32,0
 2207 08e8 8EE3      		ldi r24,lo8(62)
 2208 08ea 8FB9      		out 47-32,r24
 2209               	.L347:
 2210 08ec 779B      		sbis 46-32,7
 2211 08ee 00C0      		rjmp .L347
 2212 08f0 FE01      		movw r30,r28
 2213 08f2 3396      		adiw r30,3
 2214               	.LBB14:
 2215 08f4 9E01      		movw r18,r28
 2216 08f6 2B5F      		subi r18,lo8(-(5))
 2217 08f8 3F4F      		sbci r19,hi8(-(5))
 2218               	.L349:
 2219 08fa 8081      		ld r24,Z
 2220 08fc 8FB9      		out 47-32,r24
 2221               	.L348:
 2222 08fe 779B      		sbis 46-32,7
 2223 0900 00C0      		rjmp .L348
 2224 0902 3196      		adiw r30,1
 2225 0904 E217      		cp r30,r18
 2226 0906 F307      		cpc r31,r19
 2227 0908 01F4      		brne .L349
 2228               	.LBE14:
 2229 090a C09A      		sbi 56-32,0
 727:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 2231               	.LM192:
 2232 090c C098      		cbi 56-32,0
 2233 090e 8EE3      		ldi r24,lo8(62)
 2234 0910 8FB9      		out 47-32,r24
 2235               	.L350:
 2236 0912 779B      		sbis 46-32,7
 2237 0914 00C0      		rjmp .L350
 2238               	.LBB15:
 2239 0916 8091 0000 		lds r24,rfSettings+2
 2240 091a 8FB9      		out 47-32,r24
 2241               	.L351:
 2242 091c 779B      		sbis 46-32,7
 2243 091e 00C0      		rjmp .L351
 2244               	.LBE15:
 2245 0920 C09A      		sbi 56-32,0
 728:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 2247               	.LM193:
 2248 0922 C098      		cbi 56-32,0
 2249 0924 8EE3      		ldi r24,lo8(62)
 2250 0926 8FB9      		out 47-32,r24
 2251               	.L352:
 2252 0928 779B      		sbis 46-32,7
 2253 092a 00C0      		rjmp .L352
 2254 092c 20E0      		ldi r18,lo8(0)
 2255 092e 30E0      		ldi r19,hi8(0)
 2256               	.L354:
 2257               	.LBB16:
 2258 0930 F901      		movw r30,r18
 2259 0932 E050      		subi r30,lo8(-(rfSettings))
 2260 0934 F040      		sbci r31,hi8(-(rfSettings))
 2261 0936 8481      		ldd r24,Z+4
 2262 0938 8FB9      		out 47-32,r24
 2263               	.L353:
 2264 093a 779B      		sbis 46-32,7
 2265 093c 00C0      		rjmp .L353
 2266 093e 2F5F      		subi r18,lo8(-(1))
 2267 0940 3F4F      		sbci r19,hi8(-(1))
 2268 0942 2230      		cpi r18,2
 2269 0944 3105      		cpc r19,__zero_reg__
 2270 0946 01F4      		brne .L354
 2271               	.LBE16:
 2272 0948 C09A      		sbi 56-32,0
 729:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 2274               	.LM194:
 2275 094a C098      		cbi 56-32,0
 2276 094c 8EE3      		ldi r24,lo8(62)
 2277 094e 8FB9      		out 47-32,r24
 2278               	.L355:
 2279 0950 779B      		sbis 46-32,7
 2280 0952 00C0      		rjmp .L355
 2281               	.LBB17:
 2282 0954 FD01      		movw r30,r26
 2283 0956 9D01      		movw r18,r26
 2284 0958 2E5F      		subi r18,lo8(-(2))
 2285 095a 3F4F      		sbci r19,hi8(-(2))
 2286               	.L357:
 2287 095c 8081      		ld r24,Z
 2288 095e 8FB9      		out 47-32,r24
 2289               	.L356:
 2290 0960 779B      		sbis 46-32,7
 2291 0962 00C0      		rjmp .L356
 2292 0964 3196      		adiw r30,1
 2293 0966 E217      		cp r30,r18
 2294 0968 F307      		cpc r31,r19
 2295 096a 01F4      		brne .L357
 2296               	.LBE17:
 2297 096c C09A      		sbi 56-32,0
 730:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 2299               	.LM195:
 2300 096e C098      		cbi 56-32,0
 2301 0970 8EE3      		ldi r24,lo8(62)
 2302 0972 8FB9      		out 47-32,r24
 2303               	.L358:
 2304 0974 779B      		sbis 46-32,7
 2305 0976 00C0      		rjmp .L358
 2306 0978 20E0      		ldi r18,lo8(0)
 2307 097a 30E0      		ldi r19,hi8(0)
 2308               	.L360:
 2309               	.LBB18:
 2310 097c F901      		movw r30,r18
 2311 097e E050      		subi r30,lo8(-(rfSettings))
 2312 0980 F040      		sbci r31,hi8(-(rfSettings))
 2313 0982 8681      		ldd r24,Z+6
 2314 0984 8FB9      		out 47-32,r24
 2315               	.L359:
 2316 0986 779B      		sbis 46-32,7
 2317 0988 00C0      		rjmp .L359
 2318 098a 2F5F      		subi r18,lo8(-(1))
 2319 098c 3F4F      		sbci r19,hi8(-(1))
 2320 098e 2230      		cpi r18,2
 2321 0990 3105      		cpc r19,__zero_reg__
 2322 0992 01F4      		brne .L360
 2323               	.LBE18:
 2324 0994 C09A      		sbi 56-32,0
 731:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 2326               	.LM196:
 2327 0996 4423      		tst r20
 2328 0998 01F0      		breq .L361
 732:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_FIFO((uint8_t*) &tx_ctr, 4);         // CTR counter
 2330               	.LM197:
 2331 099a C098      		cbi 56-32,0
 2332 099c 8EE3      		ldi r24,lo8(62)
 2333 099e 8FB9      		out 47-32,r24
 2334               	.L362:
 2335 09a0 779B      		sbis 46-32,7
 2336 09a2 00C0      		rjmp .L362
 2337 09a4 E0E0      		ldi r30,lo8(tx_ctr)
 2338 09a6 F0E0      		ldi r31,hi8(tx_ctr)
 2339               	.L364:
 2340               	.LBB19:
 2341 09a8 8081      		ld r24,Z
 2342 09aa 8FB9      		out 47-32,r24
 2343               	.L363:
 2344 09ac 779B      		sbis 46-32,7
 2345 09ae 00C0      		rjmp .L363
 2346 09b0 3196      		adiw r30,1
 2347 09b2 80E0      		ldi r24,hi8(tx_ctr+4)
 2348 09b4 E030      		cpi r30,lo8(tx_ctr+4)
 2349 09b6 F807      		cpc r31,r24
 2350 09b8 01F4      		brne .L364
 2351               	.LBE19:
 2352 09ba C09A      		sbi 56-32,0
 2353               	.L361:
 734:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 2355               	.LM198:
 2356 09bc C098      		cbi 56-32,0
 2357 09be 8EE3      		ldi r24,lo8(62)
 2358 09c0 8FB9      		out 47-32,r24
 2359               	.L365:
 2360 09c2 779B      		sbis 46-32,7
 2361 09c4 00C0      		rjmp .L365
 2362 09c6 20E0      		ldi r18,lo8(0)
 2363 09c8 00C0      		rjmp .L366
 2364               	.L368:
 2365               	.LBB20:
 2366 09ca 1396      		adiw r26,3
 2367 09cc ED91      		ld r30,X+
 2368 09ce FC91      		ld r31,X
 2369 09d0 1497      		sbiw r26,3+1
 2370 09d2 E80F      		add r30,r24
 2371 09d4 F91F      		adc r31,r25
 2372 09d6 8081      		ld r24,Z
 2373 09d8 8FB9      		out 47-32,r24
 2374               	.L367:
 2375 09da 779B      		sbis 46-32,7
 2376 09dc 00C0      		rjmp .L367
 2377 09de 2F5F      		subi r18,lo8(-(1))
 2378               	.L366:
 2379 09e0 822F      		mov r24,r18
 2380 09e2 90E0      		ldi r25,lo8(0)
 2381 09e4 8617      		cp r24,r22
 2382 09e6 9707      		cpc r25,r23
 2383 09e8 04F0      		brlt .L368
 2384               	.LBE20:
 2385 09ea C09A      		sbi 56-32,0
 735:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 2387               	.LM199:
 2388 09ec C098      		cbi 56-32,0
 2389 09ee 8EE3      		ldi r24,lo8(62)
 2390 09f0 8FB9      		out 47-32,r24
 2391               	.L369:
 2392 09f2 779B      		sbis 46-32,7
 2393 09f4 00C0      		rjmp .L369
 2394               	.LBB21:
 2395 09f6 8A81      		ldd r24,Y+2
 2396 09f8 8FB9      		out 47-32,r24
 2397               	.L370:
 2398 09fa 779B      		sbis 46-32,7
 2399 09fc 00C0      		rjmp .L370
 2400               	.LBE21:
 2401 09fe C09A      		sbi 56-32,0
 737:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 2403               	.LM200:
 2404 0a00 1596      		adiw r26,5
 2405 0a02 8C91      		ld r24,X
 2406 0a04 8823      		tst r24
 2407 0a06 01F0      		breq .L371
 2408               	.LBB22:
 740:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 2410               	.LM201:
 2411 0a08 8091 0000 		lds r24,rfSettings+8
 2412 0a0c 8823      		tst r24
 2413 0a0e 01F4      		brne .L395
 742:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 2415               	.LM202:
 2416 0a10 C098      		cbi 56-32,0
 2417 0a12 83E0      		ldi r24,lo8(3)
 2418 0a14 8FB9      		out 47-32,r24
 2419               	.L373:
 2420 0a16 779B      		sbis 46-32,7
 2421 0a18 00C0      		rjmp .L373
 2422 0a1a C09A      		sbi 56-32,0
 2423               	.L395:
 748:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2425               	.LM203:
 2426 0a1c C098      		cbi 56-32,0
 2427 0a1e 1FB8      		out 47-32,__zero_reg__
 2428               	.L374:
 2429 0a20 779B      		sbis 46-32,7
 2430 0a22 00C0      		rjmp .L374
 2431 0a24 8FB1      		in r24,47-32
 2432 0a26 C09A      		sbi 56-32,0
 750:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 2434               	.LM204:
 2435 0a28 81FF      		sbrs r24,1
 2436 0a2a 00C0      		rjmp .L395
 2437 0a2c 10E0      		ldi r17,lo8(0)
 755:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 2439               	.LM205:
 2440 0a2e E5E0      		ldi r30,lo8(5)
 2441 0a30 FE2E      		mov r15,r30
 2442               	.L379:
 2443 0a32 C098      		cbi 56-32,0
 2444 0a34 FFB8      		out 47-32,r15
 2445               	.L375:
 2446 0a36 779B      		sbis 46-32,7
 2447 0a38 00C0      		rjmp .L375
 2448 0a3a C09A      		sbi 56-32,0
 756:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2450               	.LM206:
 2451 0a3c C098      		cbi 56-32,0
 2452 0a3e 1FB8      		out 47-32,__zero_reg__
 2453               	.L376:
 2454 0a40 779B      		sbis 46-32,7
 2455 0a42 00C0      		rjmp .L376
 2456 0a44 0FB1      		in r16,47-32
 2457 0a46 C09A      		sbi 56-32,0
 757:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 2459               	.LM207:
 2460 0a48 1F5F      		subi r17,lo8(-(1))
 758:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 2462               	.LM208:
 2463 0a4a 1536      		cpi r17,lo8(101)
 2464 0a4c 01F4      		brne .L377
 760:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 2466               	.LM209:
 2467               	/* #APP */
 2468               	 ;  760 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2469 0a4e 7894      		sei
 2470               		
 2471               	 ;  0 "" 2
 761:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 2473               	.LM210:
 2474               	/* #NOAPP */
 2475 0a50 8091 0000 		lds r24,radio_sem
 2476 0a54 9091 0000 		lds r25,(radio_sem)+1
 2477 0a58 0E94 0000 		call nrk_sem_post
 2478 0a5c 90E0      		ldi r25,lo8(0)
 2479 0a5e 00C0      		rjmp .L378
 2480               	.L377:
 764:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 2482               	.LM211:
 2483 0a60 84E6      		ldi r24,lo8(100)
 2484 0a62 90E0      		ldi r25,hi8(100)
 2485 0a64 0E94 0000 		call halWait
 766:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 2487               	.LM212:
 2488 0a68 03FF      		sbrs r16,3
 2489 0a6a 00C0      		rjmp .L379
 2490 0a6c 00C0      		rjmp .L380
 2491               	.L371:
 2492               	.LBE22:
 769:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 2494               	.LM213:
 2495 0a6e C098      		cbi 56-32,0
 2496 0a70 84E0      		ldi r24,lo8(4)
 2497 0a72 8FB9      		out 47-32,r24
 2498               	.L381:
 2499 0a74 779B      		sbis 46-32,7
 2500 0a76 00C0      		rjmp .L381
 2501 0a78 C09A      		sbi 56-32,0
 2502               	.L380:
 771:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 2504               	.LM214:
 2505               	/* #APP */
 2506               	 ;  771 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2507 0a7a 7894      		sei
 2508               		
 2509               	 ;  0 "" 2
 2510               	/* #NOAPP */
 2511               	.L382:
 774:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 2513               	.LM215:
 2514 0a7c 849B      		sbis 48-32,4
 2515 0a7e 00C0      		rjmp .L382
 2516               	.L394:
 780:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 2518               	.LM216:
 2519 0a80 8499      		sbic 48-32,4
 2520 0a82 00C0      		rjmp .L394
 783:../../../src/radio/cc2420/source/basic_rf.c ****     if (auto_ack_enable)
 2522               	.LM217:
 2523 0a84 8091 0000 		lds r24,auto_ack_enable
 2524 0a88 8823      		tst r24
 2525 0a8a 01F0      		breq .L440
 2526               	.L384:
 793:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 2528               	.LM218:
 2529 0a8c 84EA      		ldi r24,lo8(676)
 2530 0a8e 92E0      		ldi r25,hi8(676)
 2531 0a90 0E94 0000 		call halWait
 795:../../../src/radio/cc2420/source/basic_rf.c ****         if(FIFO_IS_1)
 2533               	.LM219:
 2534 0a94 B79B      		sbis 54-32,7
 2535 0a96 00C0      		rjmp .L386
 797:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(length);
 2537               	.LM220:
 2538 0a98 C098      		cbi 56-32,0
 2539 0a9a 8FE7      		ldi r24,lo8(127)
 2540 0a9c 8FB9      		out 47-32,r24
 2541               	.L387:
 2542 0a9e 779B      		sbis 46-32,7
 2543 0aa0 00C0      		rjmp .L387
 2544 0aa2 1FB8      		out 47-32,__zero_reg__
 2545               	.L388:
 2546 0aa4 779B      		sbis 46-32,7
 2547 0aa6 00C0      		rjmp .L388
 2548 0aa8 8FB1      		in r24,47-32
 2549 0aaa C09A      		sbi 56-32,0
 2550               	.L440:
 2551 0aac 91E0      		ldi r25,lo8(1)
 2552 0aae 00C0      		rjmp .L385
 2553               	.L386:
 804:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 2555               	.LM221:
 2556 0ab0 C098      		cbi 56-32,0
 2557 0ab2 88E0      		ldi r24,lo8(8)
 2558 0ab4 8FB9      		out 47-32,r24
 2559               	.L389:
 2560 0ab6 779B      		sbis 46-32,7
 2561 0ab8 00C0      		rjmp .L389
 2562 0aba C09A      		sbi 56-32,0
 805:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 2564               	.LM222:
 2565 0abc C098      		cbi 56-32,0
 2566 0abe 88E0      		ldi r24,lo8(8)
 2567 0ac0 8FB9      		out 47-32,r24
 2568               	.L390:
 2569 0ac2 779B      		sbis 46-32,7
 2570 0ac4 00C0      		rjmp .L390
 2571 0ac6 C09A      		sbi 56-32,0
 2572 0ac8 90E0      		ldi r25,lo8(0)
 2573               	.L385:
 814:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2575               	.LM223:
 2576               	/* #APP */
 2577               	 ;  814 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2578 0aca F894      		cli
 2579               		
 2580               	 ;  0 "" 2
 823:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 2582               	.LM224:
 2583               	/* #NOAPP */
 2584 0acc C098      		cbi 56-32,0
 2585 0ace 86E0      		ldi r24,lo8(6)
 2586 0ad0 8FB9      		out 47-32,r24
 2587               	.L391:
 2588 0ad2 779B      		sbis 46-32,7
 2589 0ad4 00C0      		rjmp .L391
 2590 0ad6 C09A      		sbi 56-32,0
 824:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 2592               	.LM225:
 2593               	/* #APP */
 2594               	 ;  824 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2595 0ad8 7894      		sei
 2596               		
 2597               	 ;  0 "" 2
 830:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 2599               	.LM226:
 2600               	/* #NOAPP */
 2601 0ada 8091 0000 		lds r24,rfSettings+2
 2602 0ade 8F5F      		subi r24,lo8(-(1))
 2603 0ae0 8093 0000 		sts rfSettings+2,r24
 2604               	.L378:
 837:../../../src/radio/cc2420/source/basic_rf.c **** }
 2606               	.LM227:
 2607 0ae4 892F      		mov r24,r25
 2608               	/* epilogue start */
 2609 0ae6 0F90      		pop __tmp_reg__
 2610 0ae8 0F90      		pop __tmp_reg__
 2611 0aea 0F90      		pop __tmp_reg__
 2612 0aec 0F90      		pop __tmp_reg__
 2613 0aee CF91      		pop r28
 2614 0af0 DF91      		pop r29
 2615 0af2 1F91      		pop r17
 2616 0af4 0F91      		pop r16
 2617 0af6 FF90      		pop r15
 2618 0af8 0895      		ret
 2635               	.Lscope30:
 2637               		.stabd	78,0,0
 2642               	.global	rf_tx_tdma_packet
 2644               	rf_tx_tdma_packet:
 2645               		.stabd	46,0,0
 456:../../../src/radio/cc2420/source/basic_rf.c **** {
 2647               	.LM228:
 2648               	.LFBB31:
 2649 0afa CF92      		push r12
 2650 0afc DF92      		push r13
 2651 0afe EF92      		push r14
 2652 0b00 FF92      		push r15
 2653 0b02 0F93      		push r16
 2654 0b04 1F93      		push r17
 2655 0b06 DF93      		push r29
 2656 0b08 CF93      		push r28
 2657 0b0a 00D0      		rcall .
 2658 0b0c 00D0      		rcall .
 2659 0b0e CDB7      		in r28,__SP_L__
 2660 0b10 DEB7      		in r29,__SP_H__
 2661               	/* prologue: function */
 2662               	/* frame size = 4 */
 2663 0b12 7C01      		movw r14,r24
 2664 0b14 8B01      		movw r16,r22
 2665 0b16 6A01      		movw r12,r20
 467:../../../src/radio/cc2420/source/basic_rf.c ****     timestamp=_nrk_os_timer_get();
 2667               	.LM229:
 2668 0b18 0E94 0000 		call _nrk_os_timer_get
 473:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2670               	.LM230:
 2671 0b1c C098      		cbi 56-32,0
 2672 0b1e 88E0      		ldi r24,lo8(8)
 2673 0b20 8FB9      		out 47-32,r24
 2674               	.L442:
 2675 0b22 779B      		sbis 46-32,7
 2676 0b24 00C0      		rjmp .L442
 2677 0b26 C09A      		sbi 56-32,0
 474:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2679               	.LM231:
 2680 0b28 C098      		cbi 56-32,0
 2681 0b2a 88E0      		ldi r24,lo8(8)
 2682 0b2c 8FB9      		out 47-32,r24
 2683               	.L443:
 2684 0b2e 779B      		sbis 46-32,7
 2685 0b30 00C0      		rjmp .L443
 2686 0b32 C09A      		sbi 56-32,0
 2687               	.L533:
 476:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2689               	.LM232:
 2690 0b34 0E99      		sbic 33-32,6
 2691 0b36 00C0      		rjmp .L533
 2692 0b38 8499      		sbic 48-32,4
 2693 0b3a 00C0      		rjmp .L533
 478:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2695               	.LM233:
 2696               	/* #APP */
 2697               	 ;  478 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2698 0b3c F894      		cli
 2699               		
 2700               	 ;  0 "" 2
 480:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2702               	.LM234:
 2703               	/* #NOAPP */
 2704 0b3e C098      		cbi 56-32,0
 2705 0b40 89E0      		ldi r24,lo8(9)
 2706 0b42 8FB9      		out 47-32,r24
 2707               	.L445:
 2708 0b44 779B      		sbis 46-32,7
 2709 0b46 00C0      		rjmp .L445
 2710 0b48 C09A      		sbi 56-32,0
 481:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2712               	.LM235:
 2713 0b4a C098      		cbi 56-32,0
 2714 0b4c 89E0      		ldi r24,lo8(9)
 2715 0b4e 8FB9      		out 47-32,r24
 2716               	.L446:
 2717 0b50 779B      		sbis 46-32,7
 2718 0b52 00C0      		rjmp .L446
 2719 0b54 C09A      		sbi 56-32,0
 483:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2721               	.LM236:
 2722 0b56 1A82      		std Y+2,__zero_reg__
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2724               	.LM237:
 2725 0b58 D701      		movw r26,r14
 2726 0b5a 1296      		adiw r26,2
 2727 0b5c 3C91      		ld r19,X
 2728 0b5e 432F      		mov r20,r19
 2729 0b60 5527      		clr r21
 2730 0b62 47FD      		sbrc r20,7
 2731 0b64 5095      		com r21
 2732 0b66 20E0      		ldi r18,lo8(0)
 2733 0b68 00C0      		rjmp .L447
 2734               	.L448:
 487:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2736               	.LM238:
 2737 0b6a D701      		movw r26,r14
 2738 0b6c 1396      		adiw r26,3
 2739 0b6e ED91      		ld r30,X+
 2740 0b70 FC91      		ld r31,X
 2741 0b72 1497      		sbiw r26,3+1
 2742 0b74 E80F      		add r30,r24
 2743 0b76 F91F      		adc r31,r25
 2744 0b78 8A81      		ldd r24,Y+2
 2745 0b7a 9081      		ld r25,Z
 2746 0b7c 890F      		add r24,r25
 2747 0b7e 8A83      		std Y+2,r24
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2749               	.LM239:
 2750 0b80 2F5F      		subi r18,lo8(-(1))
 2751               	.L447:
 2752 0b82 822F      		mov r24,r18
 2753 0b84 90E0      		ldi r25,lo8(0)
 2754 0b86 8417      		cp r24,r20
 2755 0b88 9507      		cpc r25,r21
 2756 0b8a 04F0      		brlt .L448
 489:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2758               	.LM240:
 2759 0b8c 932F      		mov r25,r19
 2760 0b8e 945F      		subi r25,lo8(-(12))
 2761 0b90 9983      		std Y+1,r25
 497:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2763               	.LM241:
 2764 0b92 C098      		cbi 56-32,0
 2765 0b94 8EE3      		ldi r24,lo8(62)
 2766 0b96 8FB9      		out 47-32,r24
 2767               	.L449:
 2768 0b98 779B      		sbis 46-32,7
 2769 0b9a 00C0      		rjmp .L449
 2770               	.LBB23:
 2771 0b9c 9FB9      		out 47-32,r25
 2772               	.L450:
 2773 0b9e 779B      		sbis 46-32,7
 2774 0ba0 00C0      		rjmp .L450
 2775               	.LBE23:
 2776 0ba2 C09A      		sbi 56-32,0
 498:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = pRTI->ackRequest ? RF_FCF_ACK : RF_FCF_NOACK;
 2778               	.LM242:
 2779 0ba4 F701      		movw r30,r14
 2780 0ba6 8681      		ldd r24,Z+6
 2781 0ba8 8823      		tst r24
 2782 0baa 01F4      		brne .L451
 2783 0bac 81E4      		ldi r24,lo8(-30655)
 2784 0bae 98E8      		ldi r25,hi8(-30655)
 2785 0bb0 00C0      		rjmp .L452
 2786               	.L451:
 2787 0bb2 81E6      		ldi r24,lo8(-30623)
 2788 0bb4 98E8      		ldi r25,hi8(-30623)
 2789               	.L452:
 2790 0bb6 9C83      		std Y+4,r25
 2791 0bb8 8B83      		std Y+3,r24
 499:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2793               	.LM243:
 2794 0bba C098      		cbi 56-32,0
 2795 0bbc 8EE3      		ldi r24,lo8(62)
 2796 0bbe 8FB9      		out 47-32,r24
 2797               	.L453:
 2798 0bc0 779B      		sbis 46-32,7
 2799 0bc2 00C0      		rjmp .L453
 2800 0bc4 FE01      		movw r30,r28
 2801 0bc6 3396      		adiw r30,3
 2802               	.LBB24:
 2803 0bc8 9E01      		movw r18,r28
 2804 0bca 2B5F      		subi r18,lo8(-(5))
 2805 0bcc 3F4F      		sbci r19,hi8(-(5))
 2806               	.L455:
 2807 0bce 8081      		ld r24,Z
 2808 0bd0 8FB9      		out 47-32,r24
 2809               	.L454:
 2810 0bd2 779B      		sbis 46-32,7
 2811 0bd4 00C0      		rjmp .L454
 2812 0bd6 3196      		adiw r30,1
 2813 0bd8 E217      		cp r30,r18
 2814 0bda F307      		cpc r31,r19
 2815 0bdc 01F4      		brne .L455
 2816               	.LBE24:
 2817 0bde C09A      		sbi 56-32,0
 500:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 2819               	.LM244:
 2820 0be0 C098      		cbi 56-32,0
 2821 0be2 8EE3      		ldi r24,lo8(62)
 2822 0be4 8FB9      		out 47-32,r24
 2823               	.L456:
 2824 0be6 779B      		sbis 46-32,7
 2825 0be8 00C0      		rjmp .L456
 2826               	.LBB25:
 2827 0bea 8091 0000 		lds r24,rfSettings+2
 2828 0bee 8FB9      		out 47-32,r24
 2829               	.L457:
 2830 0bf0 779B      		sbis 46-32,7
 2831 0bf2 00C0      		rjmp .L457
 2832               	.LBE25:
 2833 0bf4 C09A      		sbi 56-32,0
 501:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 2835               	.LM245:
 2836 0bf6 C098      		cbi 56-32,0
 2837 0bf8 8EE3      		ldi r24,lo8(62)
 2838 0bfa 8FB9      		out 47-32,r24
 2839               	.L458:
 2840 0bfc 779B      		sbis 46-32,7
 2841 0bfe 00C0      		rjmp .L458
 2842 0c00 20E0      		ldi r18,lo8(0)
 2843 0c02 30E0      		ldi r19,hi8(0)
 2844               	.L460:
 2845               	.LBB26:
 2846 0c04 F901      		movw r30,r18
 2847 0c06 E050      		subi r30,lo8(-(rfSettings))
 2848 0c08 F040      		sbci r31,hi8(-(rfSettings))
 2849 0c0a 8481      		ldd r24,Z+4
 2850 0c0c 8FB9      		out 47-32,r24
 2851               	.L459:
 2852 0c0e 779B      		sbis 46-32,7
 2853 0c10 00C0      		rjmp .L459
 2854 0c12 2F5F      		subi r18,lo8(-(1))
 2855 0c14 3F4F      		sbci r19,hi8(-(1))
 2856 0c16 2230      		cpi r18,2
 2857 0c18 3105      		cpc r19,__zero_reg__
 2858 0c1a 01F4      		brne .L460
 2859               	.LBE26:
 2860 0c1c C09A      		sbi 56-32,0
 502:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 2862               	.LM246:
 2863 0c1e C098      		cbi 56-32,0
 2864 0c20 8EE3      		ldi r24,lo8(62)
 2865 0c22 8FB9      		out 47-32,r24
 2866               	.L461:
 2867 0c24 779B      		sbis 46-32,7
 2868 0c26 00C0      		rjmp .L461
 2869               	.LBB27:
 2870 0c28 F701      		movw r30,r14
 2871 0c2a 9701      		movw r18,r14
 2872 0c2c 2E5F      		subi r18,lo8(-(2))
 2873 0c2e 3F4F      		sbci r19,hi8(-(2))
 2874               	.L463:
 2875 0c30 8081      		ld r24,Z
 2876 0c32 8FB9      		out 47-32,r24
 2877               	.L462:
 2878 0c34 779B      		sbis 46-32,7
 2879 0c36 00C0      		rjmp .L462
 2880 0c38 3196      		adiw r30,1
 2881 0c3a E217      		cp r30,r18
 2882 0c3c F307      		cpc r31,r19
 2883 0c3e 01F4      		brne .L463
 2884               	.LBE27:
 2885 0c40 C09A      		sbi 56-32,0
 503:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 2887               	.LM247:
 2888 0c42 C098      		cbi 56-32,0
 2889 0c44 8EE3      		ldi r24,lo8(62)
 2890 0c46 8FB9      		out 47-32,r24
 2891               	.L464:
 2892 0c48 779B      		sbis 46-32,7
 2893 0c4a 00C0      		rjmp .L464
 2894 0c4c 20E0      		ldi r18,lo8(0)
 2895 0c4e 30E0      		ldi r19,hi8(0)
 2896               	.L466:
 2897               	.LBB28:
 2898 0c50 F901      		movw r30,r18
 2899 0c52 E050      		subi r30,lo8(-(rfSettings))
 2900 0c54 F040      		sbci r31,hi8(-(rfSettings))
 2901 0c56 8681      		ldd r24,Z+6
 2902 0c58 8FB9      		out 47-32,r24
 2903               	.L465:
 2904 0c5a 779B      		sbis 46-32,7
 2905 0c5c 00C0      		rjmp .L465
 2906 0c5e 2F5F      		subi r18,lo8(-(1))
 2907 0c60 3F4F      		sbci r19,hi8(-(1))
 2908 0c62 2230      		cpi r18,2
 2909 0c64 3105      		cpc r19,__zero_reg__
 2910 0c66 01F4      		brne .L466
 2911               	.LBE28:
 2912 0c68 C09A      		sbi 56-32,0
 505:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_high_speed_timer_wait(slot_start_time,tx_guard_time);
 2914               	.LM248:
 2915 0c6a C801      		movw r24,r16
 2916 0c6c B601      		movw r22,r12
 2917 0c6e 0E94 0000 		call nrk_high_speed_timer_wait
 543:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 2919               	.LM249:
 2920 0c72 D701      		movw r26,r14
 2921 0c74 1596      		adiw r26,5
 2922 0c76 8C91      		ld r24,X
 2923 0c78 8823      		tst r24
 2924 0c7a 01F0      		breq .L467
 2925               	.LBB29:
 546:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 2927               	.LM250:
 2928 0c7c 8091 0000 		lds r24,rfSettings+8
 2929 0c80 8823      		tst r24
 2930 0c82 01F4      		brne .L493
 548:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 2932               	.LM251:
 2933 0c84 C098      		cbi 56-32,0
 2934 0c86 83E0      		ldi r24,lo8(3)
 2935 0c88 8FB9      		out 47-32,r24
 2936               	.L469:
 2937 0c8a 779B      		sbis 46-32,7
 2938 0c8c 00C0      		rjmp .L469
 2939 0c8e C09A      		sbi 56-32,0
 2940               	.L493:
 554:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2942               	.LM252:
 2943 0c90 C098      		cbi 56-32,0
 2944 0c92 1FB8      		out 47-32,__zero_reg__
 2945               	.L470:
 2946 0c94 779B      		sbis 46-32,7
 2947 0c96 00C0      		rjmp .L470
 2948 0c98 8FB1      		in r24,47-32
 2949 0c9a C09A      		sbi 56-32,0
 556:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 2951               	.LM253:
 2952 0c9c 81FF      		sbrs r24,1
 2953 0c9e 00C0      		rjmp .L493
 2954 0ca0 10E0      		ldi r17,lo8(0)
 562:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 2956               	.LM254:
 2957 0ca2 F5E0      		ldi r31,lo8(5)
 2958 0ca4 DF2E      		mov r13,r31
 2959               	.L475:
 2960 0ca6 C098      		cbi 56-32,0
 2961 0ca8 DFB8      		out 47-32,r13
 2962               	.L471:
 2963 0caa 779B      		sbis 46-32,7
 2964 0cac 00C0      		rjmp .L471
 2965 0cae C09A      		sbi 56-32,0
 563:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2967               	.LM255:
 2968 0cb0 C098      		cbi 56-32,0
 2969 0cb2 1FB8      		out 47-32,__zero_reg__
 2970               	.L472:
 2971 0cb4 779B      		sbis 46-32,7
 2972 0cb6 00C0      		rjmp .L472
 2973 0cb8 0FB1      		in r16,47-32
 2974 0cba C09A      		sbi 56-32,0
 564:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 2976               	.LM256:
 2977 0cbc 1F5F      		subi r17,lo8(-(1))
 565:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 2979               	.LM257:
 2980 0cbe 1536      		cpi r17,lo8(101)
 2981 0cc0 01F4      		brne .L473
 567:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 2983               	.LM258:
 2984               	/* #APP */
 2985               	 ;  567 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2986 0cc2 7894      		sei
 2987               		
 2988               	 ;  0 "" 2
 568:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 2990               	.LM259:
 2991               	/* #NOAPP */
 2992 0cc4 8091 0000 		lds r24,radio_sem
 2993 0cc8 9091 0000 		lds r25,(radio_sem)+1
 2994 0ccc 0E94 0000 		call nrk_sem_post
 2995 0cd0 80E0      		ldi r24,lo8(0)
 2996 0cd2 00C0      		rjmp .L474
 2997               	.L473:
 571:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 2999               	.LM260:
 3000 0cd4 84E6      		ldi r24,lo8(100)
 3001 0cd6 90E0      		ldi r25,hi8(100)
 3002 0cd8 0E94 0000 		call halWait
 573:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 3004               	.LM261:
 3005 0cdc 03FF      		sbrs r16,3
 3006 0cde 00C0      		rjmp .L475
 3007 0ce0 00C0      		rjmp .L476
 3008               	.L467:
 3009               	.LBE29:
 576:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 3011               	.LM262:
 3012 0ce2 C098      		cbi 56-32,0
 3013 0ce4 84E0      		ldi r24,lo8(4)
 3014 0ce6 8FB9      		out 47-32,r24
 3015               	.L477:
 3016 0ce8 779B      		sbis 46-32,7
 3017 0cea 00C0      		rjmp .L477
 3018 0cec C09A      		sbi 56-32,0
 3019               	.L476:
 581:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 3021               	.LM263:
 3022 0cee C098      		cbi 56-32,0
 3023 0cf0 8EE3      		ldi r24,lo8(62)
 3024 0cf2 8FB9      		out 47-32,r24
 3025               	.L478:
 3026 0cf4 779B      		sbis 46-32,7
 3027 0cf6 00C0      		rjmp .L478
 3028               	.LBB30:
 3029 0cf8 F701      		movw r30,r14
 3030 0cfa 8281      		ldd r24,Z+2
 3031 0cfc 482F      		mov r20,r24
 3032 0cfe 5527      		clr r21
 3033 0d00 47FD      		sbrc r20,7
 3034 0d02 5095      		com r21
 3035 0d04 20E0      		ldi r18,lo8(0)
 3036 0d06 00C0      		rjmp .L479
 3037               	.L481:
 3038 0d08 D701      		movw r26,r14
 3039 0d0a 1396      		adiw r26,3
 3040 0d0c ED91      		ld r30,X+
 3041 0d0e FC91      		ld r31,X
 3042 0d10 1497      		sbiw r26,3+1
 3043 0d12 E80F      		add r30,r24
 3044 0d14 F91F      		adc r31,r25
 3045 0d16 8081      		ld r24,Z
 3046 0d18 8FB9      		out 47-32,r24
 3047               	.L480:
 3048 0d1a 779B      		sbis 46-32,7
 3049 0d1c 00C0      		rjmp .L480
 3050 0d1e 2F5F      		subi r18,lo8(-(1))
 3051               	.L479:
 3052 0d20 822F      		mov r24,r18
 3053 0d22 90E0      		ldi r25,lo8(0)
 3054 0d24 8417      		cp r24,r20
 3055 0d26 9507      		cpc r25,r21
 3056 0d28 04F0      		brlt .L481
 3057               	.LBE30:
 3058 0d2a C09A      		sbi 56-32,0
 582:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 3060               	.LM264:
 3061 0d2c C098      		cbi 56-32,0
 3062 0d2e 8EE3      		ldi r24,lo8(62)
 3063 0d30 8FB9      		out 47-32,r24
 3064               	.L482:
 3065 0d32 779B      		sbis 46-32,7
 3066 0d34 00C0      		rjmp .L482
 3067               	.LBB31:
 3068 0d36 8A81      		ldd r24,Y+2
 3069 0d38 8FB9      		out 47-32,r24
 3070               	.L483:
 3071 0d3a 779B      		sbis 46-32,7
 3072 0d3c 00C0      		rjmp .L483
 3073               	.LBE31:
 3074 0d3e C09A      		sbi 56-32,0
 3075               	.L484:
 590:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 3077               	.LM265:
 3078 0d40 849B      		sbis 48-32,4
 3079 0d42 00C0      		rjmp .L484
 612:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 3081               	.LM266:
 3082               	/* #APP */
 3083               	 ;  612 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3084 0d44 F894      		cli
 3085               		
 3086               	 ;  0 "" 2
 3087               	/* #NOAPP */
 3088               	.L485:
 616:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 3090               	.LM267:
 3091 0d46 8499      		sbic 48-32,4
 3092 0d48 00C0      		rjmp .L485
 618:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 3094               	.LM268:
 3095 0d4a C098      		cbi 56-32,0
 3096 0d4c 88E0      		ldi r24,lo8(8)
 3097 0d4e 8FB9      		out 47-32,r24
 3098               	.L486:
 3099 0d50 779B      		sbis 46-32,7
 3100 0d52 00C0      		rjmp .L486
 3101 0d54 C09A      		sbi 56-32,0
 619:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 3103               	.LM269:
 3104 0d56 C098      		cbi 56-32,0
 3105 0d58 88E0      		ldi r24,lo8(8)
 3106 0d5a 8FB9      		out 47-32,r24
 3107               	.L487:
 3108 0d5c 779B      		sbis 46-32,7
 3109 0d5e 00C0      		rjmp .L487
 3110 0d60 C09A      		sbi 56-32,0
 620:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 3112               	.LM270:
 3113 0d62 C098      		cbi 56-32,0
 3114 0d64 89E0      		ldi r24,lo8(9)
 3115 0d66 8FB9      		out 47-32,r24
 3116               	.L488:
 3117 0d68 779B      		sbis 46-32,7
 3118 0d6a 00C0      		rjmp .L488
 3119 0d6c C09A      		sbi 56-32,0
 621:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 3121               	.LM271:
 3122 0d6e C098      		cbi 56-32,0
 3123 0d70 89E0      		ldi r24,lo8(9)
 3124 0d72 8FB9      		out 47-32,r24
 3125               	.L489:
 3126 0d74 779B      		sbis 46-32,7
 3127 0d76 00C0      		rjmp .L489
 3128 0d78 C09A      		sbi 56-32,0
 626:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 3130               	.LM272:
 3131 0d7a C098      		cbi 56-32,0
 3132 0d7c 86E0      		ldi r24,lo8(6)
 3133 0d7e 8FB9      		out 47-32,r24
 3134               	.L490:
 3135 0d80 779B      		sbis 46-32,7
 3136 0d82 00C0      		rjmp .L490
 3137 0d84 C09A      		sbi 56-32,0
 627:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3139               	.LM273:
 3140               	/* #APP */
 3141               	 ;  627 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3142 0d86 7894      		sei
 3143               		
 3144               	 ;  0 "" 2
 631:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 3146               	.LM274:
 3147               	/* #NOAPP */
 3148 0d88 8091 0000 		lds r24,rfSettings+2
 3149 0d8c 8F5F      		subi r24,lo8(-(1))
 3150 0d8e 8093 0000 		sts rfSettings+2,r24
 3151 0d92 81E0      		ldi r24,lo8(1)
 3152               	.L474:
 3153               	/* epilogue start */
 639:../../../src/radio/cc2420/source/basic_rf.c **** }
 3155               	.LM275:
 3156 0d94 0F90      		pop __tmp_reg__
 3157 0d96 0F90      		pop __tmp_reg__
 3158 0d98 0F90      		pop __tmp_reg__
 3159 0d9a 0F90      		pop __tmp_reg__
 3160 0d9c CF91      		pop r28
 3161 0d9e DF91      		pop r29
 3162 0da0 1F91      		pop r17
 3163 0da2 0F91      		pop r16
 3164 0da4 FF90      		pop r15
 3165 0da6 EF90      		pop r14
 3166 0da8 DF90      		pop r13
 3167 0daa CF90      		pop r12
 3168 0dac 0895      		ret
 3184               	.Lscope31:
 3186               		.stabd	78,0,0
 3189               	.global	rf_addr_decode_set_my_mac
 3191               	rf_addr_decode_set_my_mac:
 3192               		.stabd	46,0,0
 214:../../../src/radio/cc2420/source/basic_rf.c **** {
 3194               	.LM276:
 3195               	.LFBB32:
 3196 0dae DF93      		push r29
 3197 0db0 CF93      		push r28
 3198 0db2 00D0      		rcall .
 3199 0db4 CDB7      		in r28,__SP_L__
 3200 0db6 DEB7      		in r29,__SP_H__
 3201               	/* prologue: function */
 3202               	/* frame size = 2 */
 3203 0db8 9A83      		std Y+2,r25
 3204 0dba 8983      		std Y+1,r24
 216:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = my_mac;
 3206               	.LM277:
 3207 0dbc 9093 0000 		sts (rfSettings+6)+1,r25
 3208 0dc0 8093 0000 		sts rfSettings+6,r24
 217:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 3210               	.LM278:
 3211 0dc4 84EF      		ldi r24,lo8(500)
 3212 0dc6 91E0      		ldi r25,hi8(500)
 3213 0dc8 0E94 0000 		call nrk_spin_wait_us
 218:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&my_mac, CC2420RAM_SHORTADDR, 2, n);
 3215               	.LM279:
 3216 0dcc C098      		cbi 56-32,0
 3217 0dce 8AEE      		ldi r24,lo8(-22)
 3218 0dd0 8FB9      		out 47-32,r24
 3219               	.L535:
 3220 0dd2 779B      		sbis 46-32,7
 3221 0dd4 00C0      		rjmp .L535
 3222 0dd6 80E8      		ldi r24,lo8(-128)
 3223 0dd8 8FB9      		out 47-32,r24
 3224               	.L536:
 3225 0dda 779B      		sbis 46-32,7
 3226 0ddc 00C0      		rjmp .L536
 3227 0dde FE01      		movw r30,r28
 3228 0de0 3196      		adiw r30,1
 3229 0de2 9E01      		movw r18,r28
 3230 0de4 2D5F      		subi r18,lo8(-(3))
 3231 0de6 3F4F      		sbci r19,hi8(-(3))
 3232               	.L538:
 3233 0de8 8081      		ld r24,Z
 3234 0dea 8FB9      		out 47-32,r24
 3235               	.L537:
 3236 0dec 779B      		sbis 46-32,7
 3237 0dee 00C0      		rjmp .L537
 3238 0df0 3196      		adiw r30,1
 3239 0df2 E217      		cp r30,r18
 3240 0df4 F307      		cpc r31,r19
 3241 0df6 01F4      		brne .L538
 3242 0df8 C09A      		sbi 56-32,0
 219:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 3244               	.LM280:
 3245 0dfa 84EF      		ldi r24,lo8(500)
 3246 0dfc 91E0      		ldi r25,hi8(500)
 3247 0dfe 0E94 0000 		call nrk_spin_wait_us
 3248               	/* epilogue start */
 220:../../../src/radio/cc2420/source/basic_rf.c **** }
 3250               	.LM281:
 3251 0e02 0F90      		pop __tmp_reg__
 3252 0e04 0F90      		pop __tmp_reg__
 3253 0e06 CF91      		pop r28
 3254 0e08 DF91      		pop r29
 3255 0e0a 0895      		ret
 3257               	.Lscope32:
 3259               		.stabd	78,0,0
 3261               	.global	rf_security_set_key
 3263               	rf_security_set_key:
 3264               		.stabd	46,0,0
 106:../../../src/radio/cc2420/source/basic_rf.c **** {
 3266               	.LM282:
 3267               	.LFBB33:
 3268 0e0c 4F92      		push r4
 3269 0e0e 5F92      		push r5
 3270 0e10 6F92      		push r6
 3271 0e12 7F92      		push r7
 3272 0e14 8F92      		push r8
 3273 0e16 9F92      		push r9
 3274 0e18 AF92      		push r10
 3275 0e1a BF92      		push r11
 3276 0e1c CF92      		push r12
 3277 0e1e DF92      		push r13
 3278 0e20 EF92      		push r14
 3279 0e22 FF92      		push r15
 3280 0e24 0F93      		push r16
 3281 0e26 1F93      		push r17
 3282 0e28 DF93      		push r29
 3283 0e2a CF93      		push r28
 3284 0e2c 00D0      		rcall .
 3285 0e2e CDB7      		in r28,__SP_L__
 3286 0e30 DEB7      		in r29,__SP_H__
 3287               	/* prologue: function */
 3288               	/* frame size = 2 */
 3289 0e32 182F      		mov r17,r24
 3290 0e34 092F      		mov r16,r25
 111:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 3292               	.LM283:
 3293 0e36 84E6      		ldi r24,lo8(100)
 3294 0e38 90E0      		ldi r25,hi8(100)
 3295 0e3a 0E94 0000 		call nrk_spin_wait_us
 3296 0e3e 212F      		mov r18,r17
 3297 0e40 302F      		mov r19,r16
 3298 0e42 C901      		movw r24,r18
 3299 0e44 6C01      		movw r12,r24
 3300 0e46 00E0      		ldi r16,lo8(256)
 3301 0e48 11E0      		ldi r17,hi8(256)
 116:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n);
 3303               	.LM284:
 3304 0e4a 3E01      		movw r6,r28
 3305 0e4c 0894      		sec
 3306 0e4e 611C      		adc r6,__zero_reg__
 3307 0e50 711C      		adc r7,__zero_reg__
 106:../../../src/radio/cc2420/source/basic_rf.c **** {
 3309               	.LM285:
 3310 0e52 33E0      		ldi r19,lo8(3)
 3311 0e54 432E      		mov r4,r19
 3312 0e56 512C      		mov r5,__zero_reg__
 3313 0e58 4C0E      		add r4,r28
 3314 0e5a 5D1E      		adc r5,r29
 3315               	.L549:
 114:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 3317               	.LM286:
 3318 0e5c F601      		movw r30,r12
 3319 0e5e F080      		ld r15,Z
 3320 0e60 EE24      		clr r14
 3321 0e62 8181      		ldd r24,Z+1
 3322 0e64 90E0      		ldi r25,lo8(0)
 3323 0e66 8E29      		or r24,r14
 3324 0e68 9F29      		or r25,r15
 3325 0e6a 9A83      		std Y+2,r25
 3326 0e6c 8983      		std Y+1,r24
 115:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 3328               	.LM287:
 3329 0e6e 84E6      		ldi r24,lo8(100)
 3330 0e70 90E0      		ldi r25,hi8(100)
 3331 0e72 0E94 0000 		call nrk_spin_wait_us
 116:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n);
 3333               	.LM288:
 3334 0e76 C098      		cbi 56-32,0
 3335 0e78 802F      		mov r24,r16
 3336 0e7a 8068      		ori r24,lo8(-128)
 3337 0e7c 8FB9      		out 47-32,r24
 3338               	.L545:
 3339 0e7e 779B      		sbis 46-32,7
 3340 0e80 00C0      		rjmp .L545
 3341 0e82 C801      		movw r24,r16
 3342 0e84 9595      		asr r25
 3343 0e86 8795      		ror r24
 3344 0e88 807C      		andi r24,lo8(-64)
 3345 0e8a 8FB9      		out 47-32,r24
 3346               	.L546:
 3347 0e8c 779B      		sbis 46-32,7
 3348 0e8e 00C0      		rjmp .L546
 3349 0e90 4301      		movw r8,r6
 3350 0e92 5301      		movw r10,r6
 3351               	.L548:
 3352 0e94 F501      		movw r30,r10
 3353 0e96 8081      		ld r24,Z
 3354 0e98 8FB9      		out 47-32,r24
 3355               	.L547:
 3356 0e9a 779B      		sbis 46-32,7
 3357 0e9c 00C0      		rjmp .L547
 3358 0e9e 0894      		sec
 3359 0ea0 A11C      		adc r10,__zero_reg__
 3360 0ea2 B11C      		adc r11,__zero_reg__
 3361 0ea4 4A14      		cp r4,r10
 3362 0ea6 5B04      		cpc r5,r11
 3363 0ea8 01F4      		brne .L548
 3364 0eaa C09A      		sbi 56-32,0
 3365 0eac 0894      		sec
 3366 0eae C11C      		adc r12,__zero_reg__
 3367 0eb0 D11C      		adc r13,__zero_reg__
 3368 0eb2 0E5F      		subi r16,lo8(-(2))
 3369 0eb4 1F4F      		sbci r17,hi8(-(2))
 112:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 3371               	.LM289:
 3372 0eb6 F1E0      		ldi r31,hi8(272)
 3373 0eb8 0031      		cpi r16,lo8(272)
 3374 0eba 1F07      		cpc r17,r31
 3375 0ebc 01F4      		brne .L549
 120:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 3377               	.LM290:
 3378 0ebe 84E6      		ldi r24,lo8(100)
 3379 0ec0 90E0      		ldi r25,hi8(100)
 3380 0ec2 0E94 0000 		call nrk_spin_wait_us
 3381 0ec6 20E1      		ldi r18,lo8(272)
 3382 0ec8 31E0      		ldi r19,hi8(272)
 3383 0eca 40E4      		ldi r20,lo8(320)
 3384 0ecc 51E0      		ldi r21,hi8(320)
 3385               	.L558:
 123:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=0;
 3387               	.LM291:
 3388 0ece 1A82      		std Y+2,__zero_reg__
 3389 0ed0 1982      		std Y+1,__zero_reg__
 124:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+(i*2)),2,n);
 3391               	.LM292:
 3392 0ed2 C098      		cbi 56-32,0
 3393 0ed4 842F      		mov r24,r20
 3394 0ed6 8068      		ori r24,lo8(-128)
 3395 0ed8 8FB9      		out 47-32,r24
 3396               	.L550:
 3397 0eda 779B      		sbis 46-32,7
 3398 0edc 00C0      		rjmp .L550
 3399 0ede CA01      		movw r24,r20
 3400 0ee0 9595      		asr r25
 3401 0ee2 8795      		ror r24
 3402 0ee4 807C      		andi r24,lo8(-64)
 3403 0ee6 8FB9      		out 47-32,r24
 3404               	.L551:
 3405 0ee8 779B      		sbis 46-32,7
 3406 0eea 00C0      		rjmp .L551
 3407 0eec F301      		movw r30,r6
 3408               	.L553:
 3409 0eee 8081      		ld r24,Z
 3410 0ef0 8FB9      		out 47-32,r24
 3411               	.L552:
 3412 0ef2 779B      		sbis 46-32,7
 3413 0ef4 00C0      		rjmp .L552
 3414 0ef6 3196      		adiw r30,1
 3415 0ef8 EA15      		cp r30,r10
 3416 0efa FB05      		cpc r31,r11
 3417 0efc 01F4      		brne .L553
 3418 0efe C09A      		sbi 56-32,0
 125:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+(i*2)),2,n);
 3420               	.LM293:
 3421 0f00 C098      		cbi 56-32,0
 3422 0f02 822F      		mov r24,r18
 3423 0f04 8068      		ori r24,lo8(-128)
 3424 0f06 8FB9      		out 47-32,r24
 3425               	.L554:
 3426 0f08 779B      		sbis 46-32,7
 3427 0f0a 00C0      		rjmp .L554
 3428 0f0c C901      		movw r24,r18
 3429 0f0e 9595      		asr r25
 3430 0f10 8795      		ror r24
 3431 0f12 807C      		andi r24,lo8(-64)
 3432 0f14 8FB9      		out 47-32,r24
 3433               	.L555:
 3434 0f16 779B      		sbis 46-32,7
 3435 0f18 00C0      		rjmp .L555
 3436 0f1a F301      		movw r30,r6
 3437               	.L557:
 3438 0f1c 8081      		ld r24,Z
 3439 0f1e 8FB9      		out 47-32,r24
 3440               	.L556:
 3441 0f20 779B      		sbis 46-32,7
 3442 0f22 00C0      		rjmp .L556
 3443 0f24 3196      		adiw r30,1
 3444 0f26 EA15      		cp r30,r10
 3445 0f28 FB05      		cpc r31,r11
 3446 0f2a 01F4      		brne .L557
 3447 0f2c C09A      		sbi 56-32,0
 3448 0f2e 2E5F      		subi r18,lo8(-(2))
 3449 0f30 3F4F      		sbci r19,hi8(-(2))
 3450 0f32 4E5F      		subi r20,lo8(-(2))
 3451 0f34 5F4F      		sbci r21,hi8(-(2))
 121:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 3453               	.LM294:
 3454 0f36 81E0      		ldi r24,hi8(286)
 3455 0f38 2E31      		cpi r18,lo8(286)
 3456 0f3a 3807      		cpc r19,r24
 3457 0f3c 01F4      		brne .L558
 128:../../../src/radio/cc2420/source/basic_rf.c ****     key_buf=1;
 3459               	.LM295:
 3460 0f3e 81E0      		ldi r24,lo8(1)
 3461 0f40 90E0      		ldi r25,hi8(1)
 3462 0f42 9A83      		std Y+2,r25
 3463 0f44 8983      		std Y+1,r24
 129:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+14),2,n);
 3465               	.LM296:
 3466 0f46 C098      		cbi 56-32,0
 3467 0f48 8EEC      		ldi r24,lo8(-50)
 3468 0f4a 8FB9      		out 47-32,r24
 3469               	.L559:
 3470 0f4c 779B      		sbis 46-32,7
 3471 0f4e 00C0      		rjmp .L559
 3472 0f50 80E8      		ldi r24,lo8(-128)
 3473 0f52 8FB9      		out 47-32,r24
 3474               	.L560:
 3475 0f54 779B      		sbis 46-32,7
 3476 0f56 00C0      		rjmp .L560
 3477 0f58 F301      		movw r30,r6
 3478               	.L562:
 3479 0f5a 8081      		ld r24,Z
 3480 0f5c 8FB9      		out 47-32,r24
 3481               	.L561:
 3482 0f5e 779B      		sbis 46-32,7
 3483 0f60 00C0      		rjmp .L561
 3484 0f62 3196      		adiw r30,1
 3485 0f64 4E16      		cp r4,r30
 3486 0f66 5F06      		cpc r5,r31
 3487 0f68 01F4      		brne .L562
 3488 0f6a C09A      		sbi 56-32,0
 130:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+14),2,n);
 3490               	.LM297:
 3491 0f6c C098      		cbi 56-32,0
 3492 0f6e 8EE9      		ldi r24,lo8(-98)
 3493 0f70 8FB9      		out 47-32,r24
 3494               	.L563:
 3495 0f72 779B      		sbis 46-32,7
 3496 0f74 00C0      		rjmp .L563
 3497 0f76 80E8      		ldi r24,lo8(-128)
 3498 0f78 8FB9      		out 47-32,r24
 3499               	.L564:
 3500 0f7a 779B      		sbis 46-32,7
 3501 0f7c 00C0      		rjmp .L564
 3502               	.L568:
 3503 0f7e F401      		movw r30,r8
 3504 0f80 8081      		ld r24,Z
 3505 0f82 8FB9      		out 47-32,r24
 3506               	.L565:
 3507 0f84 779B      		sbis 46-32,7
 3508 0f86 00C0      		rjmp .L565
 3509 0f88 0894      		sec
 3510 0f8a 811C      		adc r8,__zero_reg__
 3511 0f8c 911C      		adc r9,__zero_reg__
 3512 0f8e 4814      		cp r4,r8
 3513 0f90 5904      		cpc r5,r9
 3514 0f92 01F4      		brne .L568
 3515 0f94 C09A      		sbi 56-32,0
 3516               	/* epilogue start */
 131:../../../src/radio/cc2420/source/basic_rf.c **** }
 3518               	.LM298:
 3519 0f96 0F90      		pop __tmp_reg__
 3520 0f98 0F90      		pop __tmp_reg__
 3521 0f9a CF91      		pop r28
 3522 0f9c DF91      		pop r29
 3523 0f9e 1F91      		pop r17
 3524 0fa0 0F91      		pop r16
 3525 0fa2 FF90      		pop r15
 3526 0fa4 EF90      		pop r14
 3527 0fa6 DF90      		pop r13
 3528 0fa8 CF90      		pop r12
 3529 0faa BF90      		pop r11
 3530 0fac AF90      		pop r10
 3531 0fae 9F90      		pop r9
 3532 0fb0 8F90      		pop r8
 3533 0fb2 7F90      		pop r7
 3534 0fb4 6F90      		pop r6
 3535 0fb6 5F90      		pop r5
 3536 0fb8 4F90      		pop r4
 3537 0fba 0895      		ret
 3542               	.Lscope33:
 3544               		.stabd	78,0,0
 3546               	.global	rf_power_up
 3548               	rf_power_up:
 3549               		.stabd	46,0,0
  75:../../../src/radio/cc2420/source/basic_rf.c **** {
 3551               	.LM299:
 3552               	.LFBB34:
 3553               	/* prologue: function */
 3554               	/* frame size = 0 */
  77:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 3556               	.LM300:
 3557               	/* #APP */
 3558               	 ;  77 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3559 0fbc F894      		cli
 3560               		
 3561               	 ;  0 "" 2
  78:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 3563               	.LM301:
 3564               	/* #NOAPP */
 3565 0fbe C098      		cbi 56-32,0
 3566 0fc0 81E0      		ldi r24,lo8(1)
 3567 0fc2 8FB9      		out 47-32,r24
 3568               	.L592:
 3569 0fc4 779B      		sbis 46-32,7
 3570 0fc6 00C0      		rjmp .L592
 3571 0fc8 C09A      		sbi 56-32,0
  79:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 3573               	.LM302:
 3574 0fca 88EE      		ldi r24,lo8(1000)
 3575 0fcc 93E0      		ldi r25,hi8(1000)
 3576 0fce 0E94 0000 		call nrk_spin_wait_us
  80:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3578               	.LM303:
 3579               	/* #APP */
 3580               	 ;  80 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3581 0fd2 7894      		sei
 3582               		
 3583               	 ;  0 "" 2
 3584               	/* epilogue start */
  82:../../../src/radio/cc2420/source/basic_rf.c **** }
 3586               	.LM304:
 3587               	/* #NOAPP */
 3588 0fd4 0895      		ret
 3590               	.Lscope34:
 3592               		.stabd	78,0,0
 3596               	.global	rf_set_rx
 3598               	rf_set_rx:
 3599               		.stabd	46,0,0
 225:../../../src/radio/cc2420/source/basic_rf.c **** {
 3601               	.LM305:
 3602               	.LFBB35:
 3603 0fd6 CF93      		push r28
 3604 0fd8 DF93      		push r29
 3605               	/* prologue: function */
 3606               	/* frame size = 0 */
 3607 0fda EC01      		movw r28,r24
 231:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 3609               	.LM306:
 3610 0fdc C098      		cbi 56-32,0
 3611 0fde 88E0      		ldi r24,lo8(8)
 3612 0fe0 8FB9      		out 47-32,r24
 3613               	.L596:
 3614 0fe2 779B      		sbis 46-32,7
 3615 0fe4 00C0      		rjmp .L596
 3616 0fe6 C09A      		sbi 56-32,0
 232:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 3618               	.LM307:
 3619 0fe8 C098      		cbi 56-32,0
 3620 0fea 88E0      		ldi r24,lo8(8)
 3621 0fec 8FB9      		out 47-32,r24
 3622               	.L597:
 3623 0fee 779B      		sbis 46-32,7
 3624 0ff0 00C0      		rjmp .L597
 3625 0ff2 C09A      		sbi 56-32,0
 233:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 3627               	.LM308:
 3628 0ff4 862F      		mov r24,r22
 3629 0ff6 0E94 0000 		call halRfSetChannel
 234:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 3631               	.LM309:
 3632 0ffa D093 0000 		sts (rfSettings)+1,r29
 3633 0ffe C093 0000 		sts rfSettings,r28
 3634               	/* epilogue start */
 239:../../../src/radio/cc2420/source/basic_rf.c **** }
 3636               	.LM310:
 3637 1002 DF91      		pop r29
 3638 1004 CF91      		pop r28
 3639 1006 0895      		ret
 3641               	.Lscope35:
 3643               		.stabd	78,0,0
 3646               	.global	rf_set_channel
 3648               	rf_set_channel:
 3649               		.stabd	46,0,0
 174:../../../src/radio/cc2420/source/basic_rf.c **** {
 3651               	.LM311:
 3652               	.LFBB36:
 3653               	/* prologue: function */
 3654               	/* frame size = 0 */
 178:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 3656               	.LM312:
 3657 1008 0E94 0000 		call halRfSetChannel
 3658               	/* epilogue start */
 182:../../../src/radio/cc2420/source/basic_rf.c **** }
 3660               	.LM313:
 3661 100c 0895      		ret
 3663               	.Lscope36:
 3665               		.stabd	78,0,0
 3671               	.global	rf_init
 3673               	rf_init:
 3674               		.stabd	46,0,0
 263:../../../src/radio/cc2420/source/basic_rf.c **** {
 3676               	.LM314:
 3677               	.LFBB37:
 3678 100e DF92      		push r13
 3679 1010 EF92      		push r14
 3680 1012 FF92      		push r15
 3681 1014 0F93      		push r16
 3682 1016 1F93      		push r17
 3683 1018 DF93      		push r29
 3684 101a CF93      		push r28
 3685 101c 00D0      		rcall .
 3686 101e CDB7      		in r28,__SP_L__
 3687 1020 DEB7      		in r29,__SP_H__
 3688               	/* prologue: function */
 3689               	/* frame size = 2 */
 3690 1022 8C01      		movw r16,r24
 3691 1024 D62E      		mov r13,r22
 3692 1026 5A83      		std Y+2,r21
 3693 1028 4983      		std Y+1,r20
 3694 102a 7901      		movw r14,r18
 280:../../../src/radio/cc2420/source/basic_rf.c ****     SET_VREG_ACTIVE();
 3696               	.LM315:
 3697 102c DD9A      		sbi 59-32,5
 281:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1000);
 3699               	.LM316:
 3700 102e 88EE      		ldi r24,lo8(1000)
 3701 1030 93E0      		ldi r25,hi8(1000)
 3702 1032 0E94 0000 		call halWait
 282:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_ACTIVE();
 3704               	.LM317:
 3705 1036 DE98      		cbi 59-32,6
 283:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1);
 3707               	.LM318:
 3708 1038 81E0      		ldi r24,lo8(1)
 3709 103a 90E0      		ldi r25,hi8(1)
 3710 103c 0E94 0000 		call halWait
 284:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_INACTIVE();
 3712               	.LM319:
 3713 1040 DE9A      		sbi 59-32,6
 285:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(100);
 3715               	.LM320:
 3716 1042 84E6      		ldi r24,lo8(100)
 3717 1044 90E0      		ldi r25,hi8(100)
 3718 1046 0E94 0000 		call halWait
 292:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 3720               	.LM321:
 3721               	/* #APP */
 3722               	 ;  292 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3723 104a F894      		cli
 3724               		
 3725               	 ;  0 "" 2
 294:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 3727               	.LM322:
 3728               	/* #NOAPP */
 3729 104c C098      		cbi 56-32,0
 3730 104e 81E0      		ldi r24,lo8(1)
 3731 1050 8FB9      		out 47-32,r24
 3732               	.L604:
 3733 1052 779B      		sbis 46-32,7
 3734 1054 00C0      		rjmp .L604
 3735 1056 C09A      		sbi 56-32,0
 295:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0=0x02E2;
 3737               	.LM323:
 3738 1058 82EE      		ldi r24,lo8(738)
 3739 105a 92E0      		ldi r25,hi8(738)
 3740 105c 9093 0000 		sts (mdmctrl0)+1,r25
 3741 1060 8093 0000 		sts mdmctrl0,r24
 296:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  // Std Preamble, CRC, no auto ack, no hw addr decod
 3743               	.LM324:
 3744 1064 C098      		cbi 56-32,0
 3745 1066 81E1      		ldi r24,lo8(17)
 3746 1068 8FB9      		out 47-32,r24
 3747               	.L605:
 3748 106a 779B      		sbis 46-32,7
 3749 106c 00C0      		rjmp .L605
 3750 106e 82E0      		ldi r24,lo8(2)
 3751 1070 8FB9      		out 47-32,r24
 3752               	.L606:
 3753 1072 779B      		sbis 46-32,7
 3754 1074 00C0      		rjmp .L606
 3755 1076 82EE      		ldi r24,lo8(-30)
 3756 1078 8FB9      		out 47-32,r24
 3757               	.L607:
 3758 107a 779B      		sbis 46-32,7
 3759 107c 00C0      		rjmp .L607
 3760 107e C09A      		sbi 56-32,0
 299:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // Set the correlation threshold = 20
 3762               	.LM325:
 3763 1080 C098      		cbi 56-32,0
 3764 1082 82E1      		ldi r24,lo8(18)
 3765 1084 8FB9      		out 47-32,r24
 3766               	.L608:
 3767 1086 779B      		sbis 46-32,7
 3768 1088 00C0      		rjmp .L608
 3769 108a 85E0      		ldi r24,lo8(5)
 3770 108c 8FB9      		out 47-32,r24
 3771               	.L609:
 3772 108e 779B      		sbis 46-32,7
 3773 1090 00C0      		rjmp .L609
 3774 1092 1FB8      		out 47-32,__zero_reg__
 3775               	.L610:
 3776 1094 779B      		sbis 46-32,7
 3777 1096 00C0      		rjmp .L610
 3778 1098 C09A      		sbi 56-32,0
 300:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_IOCFG0, 0x007F);   // Set the FIFOP threshold to maximum
 3780               	.LM326:
 3781 109a C098      		cbi 56-32,0
 3782 109c 8CE1      		ldi r24,lo8(28)
 3783 109e 8FB9      		out 47-32,r24
 3784               	.L611:
 3785 10a0 779B      		sbis 46-32,7
 3786 10a2 00C0      		rjmp .L611
 3787 10a4 1FB8      		out 47-32,__zero_reg__
 3788               	.L612:
 3789 10a6 779B      		sbis 46-32,7
 3790 10a8 00C0      		rjmp .L612
 3791 10aa 8FE7      		ldi r24,lo8(127)
 3792 10ac 8FB9      		out 47-32,r24
 3793               	.L613:
 3794 10ae 779B      		sbis 46-32,7
 3795 10b0 00C0      		rjmp .L613
 3796 10b2 C09A      		sbi 56-32,0
 301:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security"
 3798               	.LM327:
 3799 10b4 C098      		cbi 56-32,0
 3800 10b6 89E1      		ldi r24,lo8(25)
 3801 10b8 8FB9      		out 47-32,r24
 3802               	.L614:
 3803 10ba 779B      		sbis 46-32,7
 3804 10bc 00C0      		rjmp .L614
 3805 10be 81E0      		ldi r24,lo8(1)
 3806 10c0 8FB9      		out 47-32,r24
 3807               	.L615:
 3808 10c2 779B      		sbis 46-32,7
 3809 10c4 00C0      		rjmp .L615
 3810 10c6 84EC      		ldi r24,lo8(-60)
 3811 10c8 8FB9      		out 47-32,r24
 3812               	.L616:
 3813 10ca 779B      		sbis 46-32,7
 3814 10cc 00C0      		rjmp .L616
 3815 10ce C09A      		sbi 56-32,0
 302:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RXCTRL1, 0x1A56); // All default except
 3817               	.LM328:
 3818 10d0 C098      		cbi 56-32,0
 3819 10d2 87E1      		ldi r24,lo8(23)
 3820 10d4 8FB9      		out 47-32,r24
 3821               	.L617:
 3822 10d6 779B      		sbis 46-32,7
 3823 10d8 00C0      		rjmp .L617
 3824 10da 8AE1      		ldi r24,lo8(26)
 3825 10dc 8FB9      		out 47-32,r24
 3826               	.L618:
 3827 10de 779B      		sbis 46-32,7
 3828 10e0 00C0      		rjmp .L618
 3829 10e2 86E5      		ldi r24,lo8(86)
 3830 10e4 8FB9      		out 47-32,r24
 3831               	.L619:
 3832 10e6 779B      		sbis 46-32,7
 3833 10e8 00C0      		rjmp .L619
 3834 10ea C09A      		sbi 56-32,0
 322:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 3836               	.LM329:
 3837 10ec 84EF      		ldi r24,lo8(500)
 3838 10ee 91E0      		ldi r25,hi8(500)
 3839 10f0 0E94 0000 		call nrk_spin_wait_us
 323:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 3841               	.LM330:
 3842 10f4 C098      		cbi 56-32,0
 3843 10f6 88EE      		ldi r24,lo8(-24)
 3844 10f8 8FB9      		out 47-32,r24
 3845               	.L620:
 3846 10fa 779B      		sbis 46-32,7
 3847 10fc 00C0      		rjmp .L620
 3848 10fe 80E8      		ldi r24,lo8(-128)
 3849 1100 8FB9      		out 47-32,r24
 3850               	.L621:
 3851 1102 779B      		sbis 46-32,7
 3852 1104 00C0      		rjmp .L621
 3853 1106 FE01      		movw r30,r28
 3854 1108 3196      		adiw r30,1
 3855 110a 9E01      		movw r18,r28
 3856 110c 2D5F      		subi r18,lo8(-(3))
 3857 110e 3F4F      		sbci r19,hi8(-(3))
 3858               	.L623:
 3859 1110 8081      		ld r24,Z
 3860 1112 8FB9      		out 47-32,r24
 3861               	.L622:
 3862 1114 779B      		sbis 46-32,7
 3863 1116 00C0      		rjmp .L622
 3864 1118 3196      		adiw r30,1
 3865 111a E217      		cp r30,r18
 3866 111c F307      		cpc r31,r19
 3867 111e 01F4      		brne .L623
 3868 1120 C09A      		sbi 56-32,0
 324:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 3870               	.LM331:
 3871 1122 84EF      		ldi r24,lo8(500)
 3872 1124 91E0      		ldi r25,hi8(500)
 3873 1126 0E94 0000 		call nrk_spin_wait_us
 326:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3875               	.LM332:
 3876               	/* #APP */
 3877               	 ;  326 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3878 112a 7894      		sei
 3879               		
 3880               	 ;  0 "" 2
 329:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 3882               	.LM333:
 3883               	/* #NOAPP */
 3884 112c 8D2D      		mov r24,r13
 3885 112e 0E94 0000 		call halRfSetChannel
 332:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3887               	.LM334:
 3888               	/* #APP */
 3889               	 ;  332 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3890 1132 7894      		sei
 3891               		
 3892               	 ;  0 "" 2
 335:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 3894               	.LM335:
 3895               	/* #NOAPP */
 3896 1134 1093 0000 		sts (rfSettings)+1,r17
 3897 1138 0093 0000 		sts rfSettings,r16
 336:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.panId = panId;
 3899               	.LM336:
 3900 113c 8981      		ldd r24,Y+1
 3901 113e 9A81      		ldd r25,Y+2
 3902 1140 9093 0000 		sts (rfSettings+4)+1,r25
 3903 1144 8093 0000 		sts rfSettings+4,r24
 337:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = myAddr;
 3905               	.LM337:
 3906 1148 F092 0000 		sts (rfSettings+6)+1,r15
 3907 114c E092 0000 		sts rfSettings+6,r14
 338:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber = 0;
 3909               	.LM338:
 3910 1150 1092 0000 		sts rfSettings+2,__zero_reg__
 339:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 3912               	.LM339:
 3913 1154 1092 0000 		sts rfSettings+8,__zero_reg__
 342:../../../src/radio/cc2420/source/basic_rf.c ****     halRfWaitForCrystalOscillator();
 3915               	.LM340:
 3916 1158 0E94 0000 		call halRfWaitForCrystalOscillator
 359:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 3918               	.LM341:
 3919 115c 1092 0000 		sts auto_ack_enable,__zero_reg__
 360:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 3921               	.LM342:
 3922 1160 1092 0000 		sts security_enable,__zero_reg__
 361:../../../src/radio/cc2420/source/basic_rf.c ****     last_pkt_encrypted=0;
 3924               	.LM343:
 3925 1164 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 3926               	/* epilogue start */
 362:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_init()
 3928               	.LM344:
 3929 1168 0F90      		pop __tmp_reg__
 3930 116a 0F90      		pop __tmp_reg__
 3931 116c CF91      		pop r28
 3932 116e DF91      		pop r29
 3933 1170 1F91      		pop r17
 3934 1172 0F91      		pop r16
 3935 1174 FF90      		pop r15
 3936 1176 EF90      		pop r14
 3937 1178 DF90      		pop r13
 3938 117a 0895      		ret
 3940               	.Lscope37:
 3942               		.stabd	78,0,0
 3944               	.global	cc259x_tx
 3946               	cc259x_tx:
 3947               		.stabd	46,0,0
  48:../../../src/radio/cc2420/source/basic_rf.c **** {
 3949               	.LM345:
 3950               	.LFBB38:
 3951               	/* prologue: function */
 3952               	/* frame size = 0 */
  49:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 3954               	.LM346:
 3955 117c 8091 0000 		lds r24,NRK_DEBUG_1
 3956 1180 0E94 0000 		call nrk_gpio_set
  50:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_0);
 3958               	.LM347:
 3959 1184 8091 0000 		lds r24,NRK_DEBUG_0
 3960 1188 0E94 0000 		call nrk_gpio_set
 3961               	/* epilogue start */
  51:../../../src/radio/cc2420/source/basic_rf.c **** }
 3963               	.LM348:
 3964 118c 0895      		ret
 3966               	.Lscope38:
 3968               		.stabd	78,0,0
 3970               	.global	cc259x_rx
 3972               	cc259x_rx:
 3973               		.stabd	46,0,0
  41:../../../src/radio/cc2420/source/basic_rf.c **** {
 3975               	.LM349:
 3976               	.LFBB39:
 3977               	/* prologue: function */
 3978               	/* frame size = 0 */
  42:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 3980               	.LM350:
 3981 118e 8091 0000 		lds r24,NRK_DEBUG_1
 3982 1192 0E94 0000 		call nrk_gpio_set
  43:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_clr(NRK_DEBUG_0);
 3984               	.LM351:
 3985 1196 8091 0000 		lds r24,NRK_DEBUG_0
 3986 119a 0E94 0000 		call nrk_gpio_clr
 3987               	/* epilogue start */
  44:../../../src/radio/cc2420/source/basic_rf.c **** }
 3989               	.LM352:
 3990 119e 0895      		ret
 3992               	.Lscope39:
 3994               		.stabd	78,0,0
 3995               		.comm _nrk_signal_list,4,1
 3996               		.comm rfSettings,9,1
 3997               		.comm nrk_idle_task_stk,128,1
 3998               		.comm nrk_kernel_stk_ptr,2,1
 3999               		.comm error_task,1,1
 4000               		.comm error_num,1,1
 4001               		.comm _nrk_prev_timer_val,1,1
 4002               		.comm _nrk_time_trigger,1,1
 4003               		.comm app_timer0_callback,2,1
 4004               		.comm app_timer0_prescale,1,1
 4005               		.comm radio_sem,2,1
 4006               		.comm auto_ack_enable,1,1
 4007               		.comm security_enable,1,1
 4008               		.comm last_pkt_encrypted,1,1
 4009               		.comm mdmctrl0,2,1
 4010               		.comm tx_ctr,4,1
 4011               		.comm rx_ctr,4,1
 4012               		.comm rx_ready,1,1
 4013               		.comm tmp_blah,2,1
 4034               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 basic_rf.c
     /tmp/cccnJNxl.s:2      *ABS*:0000003f __SREG__
     /tmp/cccnJNxl.s:3      *ABS*:0000003e __SP_H__
     /tmp/cccnJNxl.s:4      *ABS*:0000003d __SP_L__
     /tmp/cccnJNxl.s:5      *ABS*:00000034 __CCP__
     /tmp/cccnJNxl.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/cccnJNxl.s:7      *ABS*:00000001 __zero_reg__
     /tmp/cccnJNxl.s:138    .text:00000000 rf_power_down
     /tmp/cccnJNxl.s:190    .text:0000001e rf_security_last_pkt_status
                            *COM*:00000001 last_pkt_encrypted
     /tmp/cccnJNxl.s:210    .text:00000024 rf_security_set_ctr_counter
                            *COM*:00000004 tx_ctr
     /tmp/cccnJNxl.s:308    .text:0000009e rf_security_enable
                            *COM*:00000001 security_enable
     /tmp/cccnJNxl.s:368    .text:000000de rf_security_disable
     /tmp/cccnJNxl.s:408    .text:00000100 rf_get_sem
                            *COM*:00000002 radio_sem
     /tmp/cccnJNxl.s:429    .text:0000010a rf_tx_power
     /tmp/cccnJNxl.s:475    .text:00000130 rf_addr_decode_enable
                            *COM*:00000002 mdmctrl0
     /tmp/cccnJNxl.s:517    .text:0000015c rf_addr_decode_disable
     /tmp/cccnJNxl.s:559    .text:00000188 rf_auto_ack_enable
                            *COM*:00000001 auto_ack_enable
     /tmp/cccnJNxl.s:605    .text:000001ba rf_auto_ack_disable
     /tmp/cccnJNxl.s:650    .text:000001ea rf_rx_on
                            *COM*:00000009 rfSettings
                            *COM*:00000001 rx_ready
     /tmp/cccnJNxl.s:693    .text:0000020e rf_polling_rx_on
     /tmp/cccnJNxl.s:736    .text:00000232 rf_rx_off
     /tmp/cccnJNxl.s:769    .text:00000248 rf_busy
     /tmp/cccnJNxl.s:797    .text:0000025a rf_rx_check_fifop
     /tmp/cccnJNxl.s:825    .text:0000026c rf_rx_check_sfd
     /tmp/cccnJNxl.s:853    .text:0000027e rf_polling_rx_packet
                            *COM*:00000004 rx_ctr
     /tmp/cccnJNxl.s:1538   .text:00000646 rf_rx_packet
     /tmp/cccnJNxl.s:1570   .text:00000658 rf_flush_rx_fifo
     /tmp/cccnJNxl.s:1607   .text:00000672 rf_set_cca_thresh
     /tmp/cccnJNxl.s:1653   .text:00000698 rf_test_mode
     /tmp/cccnJNxl.s:1720   .text:000006e0 rf_data_mode
     /tmp/cccnJNxl.s:1785   .text:00000724 rf_rx_set_serial
     /tmp/cccnJNxl.s:1834   .text:00000752 rf_tx_set_serial
     /tmp/cccnJNxl.s:1875   .text:00000774 rf_set_preamble_length
     /tmp/cccnJNxl.s:1924   .text:000007ac rf_set_cca_mode
     /tmp/cccnJNxl.s:1976   .text:000007ec rf_carrier_on
     /tmp/cccnJNxl.s:2003   .text:000007fa rf_carrier_off
     /tmp/cccnJNxl.s:2031   .text:00000808 rf_tx_packet
     /tmp/cccnJNxl.s:2644   .text:00000afa rf_tx_tdma_packet
     /tmp/cccnJNxl.s:3191   .text:00000dae rf_addr_decode_set_my_mac
     /tmp/cccnJNxl.s:3263   .text:00000e0c rf_security_set_key
     /tmp/cccnJNxl.s:3548   .text:00000fbc rf_power_up
     /tmp/cccnJNxl.s:3598   .text:00000fd6 rf_set_rx
     /tmp/cccnJNxl.s:3648   .text:00001008 rf_set_channel
     /tmp/cccnJNxl.s:3673   .text:0000100e rf_init
     /tmp/cccnJNxl.s:3946   .text:0000117c cc259x_tx
     /tmp/cccnJNxl.s:3972   .text:0000118e cc259x_rx
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num
                            *COM*:00000001 _nrk_prev_timer_val
                            *COM*:00000001 _nrk_time_trigger
                            *COM*:00000002 app_timer0_callback
                            *COM*:00000001 app_timer0_prescale
                            *COM*:00000002 tmp_blah

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
nrk_sem_post
halWait
_nrk_os_timer_get
nrk_high_speed_timer_wait
nrk_spin_wait_us
halRfSetChannel
halRfWaitForCrystalOscillator
NRK_DEBUG_1
nrk_gpio_set
NRK_DEBUG_0
nrk_gpio_clr
