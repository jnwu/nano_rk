   1               		.file	"basic_rf.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 136               	.global	cc259x_rx
 138               	cc259x_rx:
 139               		.stabd	46,0,0
   1:../../../src/radio/cc2420/source/basic_rf.c **** /******************************************************************************
   2:../../../src/radio/cc2420/source/basic_rf.c **** *  Nano-RK, a real-time operating system for sensor networks.
   3:../../../src/radio/cc2420/source/basic_rf.c **** *  Copyright (C) 2007, Real-Time and Multimedia Lab, Carnegie Mellon University
   4:../../../src/radio/cc2420/source/basic_rf.c **** *  All rights reserved.
   5:../../../src/radio/cc2420/source/basic_rf.c **** *
   6:../../../src/radio/cc2420/source/basic_rf.c **** *  This is the Open Source Version of Nano-RK included as part of a Dual
   7:../../../src/radio/cc2420/source/basic_rf.c **** *  Licensing Model. If you are unsure which license to use please refer to:
   8:../../../src/radio/cc2420/source/basic_rf.c **** *  http://www.nanork.org/nano-RK/wiki/Licensing
   9:../../../src/radio/cc2420/source/basic_rf.c **** *
  10:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is free software: you can redistribute it and/or modify
  11:../../../src/radio/cc2420/source/basic_rf.c **** *  it under the terms of the GNU General Public License as published by
  12:../../../src/radio/cc2420/source/basic_rf.c **** *  the Free Software Foundation, version 2.0 of the License.
  13:../../../src/radio/cc2420/source/basic_rf.c **** *
  14:../../../src/radio/cc2420/source/basic_rf.c **** *  This program is distributed in the hope that it will be useful,
  15:../../../src/radio/cc2420/source/basic_rf.c **** *  but WITHOUT ANY WARRANTY; without even the implied warranty of
  16:../../../src/radio/cc2420/source/basic_rf.c **** *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  17:../../../src/radio/cc2420/source/basic_rf.c **** *  GNU General Public License for more details.
  18:../../../src/radio/cc2420/source/basic_rf.c **** *
  19:../../../src/radio/cc2420/source/basic_rf.c **** *  You should have received a copy of the GNU General Public License
  20:../../../src/radio/cc2420/source/basic_rf.c **** *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  21:../../../src/radio/cc2420/source/basic_rf.c **** *
  22:../../../src/radio/cc2420/source/basic_rf.c **** *  Contributing Authors (specific to this file):
  23:../../../src/radio/cc2420/source/basic_rf.c **** *  Chipcon Development Team
  24:../../../src/radio/cc2420/source/basic_rf.c **** *  Anthony Rowe
  25:../../../src/radio/cc2420/source/basic_rf.c **** *  Nuno Pereira
  26:../../../src/radio/cc2420/source/basic_rf.c **** *  Bach Bui
  27:../../../src/radio/cc2420/source/basic_rf.c **** *******************************************************************************/
  28:../../../src/radio/cc2420/source/basic_rf.c **** 
  29:../../../src/radio/cc2420/source/basic_rf.c **** #include <include.h>
  30:../../../src/radio/cc2420/source/basic_rf.c **** #include <basic_rf.h>
  31:../../../src/radio/cc2420/source/basic_rf.c **** #include <ulib.h>
  32:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk.h>
  33:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_events.h>
  34:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_error.h>
  35:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_timer.h>
  36:../../../src/radio/cc2420/source/basic_rf.c **** #include <nrk_cpu.h>
  37:../../../src/radio/cc2420/source/basic_rf.c **** 
  38:../../../src/radio/cc2420/source/basic_rf.c **** #define OSC_STARTUP_DELAY	1000
  39:../../../src/radio/cc2420/source/basic_rf.c **** 
  40:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_rx()
  41:../../../src/radio/cc2420/source/basic_rf.c **** {
 141               	.LM0:
 142               	.LFBB1:
 143               	/* prologue: function */
 144               	/* frame size = 0 */
 145               	/* stack size = 0 */
 146               	.L__stack_usage = 0
  42:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 148               	.LM1:
 149 0000 8091 0000 		lds r24,NRK_DEBUG_1
 150 0004 0E94 0000 		call nrk_gpio_set
  43:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_clr(NRK_DEBUG_0);
 152               	.LM2:
 153 0008 8091 0000 		lds r24,NRK_DEBUG_0
 154 000c 0E94 0000 		call nrk_gpio_clr
 155               	/* epilogue start */
  44:../../../src/radio/cc2420/source/basic_rf.c **** }
 157               	.LM3:
 158 0010 0895      		ret
 160               	.Lscope1:
 162               		.stabd	78,0,0
 164               	.global	cc259x_tx
 166               	cc259x_tx:
 167               		.stabd	46,0,0
  45:../../../src/radio/cc2420/source/basic_rf.c **** 
  46:../../../src/radio/cc2420/source/basic_rf.c **** 
  47:../../../src/radio/cc2420/source/basic_rf.c **** void cc259x_tx()
  48:../../../src/radio/cc2420/source/basic_rf.c **** {
 169               	.LM4:
 170               	.LFBB2:
 171               	/* prologue: function */
 172               	/* frame size = 0 */
 173               	/* stack size = 0 */
 174               	.L__stack_usage = 0
  49:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_1);
 176               	.LM5:
 177 0012 8091 0000 		lds r24,NRK_DEBUG_1
 178 0016 0E94 0000 		call nrk_gpio_set
  50:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_gpio_set(NRK_DEBUG_0);
 180               	.LM6:
 181 001a 8091 0000 		lds r24,NRK_DEBUG_0
 182 001e 0E94 0000 		call nrk_gpio_set
 183               	/* epilogue start */
  51:../../../src/radio/cc2420/source/basic_rf.c **** }
 185               	.LM7:
 186 0022 0895      		ret
 188               	.Lscope2:
 190               		.stabd	78,0,0
 192               	.global	rf_power_down
 194               	rf_power_down:
 195               		.stabd	46,0,0
  52:../../../src/radio/cc2420/source/basic_rf.c **** 
  53:../../../src/radio/cc2420/source/basic_rf.c **** 
  54:../../../src/radio/cc2420/source/basic_rf.c **** //#ifndef RADIO_PRIORITY_CEILING
  55:../../../src/radio/cc2420/source/basic_rf.c **** //  #define RADIO_PRIORITY_CEILING	20
  56:../../../src/radio/cc2420/source/basic_rf.c **** //#endif
  57:../../../src/radio/cc2420/source/basic_rf.c **** 
  58:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t *radio_sem;
  59:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t auto_ack_enable;
  60:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t security_enable;
  61:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t last_pkt_encrypted;
  62:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t mdmctrl0;
  63:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t tx_ctr[4];
  64:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rx_ctr[4];
  65:../../../src/radio/cc2420/source/basic_rf.c **** 
  66:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_down()
  67:../../../src/radio/cc2420/source/basic_rf.c **** {
 197               	.LM8:
 198               	.LFBB3:
 199               	/* prologue: function */
 200               	/* frame size = 0 */
 201               	/* stack size = 0 */
 202               	.L__stack_usage = 0
  68:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 204               	.LM9:
 205               	/* #APP */
 206               	 ;  68 "../../../src/radio/cc2420/source/basic_rf.c" 1
 207 0024 F894      		cli
 208               		
 209               	 ;  0 "" 2
  69:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 211               	.LM10:
 212               	/* #NOAPP */
 213 0026 C098      		cbi 56-32,0
 214 0028 87E0      		ldi r24,lo8(7)
 215 002a 8FB9      		out 47-32,r24
 216               	.L4:
 218               	.LM11:
 219 002c 779B      		sbis 46-32,7
 220 002e 00C0      		rjmp .L4
 222               	.LM12:
 223 0030 C09A      		sbi 56-32,0
  70:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 225               	.LM13:
 226 0032 C098      		cbi 56-32,0
 227 0034 86E0      		ldi r24,lo8(6)
 228 0036 8FB9      		out 47-32,r24
 229               	.L5:
 231               	.LM14:
 232 0038 779B      		sbis 46-32,7
 233 003a 00C0      		rjmp .L5
 235               	.LM15:
 236 003c C09A      		sbi 56-32,0
  71:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 238               	.LM16:
 239               	/* #APP */
 240               	 ;  71 "../../../src/radio/cc2420/source/basic_rf.c" 1
 241 003e 7894      		sei
 242               		
 243               	 ;  0 "" 2
 244               	/* epilogue start */
  72:../../../src/radio/cc2420/source/basic_rf.c **** }
 246               	.LM17:
 247               	/* #NOAPP */
 248 0040 0895      		ret
 250               	.Lscope3:
 252               		.stabd	78,0,0
 254               	.global	rf_power_up
 256               	rf_power_up:
 257               		.stabd	46,0,0
  73:../../../src/radio/cc2420/source/basic_rf.c **** 
  74:../../../src/radio/cc2420/source/basic_rf.c **** void rf_power_up()
  75:../../../src/radio/cc2420/source/basic_rf.c **** {
 259               	.LM18:
 260               	.LFBB4:
 261               	/* prologue: function */
 262               	/* frame size = 0 */
 263               	/* stack size = 0 */
 264               	.L__stack_usage = 0
  76:../../../src/radio/cc2420/source/basic_rf.c **** 
  77:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 266               	.LM19:
 267               	/* #APP */
 268               	 ;  77 "../../../src/radio/cc2420/source/basic_rf.c" 1
 269 0042 F894      		cli
 270               		
 271               	 ;  0 "" 2
  78:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 273               	.LM20:
 274               	/* #NOAPP */
 275 0044 C098      		cbi 56-32,0
 276 0046 81E0      		ldi r24,lo8(1)
 277 0048 8FB9      		out 47-32,r24
 278               	.L9:
 280               	.LM21:
 281 004a 779B      		sbis 46-32,7
 282 004c 00C0      		rjmp .L9
 284               	.LM22:
 285 004e C09A      		sbi 56-32,0
  79:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 287               	.LM23:
 288 0050 88EE      		ldi r24,lo8(1000)
 289 0052 93E0      		ldi r25,hi8(1000)
 290 0054 0E94 0000 		call nrk_spin_wait_us
  80:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 292               	.LM24:
 293               	/* #APP */
 294               	 ;  80 "../../../src/radio/cc2420/source/basic_rf.c" 1
 295 0058 7894      		sei
 296               		
 297               	 ;  0 "" 2
 298               	/* epilogue start */
  81:../../../src/radio/cc2420/source/basic_rf.c **** 
  82:../../../src/radio/cc2420/source/basic_rf.c **** }
 300               	.LM25:
 301               	/* #NOAPP */
 302 005a 0895      		ret
 304               	.Lscope4:
 306               		.stabd	78,0,0
 308               	.global	rf_security_last_pkt_status
 310               	rf_security_last_pkt_status:
 311               		.stabd	46,0,0
  83:../../../src/radio/cc2420/source/basic_rf.c **** 
  84:../../../src/radio/cc2420/source/basic_rf.c **** 
  85:../../../src/radio/cc2420/source/basic_rf.c **** // Returns 1 if the last packet was encrypted, 0 otherwise
  86:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_security_last_pkt_status()
  87:../../../src/radio/cc2420/source/basic_rf.c **** {
 313               	.LM26:
 314               	.LFBB5:
 315               	/* prologue: function */
 316               	/* frame size = 0 */
 317               	/* stack size = 0 */
 318               	.L__stack_usage = 0
  88:../../../src/radio/cc2420/source/basic_rf.c ****     return last_pkt_encrypted;
  89:../../../src/radio/cc2420/source/basic_rf.c **** }
 320               	.LM27:
 321 005c 8091 0000 		lds r24,last_pkt_encrypted
 322               	/* epilogue start */
 323 0060 0895      		ret
 325               	.Lscope5:
 327               		.stabd	78,0,0
 330               	.global	rf_security_set_ctr_counter
 332               	rf_security_set_ctr_counter:
 333               		.stabd	46,0,0
  90:../../../src/radio/cc2420/source/basic_rf.c **** 
  91:../../../src/radio/cc2420/source/basic_rf.c **** 
  92:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_ctr_counter(uint8_t *counter)
  93:../../../src/radio/cc2420/source/basic_rf.c **** {
 335               	.LM28:
 336               	.LFBB6:
 337               	/* prologue: function */
 338               	/* frame size = 0 */
 339               	/* stack size = 0 */
 340               	.L__stack_usage = 0
 341 0062 FC01      		movw r30,r24
  94:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
  95:../../../src/radio/cc2420/source/basic_rf.c **** // CTR counter value
  96:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[0],(CC2420RAM_TXNONCE+9),2,n);
 343               	.LM29:
 344 0064 C098      		cbi 56-32,0
 345 0066 89EC      		ldi r24,lo8(-55)
 346 0068 8FB9      		out 47-32,r24
 347               	.L13:
 349               	.LM30:
 350 006a 779B      		sbis 46-32,7
 351 006c 00C0      		rjmp .L13
 353               	.LM31:
 354 006e 80E8      		ldi r24,lo8(-128)
 355 0070 8FB9      		out 47-32,r24
 356               	.L14:
 358               	.LM32:
 359 0072 779B      		sbis 46-32,7
 360 0074 00C0      		rjmp .L14
 362               	.LM33:
 363 0076 82E0      		ldi r24,lo8(2)
 364               	.L16:
 365 0078 8150      		subi r24,lo8(-(-1))
 366 007a DF01      		movw r26,r30
 367 007c A80F      		add r26,r24
 368 007e B11D      		adc r27,__zero_reg__
 369 0080 9C91      		ld r25,X
 370 0082 9FB9      		out 47-32,r25
 371               	.L15:
 373               	.LM34:
 374 0084 779B      		sbis 46-32,7
 375 0086 00C0      		rjmp .L15
 377               	.LM35:
 378 0088 8823      		tst r24
 379 008a 01F4      		brne .L16
 381               	.LM36:
 382 008c C09A      		sbi 56-32,0
  97:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM(&counter[2],(CC2420RAM_TXNONCE+11),2,n);
 384               	.LM37:
 385 008e C098      		cbi 56-32,0
 386 0090 8BEC      		ldi r24,lo8(-53)
 387 0092 8FB9      		out 47-32,r24
 388               	.L17:
 390               	.LM38:
 391 0094 779B      		sbis 46-32,7
 392 0096 00C0      		rjmp .L17
 394               	.LM39:
 395 0098 80E8      		ldi r24,lo8(-128)
 396 009a 8FB9      		out 47-32,r24
 397               	.L18:
 399               	.LM40:
 400 009c 779B      		sbis 46-32,7
 401 009e 00C0      		rjmp .L18
 403               	.LM41:
 404 00a0 82E0      		ldi r24,lo8(2)
 405               	.L20:
 406 00a2 8150      		subi r24,lo8(-(-1))
 407 00a4 DF01      		movw r26,r30
 408 00a6 A80F      		add r26,r24
 409 00a8 B11D      		adc r27,__zero_reg__
 410 00aa 1296      		adiw r26,2
 411 00ac 9C91      		ld r25,X
 412 00ae 1297      		sbiw r26,2
 413 00b0 9FB9      		out 47-32,r25
 414               	.L19:
 416               	.LM42:
 417 00b2 779B      		sbis 46-32,7
 418 00b4 00C0      		rjmp .L19
 420               	.LM43:
 421 00b6 8823      		tst r24
 422 00b8 01F4      		brne .L20
 424               	.LM44:
 425 00ba C09A      		sbi 56-32,0
  98:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[0]=counter[0];
 427               	.LM45:
 428 00bc 8081      		ld r24,Z
 429 00be 8093 0000 		sts tx_ctr,r24
  99:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[1]=counter[1];
 431               	.LM46:
 432 00c2 8181      		ldd r24,Z+1
 433 00c4 8093 0000 		sts tx_ctr+1,r24
 100:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[2]=counter[2];
 435               	.LM47:
 436 00c8 8281      		ldd r24,Z+2
 437 00ca 8093 0000 		sts tx_ctr+2,r24
 101:../../../src/radio/cc2420/source/basic_rf.c ****     tx_ctr[3]=counter[3];
 439               	.LM48:
 440 00ce 8381      		ldd r24,Z+3
 441 00d0 8093 0000 		sts tx_ctr+3,r24
 442               	/* epilogue start */
 102:../../../src/radio/cc2420/source/basic_rf.c **** }
 444               	.LM49:
 445 00d4 0895      		ret
 447               	.Lscope6:
 449               		.stabd	78,0,0
 451               	.global	rf_security_set_key
 453               	rf_security_set_key:
 454               		.stabd	46,0,0
 103:../../../src/radio/cc2420/source/basic_rf.c **** 
 104:../../../src/radio/cc2420/source/basic_rf.c **** 
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 106:../../../src/radio/cc2420/source/basic_rf.c **** {
 456               	.LM50:
 457               	.LFBB7:
 458 00d6 8F92      		push r8
 459 00d8 9F92      		push r9
 460 00da AF92      		push r10
 461 00dc BF92      		push r11
 462 00de CF92      		push r12
 463 00e0 DF92      		push r13
 464 00e2 EF92      		push r14
 465 00e4 FF92      		push r15
 466 00e6 0F93      		push r16
 467 00e8 1F93      		push r17
 468 00ea DF93      		push r29
 469 00ec CF93      		push r28
 470 00ee 00D0      		rcall .
 471 00f0 00D0      		rcall .
 472 00f2 CDB7      		in r28,__SP_L__
 473 00f4 DEB7      		in r29,__SP_H__
 474               	/* prologue: function */
 475               	/* frame size = 4 */
 476               	/* stack size = 16 */
 477               	.L__stack_usage = 16
 478 00f6 E82E      		mov r14,r24
 479 00f8 092F      		mov r16,r25
 107:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n,i;
 108:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t key_buf;
 109:../../../src/radio/cc2420/source/basic_rf.c **** 
 110:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES key
 111:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 481               	.LM51:
 482 00fa 84E6      		ldi r24,lo8(100)
 483 00fc 90E0      		ldi r25,hi8(100)
 484 00fe 0E94 0000 		call nrk_spin_wait_us
 485 0102 F02E      		mov r15,r16
 486 0104 20E0      		ldi r18,lo8(256)
 487 0106 31E0      		ldi r19,hi8(256)
 112:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 113:../../../src/radio/cc2420/source/basic_rf.c ****     {
 114:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 115:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 116:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_KEY0+(i*2)),2,n);
 489               	.LM52:
 490 0108 8E01      		movw r16,r28
 491 010a 0F5F      		subi r16,lo8(-(1))
 492 010c 1F4F      		sbci r17,hi8(-(1))
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 494               	.LM53:
 495 010e F3E0      		ldi r31,lo8(3)
 496 0110 CF2E      		mov r12,r31
 497 0112 D12C      		mov r13,__zero_reg__
 498 0114 CC0E      		add r12,r28
 499 0116 DD1E      		adc r13,r29
 500               	.L34:
 114:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=(key[i]<<8)|key[i+1];
 502               	.LM54:
 503 0118 F701      		movw r30,r14
 504 011a 9190      		ld r9,Z+
 505 011c 7F01      		movw r14,r30
 506 011e 8824      		clr r8
 507 0120 8081      		ld r24,Z
 508 0122 90E0      		ldi r25,lo8(0)
 509 0124 8829      		or r24,r8
 510 0126 9929      		or r25,r9
 511 0128 9A83      		std Y+2,r25
 512 012a 8983      		std Y+1,r24
 115:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(100);
 514               	.LM55:
 515 012c 84E6      		ldi r24,lo8(100)
 516 012e 90E0      		ldi r25,hi8(100)
 517 0130 2B83      		std Y+3,r18
 518 0132 3C83      		std Y+4,r19
 519 0134 0E94 0000 		call nrk_spin_wait_us
 521               	.LM56:
 522 0138 C098      		cbi 56-32,0
 523 013a 2B81      		ldd r18,Y+3
 524 013c 3C81      		ldd r19,Y+4
 525 013e 822F      		mov r24,r18
 526 0140 8068      		ori r24,lo8(-128)
 527 0142 8FB9      		out 47-32,r24
 528               	.L30:
 530               	.LM57:
 531 0144 779B      		sbis 46-32,7
 532 0146 00C0      		rjmp .L30
 534               	.LM58:
 535 0148 C901      		movw r24,r18
 536 014a 9595      		asr r25
 537 014c 8795      		ror r24
 538 014e 807C      		andi r24,lo8(-64)
 539 0150 8FB9      		out 47-32,r24
 540               	.L31:
 542               	.LM59:
 543 0152 779B      		sbis 46-32,7
 544 0154 00C0      		rjmp .L31
 546               	.LM60:
 547 0156 5801      		movw r10,r16
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 549               	.LM61:
 550 0158 F801      		movw r30,r16
 551               	.L33:
 553               	.LM62:
 554 015a 8191      		ld r24,Z+
 555 015c 8FB9      		out 47-32,r24
 556               	.L32:
 558               	.LM63:
 559 015e 779B      		sbis 46-32,7
 560 0160 00C0      		rjmp .L32
 562               	.LM64:
 563 0162 EC15      		cp r30,r12
 564 0164 FD05      		cpc r31,r13
 565 0166 01F4      		brne .L33
 567               	.LM65:
 568 0168 C09A      		sbi 56-32,0
 569 016a 2E5F      		subi r18,lo8(-(2))
 570 016c 3F4F      		sbci r19,hi8(-(2))
 112:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<8; i++ )
 572               	.LM66:
 573 016e F1E0      		ldi r31,hi8(272)
 574 0170 2031      		cpi r18,lo8(272)
 575 0172 3F07      		cpc r19,r31
 576 0174 01F4      		brne .L34
 117:../../../src/radio/cc2420/source/basic_rf.c ****     }
 118:../../../src/radio/cc2420/source/basic_rf.c **** 
 119:../../../src/radio/cc2420/source/basic_rf.c **** // Set AES nonce to all zeros
 120:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(100);
 578               	.LM67:
 579 0176 84E6      		ldi r24,lo8(100)
 580 0178 90E0      		ldi r25,hi8(100)
 581 017a 0E94 0000 		call nrk_spin_wait_us
 582 017e 20E4      		ldi r18,lo8(320)
 583 0180 31E0      		ldi r19,hi8(320)
 584 0182 80E1      		ldi r24,lo8(272)
 585 0184 91E0      		ldi r25,hi8(272)
 586               	.L43:
 121:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 122:../../../src/radio/cc2420/source/basic_rf.c ****     {
 123:../../../src/radio/cc2420/source/basic_rf.c ****         key_buf=0;
 588               	.LM68:
 589 0186 1A82      		std Y+2,__zero_reg__
 590 0188 1982      		std Y+1,__zero_reg__
 124:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+(i*2)),2,n);
 592               	.LM69:
 593 018a C098      		cbi 56-32,0
 594 018c 422F      		mov r20,r18
 595 018e 4068      		ori r20,lo8(-128)
 596 0190 4FB9      		out 47-32,r20
 597               	.L35:
 599               	.LM70:
 600 0192 779B      		sbis 46-32,7
 601 0194 00C0      		rjmp .L35
 603               	.LM71:
 604 0196 A901      		movw r20,r18
 605 0198 5595      		asr r21
 606 019a 4795      		ror r20
 607 019c 407C      		andi r20,lo8(-64)
 608 019e 4FB9      		out 47-32,r20
 609               	.L36:
 611               	.LM72:
 612 01a0 779B      		sbis 46-32,7
 613 01a2 00C0      		rjmp .L36
 615               	.LM73:
 616 01a4 F801      		movw r30,r16
 617               	.L38:
 619               	.LM74:
 620 01a6 4191      		ld r20,Z+
 621 01a8 4FB9      		out 47-32,r20
 622               	.L37:
 624               	.LM75:
 625 01aa 779B      		sbis 46-32,7
 626 01ac 00C0      		rjmp .L37
 628               	.LM76:
 629 01ae EC15      		cp r30,r12
 630 01b0 FD05      		cpc r31,r13
 631 01b2 01F4      		brne .L38
 633               	.LM77:
 634 01b4 C09A      		sbi 56-32,0
 125:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+(i*2)),2,n);
 636               	.LM78:
 637 01b6 C098      		cbi 56-32,0
 638 01b8 482F      		mov r20,r24
 639 01ba 4068      		ori r20,lo8(-128)
 640 01bc 4FB9      		out 47-32,r20
 641               	.L39:
 643               	.LM79:
 644 01be 779B      		sbis 46-32,7
 645 01c0 00C0      		rjmp .L39
 647               	.LM80:
 648 01c2 AC01      		movw r20,r24
 649 01c4 5595      		asr r21
 650 01c6 4795      		ror r20
 651 01c8 407C      		andi r20,lo8(-64)
 652 01ca 4FB9      		out 47-32,r20
 653               	.L40:
 655               	.LM81:
 656 01cc 779B      		sbis 46-32,7
 657 01ce 00C0      		rjmp .L40
 659               	.LM82:
 660 01d0 F801      		movw r30,r16
 661               	.L42:
 663               	.LM83:
 664 01d2 4191      		ld r20,Z+
 665 01d4 4FB9      		out 47-32,r20
 666               	.L41:
 668               	.LM84:
 669 01d6 779B      		sbis 46-32,7
 670 01d8 00C0      		rjmp .L41
 672               	.LM85:
 673 01da EC15      		cp r30,r12
 674 01dc FD05      		cpc r31,r13
 675 01de 01F4      		brne .L42
 677               	.LM86:
 678 01e0 C09A      		sbi 56-32,0
 679 01e2 0296      		adiw r24,2
 680 01e4 2E5F      		subi r18,lo8(-(2))
 681 01e6 3F4F      		sbci r19,hi8(-(2))
 121:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<7; i++ )
 683               	.LM87:
 684 01e8 41E0      		ldi r20,hi8(286)
 685 01ea 8E31      		cpi r24,lo8(286)
 686 01ec 9407      		cpc r25,r20
 687 01ee 01F4      		brne .L43
 126:../../../src/radio/cc2420/source/basic_rf.c ****     }
 127:../../../src/radio/cc2420/source/basic_rf.c ****     // block counter set 1
 128:../../../src/radio/cc2420/source/basic_rf.c ****     key_buf=1;
 689               	.LM88:
 690 01f0 81E0      		ldi r24,lo8(1)
 691 01f2 90E0      		ldi r25,hi8(1)
 692 01f4 9A83      		std Y+2,r25
 693 01f6 8983      		std Y+1,r24
 129:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_TXNONCE+14),2,n);
 695               	.LM89:
 696 01f8 C098      		cbi 56-32,0
 697 01fa 8EEC      		ldi r24,lo8(-50)
 698 01fc 8FB9      		out 47-32,r24
 699               	.L44:
 701               	.LM90:
 702 01fe 779B      		sbis 46-32,7
 703 0200 00C0      		rjmp .L44
 705               	.LM91:
 706 0202 80E8      		ldi r24,lo8(-128)
 707 0204 8FB9      		out 47-32,r24
 708               	.L45:
 710               	.LM92:
 711 0206 779B      		sbis 46-32,7
 712 0208 00C0      		rjmp .L45
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 714               	.LM93:
 715 020a C801      		movw r24,r16
 716 020c 0296      		adiw r24,2
 717 020e F801      		movw r30,r16
 718               	.L47:
 720               	.LM94:
 721 0210 2191      		ld r18,Z+
 722 0212 2FB9      		out 47-32,r18
 723               	.L46:
 725               	.LM95:
 726 0214 779B      		sbis 46-32,7
 727 0216 00C0      		rjmp .L46
 729               	.LM96:
 730 0218 E817      		cp r30,r24
 731 021a F907      		cpc r31,r25
 732 021c 01F4      		brne .L47
 734               	.LM97:
 735 021e C09A      		sbi 56-32,0
 130:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&key_buf,(CC2420RAM_RXNONCE+14),2,n);
 737               	.LM98:
 738 0220 C098      		cbi 56-32,0
 739 0222 8EE9      		ldi r24,lo8(-98)
 740 0224 8FB9      		out 47-32,r24
 741               	.L48:
 743               	.LM99:
 744 0226 779B      		sbis 46-32,7
 745 0228 00C0      		rjmp .L48
 747               	.LM100:
 748 022a 80E8      		ldi r24,lo8(-128)
 749 022c 8FB9      		out 47-32,r24
 750               	.L49:
 752               	.LM101:
 753 022e 779B      		sbis 46-32,7
 754 0230 00C0      		rjmp .L49
 105:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_set_key(uint8_t *key)
 756               	.LM102:
 757 0232 0E5F      		subi r16,lo8(-(2))
 758 0234 1F4F      		sbci r17,hi8(-(2))
 759               	.L51:
 761               	.LM103:
 762 0236 F501      		movw r30,r10
 763 0238 8191      		ld r24,Z+
 764 023a 5F01      		movw r10,r30
 765 023c 8FB9      		out 47-32,r24
 766               	.L50:
 768               	.LM104:
 769 023e 779B      		sbis 46-32,7
 770 0240 00C0      		rjmp .L50
 772               	.LM105:
 773 0242 A016      		cp r10,r16
 774 0244 B106      		cpc r11,r17
 775 0246 01F4      		brne .L51
 777               	.LM106:
 778 0248 C09A      		sbi 56-32,0
 779               	/* epilogue start */
 131:../../../src/radio/cc2420/source/basic_rf.c **** }
 781               	.LM107:
 782 024a 0F90      		pop __tmp_reg__
 783 024c 0F90      		pop __tmp_reg__
 784 024e 0F90      		pop __tmp_reg__
 785 0250 0F90      		pop __tmp_reg__
 786 0252 CF91      		pop r28
 787 0254 DF91      		pop r29
 788 0256 1F91      		pop r17
 789 0258 0F91      		pop r16
 790 025a FF90      		pop r15
 791 025c EF90      		pop r14
 792 025e DF90      		pop r13
 793 0260 CF90      		pop r12
 794 0262 BF90      		pop r11
 795 0264 AF90      		pop r10
 796 0266 9F90      		pop r9
 797 0268 8F90      		pop r8
 798 026a 0895      		ret
 803               	.Lscope7:
 805               		.stabd	78,0,0
 808               	.global	rf_security_enable
 810               	rf_security_enable:
 811               		.stabd	46,0,0
 132:../../../src/radio/cc2420/source/basic_rf.c **** 
 133:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_enable(uint8_t *key)
 134:../../../src/radio/cc2420/source/basic_rf.c **** {
 813               	.LM108:
 814               	.LFBB8:
 815               	/* prologue: function */
 816               	/* frame size = 0 */
 817               	/* stack size = 0 */
 818               	.L__stack_usage = 0
 135:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x0306); // Enable CTR encryption with key 0
 820               	.LM109:
 821 026c C098      		cbi 56-32,0
 822 026e 89E1      		ldi r24,lo8(25)
 823 0270 8FB9      		out 47-32,r24
 824               	.L75:
 826               	.LM110:
 827 0272 779B      		sbis 46-32,7
 828 0274 00C0      		rjmp .L75
 830               	.LM111:
 831 0276 83E0      		ldi r24,lo8(3)
 832 0278 8FB9      		out 47-32,r24
 833               	.L76:
 835               	.LM112:
 836 027a 779B      		sbis 46-32,7
 837 027c 00C0      		rjmp .L76
 839               	.LM113:
 840 027e 86E0      		ldi r24,lo8(6)
 841 0280 8FB9      		out 47-32,r24
 842               	.L77:
 844               	.LM114:
 845 0282 779B      		sbis 46-32,7
 846 0284 00C0      		rjmp .L77
 848               	.LM115:
 849 0286 C09A      		sbi 56-32,0
 136:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL1, 0x0e0e); // Encrypt / Decrypt 18 bytes into header
 851               	.LM116:
 852 0288 C098      		cbi 56-32,0
 853 028a 8AE1      		ldi r24,lo8(26)
 854 028c 8FB9      		out 47-32,r24
 855               	.L78:
 857               	.LM117:
 858 028e 779B      		sbis 46-32,7
 859 0290 00C0      		rjmp .L78
 861               	.LM118:
 862 0292 8EE0      		ldi r24,lo8(14)
 863 0294 8FB9      		out 47-32,r24
 864               	.L79:
 866               	.LM119:
 867 0296 779B      		sbis 46-32,7
 868 0298 00C0      		rjmp .L79
 870               	.LM120:
 871 029a 8EE0      		ldi r24,lo8(14)
 872 029c 8FB9      		out 47-32,r24
 873               	.L80:
 875               	.LM121:
 876 029e 779B      		sbis 46-32,7
 877 02a0 00C0      		rjmp .L80
 879               	.LM122:
 880 02a2 C09A      		sbi 56-32,0
 137:../../../src/radio/cc2420/source/basic_rf.c **** 
 138:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=1;
 882               	.LM123:
 883 02a4 81E0      		ldi r24,lo8(1)
 884 02a6 8093 0000 		sts security_enable,r24
 885               	/* epilogue start */
 139:../../../src/radio/cc2420/source/basic_rf.c **** }
 887               	.LM124:
 888 02aa 0895      		ret
 890               	.Lscope8:
 892               		.stabd	78,0,0
 894               	.global	rf_security_disable
 896               	rf_security_disable:
 897               		.stabd	46,0,0
 140:../../../src/radio/cc2420/source/basic_rf.c **** 
 141:../../../src/radio/cc2420/source/basic_rf.c **** 
 142:../../../src/radio/cc2420/source/basic_rf.c **** 
 143:../../../src/radio/cc2420/source/basic_rf.c **** void rf_security_disable()
 144:../../../src/radio/cc2420/source/basic_rf.c **** {
 899               	.LM125:
 900               	.LFBB9:
 901               	/* prologue: function */
 902               	/* frame size = 0 */
 903               	/* stack size = 0 */
 904               	.L__stack_usage = 0
 145:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security enable"
 906               	.LM126:
 907 02ac C098      		cbi 56-32,0
 908 02ae 89E1      		ldi r24,lo8(25)
 909 02b0 8FB9      		out 47-32,r24
 910               	.L88:
 912               	.LM127:
 913 02b2 779B      		sbis 46-32,7
 914 02b4 00C0      		rjmp .L88
 916               	.LM128:
 917 02b6 81E0      		ldi r24,lo8(1)
 918 02b8 8FB9      		out 47-32,r24
 919               	.L89:
 921               	.LM129:
 922 02ba 779B      		sbis 46-32,7
 923 02bc 00C0      		rjmp .L89
 925               	.LM130:
 926 02be 84EC      		ldi r24,lo8(-60)
 927 02c0 8FB9      		out 47-32,r24
 928               	.L90:
 930               	.LM131:
 931 02c2 779B      		sbis 46-32,7
 932 02c4 00C0      		rjmp .L90
 934               	.LM132:
 935 02c6 C09A      		sbi 56-32,0
 146:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 937               	.LM133:
 938 02c8 1092 0000 		sts security_enable,__zero_reg__
 939               	/* epilogue start */
 147:../../../src/radio/cc2420/source/basic_rf.c **** }
 941               	.LM134:
 942 02cc 0895      		ret
 944               	.Lscope9:
 946               		.stabd	78,0,0
 948               	.global	rf_get_sem
 950               	rf_get_sem:
 951               		.stabd	46,0,0
 148:../../../src/radio/cc2420/source/basic_rf.c **** 
 149:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 150:../../../src/radio/cc2420/source/basic_rf.c **** // The RF settings structure is declared here, since we'll always need halRfInit()
 151:../../../src/radio/cc2420/source/basic_rf.c **** volatile RF_SETTINGS rfSettings;
 152:../../../src/radio/cc2420/source/basic_rf.c **** volatile uint8_t rx_ready;
 153:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 154:../../../src/radio/cc2420/source/basic_rf.c **** nrk_sem_t* rf_get_sem()
 155:../../../src/radio/cc2420/source/basic_rf.c **** {
 953               	.LM135:
 954               	.LFBB10:
 955               	/* prologue: function */
 956               	/* frame size = 0 */
 957               	/* stack size = 0 */
 958               	.L__stack_usage = 0
 156:../../../src/radio/cc2420/source/basic_rf.c ****     return radio_sem;
 157:../../../src/radio/cc2420/source/basic_rf.c **** }
 960               	.LM136:
 961 02ce 8091 0000 		lds r24,radio_sem
 962 02d2 9091 0000 		lds r25,radio_sem+1
 963               	/* epilogue start */
 964 02d6 0895      		ret
 966               	.Lscope10:
 968               		.stabd	78,0,0
 971               	.global	rf_tx_power
 973               	rf_tx_power:
 974               		.stabd	46,0,0
 158:../../../src/radio/cc2420/source/basic_rf.c **** 
 159:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_power(uint8_t pwr)
 160:../../../src/radio/cc2420/source/basic_rf.c **** {
 976               	.LM137:
 977               	.LFBB11:
 978               	/* prologue: function */
 979               	/* frame size = 0 */
 980               	/* stack size = 0 */
 981               	.L__stack_usage = 0
 161:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t tmp;
 162:../../../src/radio/cc2420/source/basic_rf.c ****     //tmp=0x5070;
 163:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 164:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 165:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 166:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=0xA0E0;
 167:../../../src/radio/cc2420/source/basic_rf.c ****     tmp=tmp | (pwr&0x1F);
 983               	.LM138:
 984 02d8 90E0      		ldi r25,lo8(0)
 985 02da 8F71      		andi r24,lo8(31)
 986 02dc 9070      		andi r25,hi8(31)
 987 02de 806E      		ori r24,lo8(-24352)
 988 02e0 906A      		ori r25,hi8(-24352)
 168:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_TXCTRL, tmp);   // Set the FIFOP threshold to maximum
 990               	.LM139:
 991 02e2 C098      		cbi 56-32,0
 992 02e4 25E1      		ldi r18,lo8(21)
 993 02e6 2FB9      		out 47-32,r18
 994               	.L96:
 996               	.LM140:
 997 02e8 779B      		sbis 46-32,7
 998 02ea 00C0      		rjmp .L96
 1000               	.LM141:
 1001 02ec 9FB9      		out 47-32,r25
 1002               	.L97:
 1004               	.LM142:
 1005 02ee 779B      		sbis 46-32,7
 1006 02f0 00C0      		rjmp .L97
 1008               	.LM143:
 1009 02f2 8FB9      		out 47-32,r24
 1010               	.L98:
 1012               	.LM144:
 1013 02f4 779B      		sbis 46-32,7
 1014 02f6 00C0      		rjmp .L98
 1016               	.LM145:
 1017 02f8 C09A      		sbi 56-32,0
 1018               	/* epilogue start */
 169:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 170:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 171:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 172:../../../src/radio/cc2420/source/basic_rf.c **** }
 1020               	.LM146:
 1021 02fa 0895      		ret
 1026               	.Lscope11:
 1028               		.stabd	78,0,0
 1031               	.global	rf_set_channel
 1033               	rf_set_channel:
 1034               		.stabd	46,0,0
 173:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_channel( uint8_t channel )
 174:../../../src/radio/cc2420/source/basic_rf.c **** {
 1036               	.LM147:
 1037               	.LFBB12:
 1038               	/* prologue: function */
 1039               	/* frame size = 0 */
 1040               	/* stack size = 0 */
 1041               	.L__stack_usage = 0
 175:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 176:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 177:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 178:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1043               	.LM148:
 1044 02fc 0E94 0000 		call halRfSetChannel
 1045               	/* epilogue start */
 179:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 180:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 181:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 182:../../../src/radio/cc2420/source/basic_rf.c **** }
 1047               	.LM149:
 1048 0300 0895      		ret
 1050               	.Lscope12:
 1052               		.stabd	78,0,0
 1054               	.global	rf_addr_decode_enable
 1056               	rf_addr_decode_enable:
 1057               		.stabd	46,0,0
 183:../../../src/radio/cc2420/source/basic_rf.c **** 
 184:../../../src/radio/cc2420/source/basic_rf.c **** 
 185:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_enable()
 186:../../../src/radio/cc2420/source/basic_rf.c **** {
 1059               	.LM150:
 1060               	.LFBB13:
 1061               	/* prologue: function */
 1062               	/* frame size = 0 */
 1063               	/* stack size = 0 */
 1064               	.L__stack_usage = 0
 187:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0800;
 1066               	.LM151:
 1067 0302 8091 0000 		lds r24,mdmctrl0
 1068 0306 9091 0000 		lds r25,mdmctrl0+1
 1069 030a 9860      		ori r25,hi8(2048)
 1070 030c 9093 0000 		sts mdmctrl0+1,r25
 1071 0310 8093 0000 		sts mdmctrl0,r24
 188:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1073               	.LM152:
 1074 0314 C098      		cbi 56-32,0
 1075 0316 81E1      		ldi r24,lo8(17)
 1076 0318 8FB9      		out 47-32,r24
 1077               	.L104:
 1079               	.LM153:
 1080 031a 779B      		sbis 46-32,7
 1081 031c 00C0      		rjmp .L104
 1083               	.LM154:
 1084 031e 8091 0000 		lds r24,mdmctrl0+1
 1085 0322 8FB9      		out 47-32,r24
 1086               	.L105:
 1088               	.LM155:
 1089 0324 779B      		sbis 46-32,7
 1090 0326 00C0      		rjmp .L105
 1092               	.LM156:
 1093 0328 8091 0000 		lds r24,mdmctrl0
 1094 032c 8FB9      		out 47-32,r24
 1095               	.L106:
 1097               	.LM157:
 1098 032e 779B      		sbis 46-32,7
 1099 0330 00C0      		rjmp .L106
 1101               	.LM158:
 1102 0332 C09A      		sbi 56-32,0
 1103               	/* epilogue start */
 189:../../../src/radio/cc2420/source/basic_rf.c **** }
 1105               	.LM159:
 1106 0334 0895      		ret
 1108               	.Lscope13:
 1110               		.stabd	78,0,0
 1112               	.global	rf_addr_decode_disable
 1114               	rf_addr_decode_disable:
 1115               		.stabd	46,0,0
 190:../../../src/radio/cc2420/source/basic_rf.c **** 
 191:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_disable()
 192:../../../src/radio/cc2420/source/basic_rf.c **** {
 1117               	.LM160:
 1118               	.LFBB14:
 1119               	/* prologue: function */
 1120               	/* frame size = 0 */
 1121               	/* stack size = 0 */
 1122               	.L__stack_usage = 0
 193:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0800);
 1124               	.LM161:
 1125 0336 8091 0000 		lds r24,mdmctrl0
 1126 033a 9091 0000 		lds r25,mdmctrl0+1
 1127 033e 977F      		andi r25,hi8(-2049)
 1128 0340 9093 0000 		sts mdmctrl0+1,r25
 1129 0344 8093 0000 		sts mdmctrl0,r24
 194:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1131               	.LM162:
 1132 0348 C098      		cbi 56-32,0
 1133 034a 81E1      		ldi r24,lo8(17)
 1134 034c 8FB9      		out 47-32,r24
 1135               	.L111:
 1137               	.LM163:
 1138 034e 779B      		sbis 46-32,7
 1139 0350 00C0      		rjmp .L111
 1141               	.LM164:
 1142 0352 8091 0000 		lds r24,mdmctrl0+1
 1143 0356 8FB9      		out 47-32,r24
 1144               	.L112:
 1146               	.LM165:
 1147 0358 779B      		sbis 46-32,7
 1148 035a 00C0      		rjmp .L112
 1150               	.LM166:
 1151 035c 8091 0000 		lds r24,mdmctrl0
 1152 0360 8FB9      		out 47-32,r24
 1153               	.L113:
 1155               	.LM167:
 1156 0362 779B      		sbis 46-32,7
 1157 0364 00C0      		rjmp .L113
 1159               	.LM168:
 1160 0366 C09A      		sbi 56-32,0
 1161               	/* epilogue start */
 195:../../../src/radio/cc2420/source/basic_rf.c **** }
 1163               	.LM169:
 1164 0368 0895      		ret
 1166               	.Lscope14:
 1168               		.stabd	78,0,0
 1170               	.global	rf_auto_ack_enable
 1172               	rf_auto_ack_enable:
 1173               		.stabd	46,0,0
 196:../../../src/radio/cc2420/source/basic_rf.c **** 
 197:../../../src/radio/cc2420/source/basic_rf.c **** 
 198:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_enable()
 199:../../../src/radio/cc2420/source/basic_rf.c **** {
 1175               	.LM170:
 1176               	.LFBB15:
 1177               	/* prologue: function */
 1178               	/* frame size = 0 */
 1179               	/* stack size = 0 */
 1180               	.L__stack_usage = 0
 200:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=1;
 1182               	.LM171:
 1183 036a 81E0      		ldi r24,lo8(1)
 1184 036c 8093 0000 		sts auto_ack_enable,r24
 201:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= 0x0010;
 1186               	.LM172:
 1187 0370 8091 0000 		lds r24,mdmctrl0
 1188 0374 9091 0000 		lds r25,mdmctrl0+1
 1189 0378 8061      		ori r24,lo8(16)
 1190 037a 9093 0000 		sts mdmctrl0+1,r25
 1191 037e 8093 0000 		sts mdmctrl0,r24
 202:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1193               	.LM173:
 1194 0382 C098      		cbi 56-32,0
 1195 0384 81E1      		ldi r24,lo8(17)
 1196 0386 8FB9      		out 47-32,r24
 1197               	.L118:
 1199               	.LM174:
 1200 0388 779B      		sbis 46-32,7
 1201 038a 00C0      		rjmp .L118
 1203               	.LM175:
 1204 038c 8091 0000 		lds r24,mdmctrl0+1
 1205 0390 8FB9      		out 47-32,r24
 1206               	.L119:
 1208               	.LM176:
 1209 0392 779B      		sbis 46-32,7
 1210 0394 00C0      		rjmp .L119
 1212               	.LM177:
 1213 0396 8091 0000 		lds r24,mdmctrl0
 1214 039a 8FB9      		out 47-32,r24
 1215               	.L120:
 1217               	.LM178:
 1218 039c 779B      		sbis 46-32,7
 1219 039e 00C0      		rjmp .L120
 1221               	.LM179:
 1222 03a0 C09A      		sbi 56-32,0
 1223               	/* epilogue start */
 203:../../../src/radio/cc2420/source/basic_rf.c **** }
 1225               	.LM180:
 1226 03a2 0895      		ret
 1228               	.Lscope15:
 1230               		.stabd	78,0,0
 1232               	.global	rf_auto_ack_disable
 1234               	rf_auto_ack_disable:
 1235               		.stabd	46,0,0
 204:../../../src/radio/cc2420/source/basic_rf.c **** 
 205:../../../src/radio/cc2420/source/basic_rf.c **** void rf_auto_ack_disable()
 206:../../../src/radio/cc2420/source/basic_rf.c **** {
 1237               	.LM181:
 1238               	.LFBB16:
 1239               	/* prologue: function */
 1240               	/* frame size = 0 */
 1241               	/* stack size = 0 */
 1242               	.L__stack_usage = 0
 207:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 1244               	.LM182:
 1245 03a4 1092 0000 		sts auto_ack_enable,__zero_reg__
 208:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (~0x0010);
 1247               	.LM183:
 1248 03a8 8091 0000 		lds r24,mdmctrl0
 1249 03ac 9091 0000 		lds r25,mdmctrl0+1
 1250 03b0 8F7E      		andi r24,lo8(-17)
 1251 03b2 9093 0000 		sts mdmctrl0+1,r25
 1252 03b6 8093 0000 		sts mdmctrl0,r24
 209:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 1254               	.LM184:
 1255 03ba C098      		cbi 56-32,0
 1256 03bc 81E1      		ldi r24,lo8(17)
 1257 03be 8FB9      		out 47-32,r24
 1258               	.L125:
 1260               	.LM185:
 1261 03c0 779B      		sbis 46-32,7
 1262 03c2 00C0      		rjmp .L125
 1264               	.LM186:
 1265 03c4 8091 0000 		lds r24,mdmctrl0+1
 1266 03c8 8FB9      		out 47-32,r24
 1267               	.L126:
 1269               	.LM187:
 1270 03ca 779B      		sbis 46-32,7
 1271 03cc 00C0      		rjmp .L126
 1273               	.LM188:
 1274 03ce 8091 0000 		lds r24,mdmctrl0
 1275 03d2 8FB9      		out 47-32,r24
 1276               	.L127:
 1278               	.LM189:
 1279 03d4 779B      		sbis 46-32,7
 1280 03d6 00C0      		rjmp .L127
 1282               	.LM190:
 1283 03d8 C09A      		sbi 56-32,0
 1284               	/* epilogue start */
 210:../../../src/radio/cc2420/source/basic_rf.c **** }
 1286               	.LM191:
 1287 03da 0895      		ret
 1289               	.Lscope16:
 1291               		.stabd	78,0,0
 1294               	.global	rf_addr_decode_set_my_mac
 1296               	rf_addr_decode_set_my_mac:
 1297               		.stabd	46,0,0
 211:../../../src/radio/cc2420/source/basic_rf.c **** 
 212:../../../src/radio/cc2420/source/basic_rf.c **** 
 213:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 214:../../../src/radio/cc2420/source/basic_rf.c **** {
 1299               	.LM192:
 1300               	.LFBB17:
 1301 03dc DF93      		push r29
 1302 03de CF93      		push r28
 1303 03e0 00D0      		rcall .
 1304 03e2 CDB7      		in r28,__SP_L__
 1305 03e4 DEB7      		in r29,__SP_H__
 1306               	/* prologue: function */
 1307               	/* frame size = 2 */
 1308               	/* stack size = 4 */
 1309               	.L__stack_usage = 4
 1310 03e6 9A83      		std Y+2,r25
 1311 03e8 8983      		std Y+1,r24
 215:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 216:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = my_mac;
 1313               	.LM193:
 1314 03ea 9093 0000 		sts rfSettings+6+1,r25
 1315 03ee 8093 0000 		sts rfSettings+6,r24
 217:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1317               	.LM194:
 1318 03f2 84EF      		ldi r24,lo8(500)
 1319 03f4 91E0      		ldi r25,hi8(500)
 1320 03f6 0E94 0000 		call nrk_spin_wait_us
 218:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&my_mac, CC2420RAM_SHORTADDR, 2, n);
 1322               	.LM195:
 1323 03fa C098      		cbi 56-32,0
 1324 03fc 8AEE      		ldi r24,lo8(-22)
 1325 03fe 8FB9      		out 47-32,r24
 1326               	.L132:
 1328               	.LM196:
 1329 0400 779B      		sbis 46-32,7
 1330 0402 00C0      		rjmp .L132
 1332               	.LM197:
 1333 0404 80E8      		ldi r24,lo8(-128)
 1334 0406 8FB9      		out 47-32,r24
 1335               	.L133:
 1337               	.LM198:
 1338 0408 779B      		sbis 46-32,7
 1339 040a 00C0      		rjmp .L133
 1341               	.LM199:
 1342 040c FE01      		movw r30,r28
 1343 040e 3196      		adiw r30,1
 213:../../../src/radio/cc2420/source/basic_rf.c **** void rf_addr_decode_set_my_mac(uint16_t my_mac)
 1345               	.LM200:
 1346 0410 CE01      		movw r24,r28
 1347 0412 0396      		adiw r24,3
 1348               	.L135:
 1350               	.LM201:
 1351 0414 2191      		ld r18,Z+
 1352 0416 2FB9      		out 47-32,r18
 1353               	.L134:
 1355               	.LM202:
 1356 0418 779B      		sbis 46-32,7
 1357 041a 00C0      		rjmp .L134
 1359               	.LM203:
 1360 041c E817      		cp r30,r24
 1361 041e F907      		cpc r31,r25
 1362 0420 01F4      		brne .L135
 1364               	.LM204:
 1365 0422 C09A      		sbi 56-32,0
 219:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1367               	.LM205:
 1368 0424 84EF      		ldi r24,lo8(500)
 1369 0426 91E0      		ldi r25,hi8(500)
 1370 0428 0E94 0000 		call nrk_spin_wait_us
 1371               	/* epilogue start */
 220:../../../src/radio/cc2420/source/basic_rf.c **** }
 1373               	.LM206:
 1374 042c 0F90      		pop __tmp_reg__
 1375 042e 0F90      		pop __tmp_reg__
 1376 0430 CF91      		pop r28
 1377 0432 DF91      		pop r29
 1378 0434 0895      		ret
 1380               	.Lscope17:
 1382               		.stabd	78,0,0
 1386               	.global	rf_set_rx
 1388               	rf_set_rx:
 1389               		.stabd	46,0,0
 221:../../../src/radio/cc2420/source/basic_rf.c **** 
 222:../../../src/radio/cc2420/source/basic_rf.c **** 
 223:../../../src/radio/cc2420/source/basic_rf.c **** 
 224:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_rx(RF_RX_INFO *pRRI, uint8_t channel )
 225:../../../src/radio/cc2420/source/basic_rf.c **** {
 1391               	.LM207:
 1392               	.LFBB18:
 1393 0436 CF93      		push r28
 1394 0438 DF93      		push r29
 1395               	/* prologue: function */
 1396               	/* frame size = 0 */
 1397               	/* stack size = 2 */
 1398               	.L__stack_usage = 2
 1399 043a EC01      		movw r28,r24
 1400 043c 862F      		mov r24,r22
 226:../../../src/radio/cc2420/source/basic_rf.c **** 
 227:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 228:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 229:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 230:../../../src/radio/cc2420/source/basic_rf.c **** 
 231:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1402               	.LM208:
 1403 043e C098      		cbi 56-32,0
 1404 0440 98E0      		ldi r25,lo8(8)
 1405 0442 9FB9      		out 47-32,r25
 1406               	.L141:
 1408               	.LM209:
 1409 0444 779B      		sbis 46-32,7
 1410 0446 00C0      		rjmp .L141
 1412               	.LM210:
 1413 0448 C09A      		sbi 56-32,0
 232:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1415               	.LM211:
 1416 044a C098      		cbi 56-32,0
 1417 044c 98E0      		ldi r25,lo8(8)
 1418 044e 9FB9      		out 47-32,r25
 1419               	.L142:
 1421               	.LM212:
 1422 0450 779B      		sbis 46-32,7
 1423 0452 00C0      		rjmp .L142
 1425               	.LM213:
 1426 0454 C09A      		sbi 56-32,0
 233:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1428               	.LM214:
 1429 0456 0E94 0000 		call halRfSetChannel
 234:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 1431               	.LM215:
 1432 045a D093 0000 		sts rfSettings+1,r29
 1433 045e C093 0000 		sts rfSettings,r28
 1434               	/* epilogue start */
 235:../../../src/radio/cc2420/source/basic_rf.c **** 
 236:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 237:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 238:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 239:../../../src/radio/cc2420/source/basic_rf.c **** }
 1436               	.LM216:
 1437 0462 DF91      		pop r29
 1438 0464 CF91      		pop r28
 1439 0466 0895      		ret
 1441               	.Lscope18:
 1443               		.stabd	78,0,0
 1449               	.global	rf_init
 1451               	rf_init:
 1452               		.stabd	46,0,0
 240:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 241:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_init(RF_RX_INFO *pRRI, uint8_t channel, WORD panId, WORD myAddr)
 242:../../../src/radio/cc2420/source/basic_rf.c **** //
 243:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 244:../../../src/radio/cc2420/source/basic_rf.c **** //      Initializes CC2420 for radio communication via the basic RF library functions. Turns on the
 245:../../../src/radio/cc2420/source/basic_rf.c **** //		voltage regulator, resets the CC2420, turns on the crystal oscillator, writes all necessary
 246:../../../src/radio/cc2420/source/basic_rf.c **** //		registers and protocol addresses (for automatic address recognition). Note that the crystal
 247:../../../src/radio/cc2420/source/basic_rf.c **** //		oscillator will remain on (forever).
 248:../../../src/radio/cc2420/source/basic_rf.c **** //
 249:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 250:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_RX_INFO *pRRI
 251:../../../src/radio/cc2420/source/basic_rf.c **** //          A pointer the RF_RX_INFO data structure to be used during the first packet reception.
 252:../../../src/radio/cc2420/source/basic_rf.c **** //			The structure can be switched upon packet reception.
 253:../../../src/radio/cc2420/source/basic_rf.c **** //      uint8_t channel
 254:../../../src/radio/cc2420/source/basic_rf.c **** //          The RF channel to be used (11 = 2405 MHz to 26 = 2480 MHz)
 255:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD panId
 256:../../../src/radio/cc2420/source/basic_rf.c **** //          The personal area network identification number
 257:../../../src/radio/cc2420/source/basic_rf.c **** //      WORD myAddr
 258:../../../src/radio/cc2420/source/basic_rf.c **** //          The 16-bit short address which is used by this node. Must together with the PAN ID form
 259:../../../src/radio/cc2420/source/basic_rf.c **** //			unique 32-bit identifier to avoid addressing conflicts. Normally, in a 802.15.4 network, the
 260:../../../src/radio/cc2420/source/basic_rf.c **** //			short address will be given to associated nodes by the PAN coordinator.
 261:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 262:../../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr)
 263:../../../src/radio/cc2420/source/basic_rf.c **** {
 1454               	.LM217:
 1455               	.LFBB19:
 1456 0468 DF92      		push r13
 1457 046a EF92      		push r14
 1458 046c FF92      		push r15
 1459 046e 0F93      		push r16
 1460 0470 1F93      		push r17
 1461 0472 DF93      		push r29
 1462 0474 CF93      		push r28
 1463 0476 00D0      		rcall .
 1464 0478 CDB7      		in r28,__SP_L__
 1465 047a DEB7      		in r29,__SP_H__
 1466               	/* prologue: function */
 1467               	/* frame size = 2 */
 1468               	/* stack size = 9 */
 1469               	.L__stack_usage = 9
 1470 047c 8C01      		movw r16,r24
 1471 047e D62E      		mov r13,r22
 1472 0480 5A83      		std Y+2,r21
 1473 0482 4983      		std Y+1,r20
 1474 0484 7901      		movw r14,r18
 264:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t n;
 265:../../../src/radio/cc2420/source/basic_rf.c **** 
 266:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 267:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t v;
 268:../../../src/radio/cc2420/source/basic_rf.c ****     radio_sem = nrk_sem_create(1,RADIO_PRIORITY_CEILING);
 269:../../../src/radio/cc2420/source/basic_rf.c ****     if (radio_sem == NULL)
 270:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kernel_error_add (NRK_SEMAPHORE_CREATE_ERROR, nrk_get_pid ());
 271:../../../src/radio/cc2420/source/basic_rf.c **** 
 272:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_pend (radio_sem);
 273:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 274:../../../src/radio/cc2420/source/basic_rf.c ****     {
 275:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Access to semaphore failed\r\n"));
 276:../../../src/radio/cc2420/source/basic_rf.c ****     }
 277:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 278:../../../src/radio/cc2420/source/basic_rf.c **** 
 279:../../../src/radio/cc2420/source/basic_rf.c ****     // Make sure that the voltage regulator is on, and that the reset pin is inactive
 280:../../../src/radio/cc2420/source/basic_rf.c ****     SET_VREG_ACTIVE();
 1476               	.LM218:
 1477 0486 DD9A      		sbi 59-32,5
 281:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1000);
 1479               	.LM219:
 1480 0488 88EE      		ldi r24,lo8(1000)
 1481 048a 93E0      		ldi r25,hi8(1000)
 1482 048c 0E94 0000 		call halWait
 282:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_ACTIVE();
 1484               	.LM220:
 1485 0490 DE98      		cbi 59-32,6
 283:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(1);
 1487               	.LM221:
 1488 0492 81E0      		ldi r24,lo8(1)
 1489 0494 90E0      		ldi r25,hi8(1)
 1490 0496 0E94 0000 		call halWait
 284:../../../src/radio/cc2420/source/basic_rf.c ****     SET_RESET_INACTIVE();
 1492               	.LM222:
 1493 049a DE9A      		sbi 59-32,6
 285:../../../src/radio/cc2420/source/basic_rf.c ****     halWait(100);
 1495               	.LM223:
 1496 049c 84E6      		ldi r24,lo8(100)
 1497 049e 90E0      		ldi r25,hi8(100)
 1498 04a0 0E94 0000 		call halWait
 286:../../../src/radio/cc2420/source/basic_rf.c **** 
 287:../../../src/radio/cc2420/source/basic_rf.c ****     // Initialize the FIFOP external interrupt
 288:../../../src/radio/cc2420/source/basic_rf.c ****     //FIFOP_INT_INIT();
 289:../../../src/radio/cc2420/source/basic_rf.c ****     //ENABLE_FIFOP_INT();
 290:../../../src/radio/cc2420/source/basic_rf.c **** 
 291:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off all interrupts while we're accessing the CC2420 registers
 292:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 1500               	.LM224:
 1501               	/* #APP */
 1502               	 ;  292 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1503 04a4 F894      		cli
 1504               		
 1505               	 ;  0 "" 2
 293:../../../src/radio/cc2420/source/basic_rf.c **** 
 294:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 1507               	.LM225:
 1508               	/* #NOAPP */
 1509 04a6 C098      		cbi 56-32,0
 1510 04a8 81E0      		ldi r24,lo8(1)
 1511 04aa 8FB9      		out 47-32,r24
 1512               	.L146:
 1514               	.LM226:
 1515 04ac 779B      		sbis 46-32,7
 1516 04ae 00C0      		rjmp .L146
 1518               	.LM227:
 1519 04b0 C09A      		sbi 56-32,0
 295:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0=0x02E2;
 1521               	.LM228:
 1522 04b2 82EE      		ldi r24,lo8(738)
 1523 04b4 92E0      		ldi r25,hi8(738)
 1524 04b6 9093 0000 		sts mdmctrl0+1,r25
 1525 04ba 8093 0000 		sts mdmctrl0,r24
 296:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);  // Std Preamble, CRC, no auto ack, no hw addr decod
 1527               	.LM229:
 1528 04be C098      		cbi 56-32,0
 1529 04c0 81E1      		ldi r24,lo8(17)
 1530 04c2 8FB9      		out 47-32,r24
 1531               	.L147:
 1533               	.LM230:
 1534 04c4 779B      		sbis 46-32,7
 1535 04c6 00C0      		rjmp .L147
 1537               	.LM231:
 1538 04c8 8091 0000 		lds r24,mdmctrl0+1
 1539 04cc 8FB9      		out 47-32,r24
 1540               	.L148:
 1542               	.LM232:
 1543 04ce 779B      		sbis 46-32,7
 1544 04d0 00C0      		rjmp .L148
 1546               	.LM233:
 1547 04d2 8091 0000 		lds r24,mdmctrl0
 1548 04d6 8FB9      		out 47-32,r24
 1549               	.L149:
 1551               	.LM234:
 1552 04d8 779B      		sbis 46-32,7
 1553 04da 00C0      		rjmp .L149
 1555               	.LM235:
 1556 04dc C09A      		sbi 56-32,0
 297:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 298:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn on hw addre decoding
 299:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // Set the correlation threshold = 20
 1558               	.LM236:
 1559 04de C098      		cbi 56-32,0
 1560 04e0 82E1      		ldi r24,lo8(18)
 1561 04e2 8FB9      		out 47-32,r24
 1562               	.L150:
 1564               	.LM237:
 1565 04e4 779B      		sbis 46-32,7
 1566 04e6 00C0      		rjmp .L150
 1568               	.LM238:
 1569 04e8 85E0      		ldi r24,lo8(5)
 1570 04ea 8FB9      		out 47-32,r24
 1571               	.L151:
 1573               	.LM239:
 1574 04ec 779B      		sbis 46-32,7
 1575 04ee 00C0      		rjmp .L151
 1577               	.LM240:
 1578 04f0 1FB8      		out 47-32,__zero_reg__
 1579               	.L152:
 1581               	.LM241:
 1582 04f2 779B      		sbis 46-32,7
 1583 04f4 00C0      		rjmp .L152
 1585               	.LM242:
 1586 04f6 C09A      		sbi 56-32,0
 300:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_IOCFG0, 0x007F);   // Set the FIFOP threshold to maximum
 1588               	.LM243:
 1589 04f8 C098      		cbi 56-32,0
 1590 04fa 8CE1      		ldi r24,lo8(28)
 1591 04fc 8FB9      		out 47-32,r24
 1592               	.L153:
 1594               	.LM244:
 1595 04fe 779B      		sbis 46-32,7
 1596 0500 00C0      		rjmp .L153
 1598               	.LM245:
 1599 0502 1FB8      		out 47-32,__zero_reg__
 1600               	.L154:
 1602               	.LM246:
 1603 0504 779B      		sbis 46-32,7
 1604 0506 00C0      		rjmp .L154
 1606               	.LM247:
 1607 0508 8FE7      		ldi r24,lo8(127)
 1608 050a 8FB9      		out 47-32,r24
 1609               	.L155:
 1611               	.LM248:
 1612 050c 779B      		sbis 46-32,7
 1613 050e 00C0      		rjmp .L155
 1615               	.LM249:
 1616 0510 C09A      		sbi 56-32,0
 301:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_SECCTRL0, 0x01C4); // Turn off "Security"
 1618               	.LM250:
 1619 0512 C098      		cbi 56-32,0
 1620 0514 89E1      		ldi r24,lo8(25)
 1621 0516 8FB9      		out 47-32,r24
 1622               	.L156:
 1624               	.LM251:
 1625 0518 779B      		sbis 46-32,7
 1626 051a 00C0      		rjmp .L156
 1628               	.LM252:
 1629 051c 81E0      		ldi r24,lo8(1)
 1630 051e 8FB9      		out 47-32,r24
 1631               	.L157:
 1633               	.LM253:
 1634 0520 779B      		sbis 46-32,7
 1635 0522 00C0      		rjmp .L157
 1637               	.LM254:
 1638 0524 84EC      		ldi r24,lo8(-60)
 1639 0526 8FB9      		out 47-32,r24
 1640               	.L158:
 1642               	.LM255:
 1643 0528 779B      		sbis 46-32,7
 1644 052a 00C0      		rjmp .L158
 1646               	.LM256:
 1647 052c C09A      		sbi 56-32,0
 302:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RXCTRL1, 0x1A56); // All default except
 1649               	.LM257:
 1650 052e C098      		cbi 56-32,0
 1651 0530 87E1      		ldi r24,lo8(23)
 1652 0532 8FB9      		out 47-32,r24
 1653               	.L159:
 1655               	.LM258:
 1656 0534 779B      		sbis 46-32,7
 1657 0536 00C0      		rjmp .L159
 1659               	.LM259:
 1660 0538 8AE1      		ldi r24,lo8(26)
 1661 053a 8FB9      		out 47-32,r24
 1662               	.L160:
 1664               	.LM260:
 1665 053c 779B      		sbis 46-32,7
 1666 053e 00C0      		rjmp .L160
 1668               	.LM261:
 1669 0540 86E5      		ldi r24,lo8(86)
 1670 0542 8FB9      		out 47-32,r24
 1671               	.L161:
 1673               	.LM262:
 1674 0544 779B      		sbis 46-32,7
 1675 0546 00C0      		rjmp .L161
 1677               	.LM263:
 1678 0548 C09A      		sbi 56-32,0
 303:../../../src/radio/cc2420/source/basic_rf.c ****     // reference bias current to RX
 304:../../../src/radio/cc2420/source/basic_rf.c ****     // bandpass filter is set to 3uA
 305:../../../src/radio/cc2420/source/basic_rf.c **** 
 306:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 307:../../../src/radio/cc2420/source/basic_rf.c ****         // FIXME: remove later for auto ack
 308:../../../src/radio/cc2420/source/basic_rf.c ****         myAddr=MY_MAC;
 309:../../../src/radio/cc2420/source/basic_rf.c ****         panId=0x02;
 310:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AF2);  // Turn on automatic packet acknowledgment
 311:../../../src/radio/cc2420/source/basic_rf.c ****     //    FASTSPI_SETREG(CC2420_MDMCTRL0, 0x0AE2);  // Turn on automatic packet acknowledgment
 312:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 313:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 314:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 315:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 316:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 317:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_spin_wait_us(500);
 318:../../../src/radio/cc2420/source/basic_rf.c **** 
 319:../../../src/radio/cc2420/source/basic_rf.c ****        printf( "myAddr=%d\r\n",myAddr );
 320:../../../src/radio/cc2420/source/basic_rf.c ****     */
 321:../../../src/radio/cc2420/source/basic_rf.c **** 
 322:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1680               	.LM264:
 1681 054a 84EF      		ldi r24,lo8(500)
 1682 054c 91E0      		ldi r25,hi8(500)
 1683 054e 0E94 0000 		call nrk_spin_wait_us
 323:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 1685               	.LM265:
 1686 0552 C098      		cbi 56-32,0
 1687 0554 88EE      		ldi r24,lo8(-24)
 1688 0556 8FB9      		out 47-32,r24
 1689               	.L162:
 1691               	.LM266:
 1692 0558 779B      		sbis 46-32,7
 1693 055a 00C0      		rjmp .L162
 1695               	.LM267:
 1696 055c 80E8      		ldi r24,lo8(-128)
 1697 055e 8FB9      		out 47-32,r24
 1698               	.L163:
 1700               	.LM268:
 1701 0560 779B      		sbis 46-32,7
 1702 0562 00C0      		rjmp .L163
 1704               	.LM269:
 1705 0564 FE01      		movw r30,r28
 1706 0566 3196      		adiw r30,1
 262:../../../src/radio/cc2420/source/basic_rf.c **** void rf_init(RF_RX_INFO *pRRI, uint8_t channel, uint16_t panId, uint16_t myAddr)
 1708               	.LM270:
 1709 0568 CE01      		movw r24,r28
 1710 056a 0396      		adiw r24,3
 1711               	.L165:
 1713               	.LM271:
 1714 056c 2191      		ld r18,Z+
 1715 056e 2FB9      		out 47-32,r18
 1716               	.L164:
 1718               	.LM272:
 1719 0570 779B      		sbis 46-32,7
 1720 0572 00C0      		rjmp .L164
 1722               	.LM273:
 1723 0574 E817      		cp r30,r24
 1724 0576 F907      		cpc r31,r25
 1725 0578 01F4      		brne .L165
 1727               	.LM274:
 1728 057a C09A      		sbi 56-32,0
 324:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(500);
 1730               	.LM275:
 1731 057c 84EF      		ldi r24,lo8(500)
 1732 057e 91E0      		ldi r25,hi8(500)
 1733 0580 0E94 0000 		call nrk_spin_wait_us
 325:../../../src/radio/cc2420/source/basic_rf.c **** 
 326:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 1735               	.LM276:
 1736               	/* #APP */
 1737               	 ;  326 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1738 0584 7894      		sei
 1739               		
 1740               	 ;  0 "" 2
 327:../../../src/radio/cc2420/source/basic_rf.c **** 
 328:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the RF channel
 329:../../../src/radio/cc2420/source/basic_rf.c ****     halRfSetChannel(channel);
 1742               	.LM277:
 1743               	/* #NOAPP */
 1744 0586 8D2D      		mov r24,r13
 1745 0588 0E94 0000 		call halRfSetChannel
 330:../../../src/radio/cc2420/source/basic_rf.c **** 
 331:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 332:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 1747               	.LM278:
 1748               	/* #APP */
 1749               	 ;  332 "../../../src/radio/cc2420/source/basic_rf.c" 1
 1750 058c 7894      		sei
 1751               		
 1752               	 ;  0 "" 2
 333:../../../src/radio/cc2420/source/basic_rf.c **** 
 334:../../../src/radio/cc2420/source/basic_rf.c ****     // Set the protocol configuration
 335:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.pRxInfo = pRRI;
 1754               	.LM279:
 1755               	/* #NOAPP */
 1756 058e 1093 0000 		sts rfSettings+1,r17
 1757 0592 0093 0000 		sts rfSettings,r16
 336:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.panId = panId;
 1759               	.LM280:
 1760 0596 8981      		ldd r24,Y+1
 1761 0598 9A81      		ldd r25,Y+2
 1762 059a 9093 0000 		sts rfSettings+4+1,r25
 1763 059e 8093 0000 		sts rfSettings+4,r24
 337:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.myAddr = myAddr;
 1765               	.LM281:
 1766 05a2 F092 0000 		sts rfSettings+6+1,r15
 1767 05a6 E092 0000 		sts rfSettings+6,r14
 338:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber = 0;
 1769               	.LM282:
 1770 05aa 1092 0000 		sts rfSettings+2,__zero_reg__
 339:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 1772               	.LM283:
 1773 05ae 1092 0000 		sts rfSettings+8,__zero_reg__
 340:../../../src/radio/cc2420/source/basic_rf.c **** 
 341:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the crystal oscillator to become stable
 342:../../../src/radio/cc2420/source/basic_rf.c ****     halRfWaitForCrystalOscillator();
 1775               	.LM284:
 1776 05b2 0E94 0000 		call halRfWaitForCrystalOscillator
 343:../../../src/radio/cc2420/source/basic_rf.c **** 
 344:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the short address and the PAN ID to the CC2420 RAM (requires that the XOSC is on and s
 345:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_GLOBAL_INT();
 346:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&myAddr, CC2420RAM_SHORTADDR, 2, n);
 347:../../../src/radio/cc2420/source/basic_rf.c **** //    FASTSPI_WRITE_RAM_LE(&panId, CC2420RAM_PANID, 2, n);
 348:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_GLOBAL_INT();
 349:../../../src/radio/cc2420/source/basic_rf.c **** 
 350:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 351:../../../src/radio/cc2420/source/basic_rf.c ****     v = nrk_sem_post (radio_sem);
 352:../../../src/radio/cc2420/source/basic_rf.c ****     if (v == NRK_ERROR)
 353:../../../src/radio/cc2420/source/basic_rf.c ****     {
 354:../../../src/radio/cc2420/source/basic_rf.c ****         nrk_kprintf (PSTR ("CC2420 ERROR:  Release of semaphore failed\r\n"));
 355:../../../src/radio/cc2420/source/basic_rf.c ****         _nrk_errno_set (2);
 356:../../../src/radio/cc2420/source/basic_rf.c ****     }
 357:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 358:../../../src/radio/cc2420/source/basic_rf.c **** 
 359:../../../src/radio/cc2420/source/basic_rf.c ****     auto_ack_enable=0;
 1778               	.LM285:
 1779 05b6 1092 0000 		sts auto_ack_enable,__zero_reg__
 360:../../../src/radio/cc2420/source/basic_rf.c ****     security_enable=0;
 1781               	.LM286:
 1782 05ba 1092 0000 		sts security_enable,__zero_reg__
 361:../../../src/radio/cc2420/source/basic_rf.c ****     last_pkt_encrypted=0;
 1784               	.LM287:
 1785 05be 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 1786               	/* epilogue start */
 362:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_init()
 1788               	.LM288:
 1789 05c2 0F90      		pop __tmp_reg__
 1790 05c4 0F90      		pop __tmp_reg__
 1791 05c6 CF91      		pop r28
 1792 05c8 DF91      		pop r29
 1793 05ca 1F91      		pop r17
 1794 05cc 0F91      		pop r16
 1795 05ce FF90      		pop r15
 1796 05d0 EF90      		pop r14
 1797 05d2 DF90      		pop r13
 1798 05d4 0895      		ret
 1800               	.Lscope19:
 1802               		.stabd	78,0,0
 1804               	.global	rf_rx_on
 1806               	rf_rx_on:
 1807               		.stabd	46,0,0
 363:../../../src/radio/cc2420/source/basic_rf.c **** 
 364:../../../src/radio/cc2420/source/basic_rf.c **** 
 365:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 366:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_on(void)
 367:../../../src/radio/cc2420/source/basic_rf.c **** //
 368:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 369:../../../src/radio/cc2420/source/basic_rf.c **** //      Enables the CC2420 receiver and the FIFOP interrupt. When a packet is received through this
 370:../../../src/radio/cc2420/source/basic_rf.c **** //      interrupt, it will call rf_rx_callback(...), which must be defined by the application
 371:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 372:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_on(void)
 373:../../../src/radio/cc2420/source/basic_rf.c **** {
 1809               	.LM289:
 1810               	.LFBB20:
 1811               	/* prologue: function */
 1812               	/* frame size = 0 */
 1813               	/* stack size = 0 */
 1814               	.L__stack_usage = 0
 374:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 375:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 376:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 377:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 1816               	.LM290:
 1817 05d6 81E0      		ldi r24,lo8(1)
 1818 05d8 8093 0000 		sts rfSettings+8,r24
 378:../../../src/radio/cc2420/source/basic_rf.c **** 
 379:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 380:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 381:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 382:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 383:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 1820               	.LM291:
 1821 05dc C098      		cbi 56-32,0
 1822 05de 83E0      		ldi r24,lo8(3)
 1823 05e0 8FB9      		out 47-32,r24
 1824               	.L187:
 1826               	.LM292:
 1827 05e2 779B      		sbis 46-32,7
 1828 05e4 00C0      		rjmp .L187
 1830               	.LM293:
 1831 05e6 C09A      		sbi 56-32,0
 384:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1833               	.LM294:
 1834 05e8 C098      		cbi 56-32,0
 1835 05ea 88E0      		ldi r24,lo8(8)
 1836 05ec 8FB9      		out 47-32,r24
 1837               	.L188:
 1839               	.LM295:
 1840 05ee 779B      		sbis 46-32,7
 1841 05f0 00C0      		rjmp .L188
 1843               	.LM296:
 1844 05f2 C09A      		sbi 56-32,0
 385:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 1846               	.LM297:
 1847 05f4 1092 0000 		sts rx_ready,__zero_reg__
 1848               	/* epilogue start */
 386:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 387:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 388:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 389:../../../src/radio/cc2420/source/basic_rf.c ****     //	ENABLE_FIFOP_INT();
 390:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 1850               	.LM298:
 1851 05f8 0895      		ret
 1853               	.Lscope20:
 1855               		.stabd	78,0,0
 1857               	.global	rf_polling_rx_on
 1859               	rf_polling_rx_on:
 1860               		.stabd	46,0,0
 391:../../../src/radio/cc2420/source/basic_rf.c **** 
 392:../../../src/radio/cc2420/source/basic_rf.c **** void rf_polling_rx_on(void)
 393:../../../src/radio/cc2420/source/basic_rf.c **** {
 1862               	.LM299:
 1863               	.LFBB21:
 1864               	/* prologue: function */
 1865               	/* frame size = 0 */
 1866               	/* stack size = 0 */
 1867               	.L__stack_usage = 0
 394:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 395:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 396:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 397:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = TRUE;
 1869               	.LM300:
 1870 05fa 81E0      		ldi r24,lo8(1)
 1871 05fc 8093 0000 		sts rfSettings+8,r24
 398:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 399:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 400:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 401:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 402:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRXON);
 1873               	.LM301:
 1874 0600 C098      		cbi 56-32,0
 1875 0602 83E0      		ldi r24,lo8(3)
 1876 0604 8FB9      		out 47-32,r24
 1877               	.L192:
 1879               	.LM302:
 1880 0606 779B      		sbis 46-32,7
 1881 0608 00C0      		rjmp .L192
 1883               	.LM303:
 1884 060a C09A      		sbi 56-32,0
 403:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1886               	.LM304:
 1887 060c C098      		cbi 56-32,0
 1888 060e 88E0      		ldi r24,lo8(8)
 1889 0610 8FB9      		out 47-32,r24
 1890               	.L193:
 1892               	.LM305:
 1893 0612 779B      		sbis 46-32,7
 1894 0614 00C0      		rjmp .L193
 1896               	.LM306:
 1897 0616 C09A      		sbi 56-32,0
 404:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 1899               	.LM307:
 1900 0618 1092 0000 		sts rx_ready,__zero_reg__
 1901               	/* epilogue start */
 405:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 406:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 407:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 408:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_on()
 1903               	.LM308:
 1904 061c 0895      		ret
 1906               	.Lscope21:
 1908               		.stabd	78,0,0
 1910               	.global	rf_rx_off
 1912               	rf_rx_off:
 1913               		.stabd	46,0,0
 409:../../../src/radio/cc2420/source/basic_rf.c **** 
 410:../../../src/radio/cc2420/source/basic_rf.c **** 
 411:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
 412:../../../src/radio/cc2420/source/basic_rf.c **** // Here is a sample of the rf_rx_callback() that should
 413:../../../src/radio/cc2420/source/basic_rf.c **** // be placed in your application
 414:../../../src/radio/cc2420/source/basic_rf.c **** 
 415:../../../src/radio/cc2420/source/basic_rf.c **** RF_RX_INFO* rf_rx_callback(RF_RX_INFO *pRRI) {
 416:../../../src/radio/cc2420/source/basic_rf.c **** 	// Its okay to leave this empty...
 417:../../../src/radio/cc2420/source/basic_rf.c **** 	return pRRI;
 418:../../../src/radio/cc2420/source/basic_rf.c **** }
 419:../../../src/radio/cc2420/source/basic_rf.c **** ***********************************************************/
 420:../../../src/radio/cc2420/source/basic_rf.c **** 
 421:../../../src/radio/cc2420/source/basic_rf.c **** 
 422:../../../src/radio/cc2420/source/basic_rf.c **** 
 423:../../../src/radio/cc2420/source/basic_rf.c **** 
 424:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 425:../../../src/radio/cc2420/source/basic_rf.c **** //  void rf_rx_off(void)
 426:../../../src/radio/cc2420/source/basic_rf.c **** //
 427:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 428:../../../src/radio/cc2420/source/basic_rf.c **** //      Disables the CC2420 receiver and the FIFOP interrupt.
 429:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 430:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_off(void)
 431:../../../src/radio/cc2420/source/basic_rf.c **** {
 1915               	.LM309:
 1916               	.LFBB22:
 1917               	/* prologue: function */
 1918               	/* frame size = 0 */
 1919               	/* stack size = 0 */
 1920               	.L__stack_usage = 0
 432:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 433:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 434:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 435:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX
 436:../../../src/radio/cc2420/source/basic_rf.c ****     //SET_VREG_INACTIVE();
 437:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.receiveOn = FALSE;
 1922               	.LM310:
 1923 061e 1092 0000 		sts rfSettings+8,__zero_reg__
 438:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);
 1925               	.LM311:
 1926 0622 C098      		cbi 56-32,0
 1927 0624 86E0      		ldi r24,lo8(6)
 1928 0626 8FB9      		out 47-32,r24
 1929               	.L197:
 1931               	.LM312:
 1932 0628 779B      		sbis 46-32,7
 1933 062a 00C0      		rjmp .L197
 1935               	.LM313:
 1936 062c C09A      		sbi 56-32,0
 439:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 440:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 441:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 442:../../../src/radio/cc2420/source/basic_rf.c ****     rx_ready=0;
 1938               	.LM314:
 1939 062e 1092 0000 		sts rx_ready,__zero_reg__
 1940               	/* epilogue start */
 443:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 444:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 445:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 446:../../../src/radio/cc2420/source/basic_rf.c ****     //	DISABLE_FIFOP_INT();
 447:../../../src/radio/cc2420/source/basic_rf.c **** } // rf_rx_off()
 1942               	.LM315:
 1943 0632 0895      		ret
 1945               	.Lscope22:
 1947               		.stabd	78,0,0
 1952               	.global	rf_tx_tdma_packet
 1954               	rf_tx_tdma_packet:
 1955               		.stabd	46,0,0
 448:../../../src/radio/cc2420/source/basic_rf.c **** 
 449:../../../src/radio/cc2420/source/basic_rf.c **** 
 450:../../../src/radio/cc2420/source/basic_rf.c **** /**************************************************************************
 451:../../../src/radio/cc2420/source/basic_rf.c **** This function is the same as normal TX, only it waits until the last
 452:../../../src/radio/cc2420/source/basic_rf.c **** second to send the duty out with the high speed timer.  And by duty, I mean
 453:../../../src/radio/cc2420/source/basic_rf.c **** the packet BIATCH...
 454:../../../src/radio/cc2420/source/basic_rf.c **** **************************************************************************/
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 456:../../../src/radio/cc2420/source/basic_rf.c **** {
 1957               	.LM316:
 1958               	.LFBB23:
 1959 0634 BF92      		push r11
 1960 0636 CF92      		push r12
 1961 0638 DF92      		push r13
 1962 063a EF92      		push r14
 1963 063c FF92      		push r15
 1964 063e 0F93      		push r16
 1965 0640 1F93      		push r17
 1966 0642 DF93      		push r29
 1967 0644 CF93      		push r28
 1968 0646 00D0      		rcall .
 1969 0648 0F92      		push __tmp_reg__
 1970 064a CDB7      		in r28,__SP_L__
 1971 064c DEB7      		in r29,__SP_H__
 1972               	/* prologue: function */
 1973               	/* frame size = 3 */
 1974               	/* stack size = 12 */
 1975               	.L__stack_usage = 12
 1976 064e 8C01      		movw r16,r24
 1977 0650 6B01      		movw r12,r22
 1978 0652 7A01      		movw r14,r20
 457:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 458:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength;
 459:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 460:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 461:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 462:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t timestamp;
 463:../../../src/radio/cc2420/source/basic_rf.c **** 
 464:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 465:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend (radio_sem);
 466:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 467:../../../src/radio/cc2420/source/basic_rf.c ****     timestamp=_nrk_os_timer_get();
 1980               	.LM317:
 1981 0654 0E94 0000 		call _nrk_os_timer_get
 468:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 469:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 470:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 471:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 472:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 473:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1983               	.LM318:
 1984 0658 C098      		cbi 56-32,0
 1985 065a 88E0      		ldi r24,lo8(8)
 1986 065c 8FB9      		out 47-32,r24
 1987               	.L200:
 1989               	.LM319:
 1990 065e 779B      		sbis 46-32,7
 1991 0660 00C0      		rjmp .L200
 1993               	.LM320:
 1994 0662 C09A      		sbi 56-32,0
 474:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 1996               	.LM321:
 1997 0664 C098      		cbi 56-32,0
 1998 0666 88E0      		ldi r24,lo8(8)
 1999 0668 8FB9      		out 47-32,r24
 2000               	.L201:
 2002               	.LM322:
 2003 066a 779B      		sbis 46-32,7
 2004 066c 00C0      		rjmp .L201
 2006               	.LM323:
 2007 066e C09A      		sbi 56-32,0
 2008               	.L291:
 475:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 476:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2010               	.LM324:
 2011 0670 0E99      		sbic 33-32,6
 2012 0672 00C0      		rjmp .L291
 2014               	.LM325:
 2015 0674 8499      		sbic 48-32,4
 2016 0676 00C0      		rjmp .L291
 477:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 478:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2018               	.LM326:
 2019               	/* #APP */
 2020               	 ;  478 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2021 0678 F894      		cli
 2022               		
 2023               	 ;  0 "" 2
 479:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 480:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2025               	.LM327:
 2026               	/* #NOAPP */
 2027 067a C098      		cbi 56-32,0
 2028 067c 89E0      		ldi r24,lo8(9)
 2029 067e 8FB9      		out 47-32,r24
 2030               	.L203:
 2032               	.LM328:
 2033 0680 779B      		sbis 46-32,7
 2034 0682 00C0      		rjmp .L203
 2036               	.LM329:
 2037 0684 C09A      		sbi 56-32,0
 481:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2039               	.LM330:
 2040 0686 C098      		cbi 56-32,0
 2041 0688 89E0      		ldi r24,lo8(9)
 2042 068a 8FB9      		out 47-32,r24
 2043               	.L204:
 2045               	.LM331:
 2046 068c 779B      		sbis 46-32,7
 2047 068e 00C0      		rjmp .L204
 2049               	.LM332:
 2050 0690 C09A      		sbi 56-32,0
 482:../../../src/radio/cc2420/source/basic_rf.c **** 
 483:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2052               	.LM333:
 2053 0692 D801      		movw r26,r16
 2054 0694 1296      		adiw r26,2
 2055 0696 5C91      		ld r21,X
 2056 0698 1297      		sbiw r26,2
 2057 069a 252F      		mov r18,r21
 2058 069c 3327      		clr r19
 2059 069e 27FD      		sbrc r18,7
 2060 06a0 3095      		com r19
 483:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2062               	.LM334:
 2063 06a2 BB24      		clr r11
 2065               	.LM335:
 2066 06a4 40E0      		ldi r20,lo8(0)
 2067 06a6 00C0      		rjmp .L205
 2068               	.L206:
 485:../../../src/radio/cc2420/source/basic_rf.c ****     {
 486:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 487:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2070               	.LM336:
 2071 06a8 D801      		movw r26,r16
 2072 06aa 1396      		adiw r26,3
 2073 06ac ED91      		ld r30,X+
 2074 06ae FC91      		ld r31,X
 2075 06b0 1497      		sbiw r26,3+1
 2076 06b2 E80F      		add r30,r24
 2077 06b4 F91F      		adc r31,r25
 2078 06b6 8081      		ld r24,Z
 2079 06b8 B80E      		add r11,r24
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2081               	.LM337:
 2082 06ba 4F5F      		subi r20,lo8(-(1))
 2083               	.L205:
 484:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2085               	.LM338:
 2086 06bc 842F      		mov r24,r20
 2087 06be 90E0      		ldi r25,lo8(0)
 2088 06c0 8217      		cp r24,r18
 2089 06c2 9307      		cpc r25,r19
 2090 06c4 04F0      		brlt .L206
 488:../../../src/radio/cc2420/source/basic_rf.c ****     }
 489:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2092               	.LM339:
 2093 06c6 545F      		subi r21,lo8(-(12))
 490:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_set_led(3);
 491:../../../src/radio/cc2420/source/basic_rf.c ****     //do { } while(_nrk_get_high_speed_timer()<(tx_guard_time));
 492:../../../src/radio/cc2420/source/basic_rf.c **** 
 493:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 494:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 495:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a higher layer since they assume TDMA
 496:../../../src/radio/cc2420/source/basic_rf.c **** 
 497:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2095               	.LM340:
 2096 06c8 C098      		cbi 56-32,0
 2097 06ca 8EE3      		ldi r24,lo8(62)
 2098 06cc 8FB9      		out 47-32,r24
 2099               	.L207:
 2101               	.LM341:
 2102 06ce 779B      		sbis 46-32,7
 2103 06d0 00C0      		rjmp .L207
 2104               	.LBB2:
 2106               	.LM342:
 2107 06d2 5FB9      		out 47-32,r21
 2108               	.L208:
 2110               	.LM343:
 2111 06d4 779B      		sbis 46-32,7
 2112 06d6 00C0      		rjmp .L208
 2113               	.LBE2:
 2115               	.LM344:
 2116 06d8 C09A      		sbi 56-32,0
 498:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = pRTI->ackRequest ? RF_FCF_ACK : RF_FCF_NOACK;
 2118               	.LM345:
 2119 06da F801      		movw r30,r16
 2120 06dc 8681      		ldd r24,Z+6
 2121 06de 8823      		tst r24
 2122 06e0 01F0      		breq .L249
 2124               	.LM346:
 2125 06e2 81E6      		ldi r24,lo8(-30623)
 2126 06e4 98E8      		ldi r25,hi8(-30623)
 2127 06e6 00C0      		rjmp .L209
 2128               	.L249:
 2129 06e8 81E4      		ldi r24,lo8(-30655)
 2130 06ea 98E8      		ldi r25,hi8(-30655)
 2131               	.L209:
 2133               	.LM347:
 2134 06ec 9A83      		std Y+2,r25
 2135 06ee 8983      		std Y+1,r24
 499:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2137               	.LM348:
 2138 06f0 C098      		cbi 56-32,0
 2139 06f2 8EE3      		ldi r24,lo8(62)
 2140 06f4 8FB9      		out 47-32,r24
 2141               	.L210:
 2143               	.LM349:
 2144 06f6 779B      		sbis 46-32,7
 2145 06f8 00C0      		rjmp .L210
 2147               	.LM350:
 2148 06fa FE01      		movw r30,r28
 2149 06fc 3196      		adiw r30,1
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2151               	.LM351:
 2152 06fe CE01      		movw r24,r28
 2153 0700 0396      		adiw r24,3
 2154               	.L212:
 2155               	.LBB3:
 2157               	.LM352:
 2158 0702 2191      		ld r18,Z+
 2159 0704 2FB9      		out 47-32,r18
 2160               	.L211:
 2162               	.LM353:
 2163 0706 779B      		sbis 46-32,7
 2164 0708 00C0      		rjmp .L211
 2166               	.LM354:
 2167 070a E817      		cp r30,r24
 2168 070c F907      		cpc r31,r25
 2169 070e 01F4      		brne .L212
 2170               	.LBE3:
 2172               	.LM355:
 2173 0710 C09A      		sbi 56-32,0
 500:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 2175               	.LM356:
 2176 0712 C098      		cbi 56-32,0
 2177 0714 8EE3      		ldi r24,lo8(62)
 2178 0716 8FB9      		out 47-32,r24
 2179               	.L213:
 2181               	.LM357:
 2182 0718 779B      		sbis 46-32,7
 2183 071a 00C0      		rjmp .L213
 2184               	.LBB4:
 2186               	.LM358:
 2187 071c 8091 0000 		lds r24,rfSettings+2
 2188 0720 8FB9      		out 47-32,r24
 2189               	.L214:
 2191               	.LM359:
 2192 0722 779B      		sbis 46-32,7
 2193 0724 00C0      		rjmp .L214
 2194               	.LBE4:
 2196               	.LM360:
 2197 0726 C09A      		sbi 56-32,0
 501:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 2199               	.LM361:
 2200 0728 C098      		cbi 56-32,0
 2201 072a 8EE3      		ldi r24,lo8(62)
 2202 072c 8FB9      		out 47-32,r24
 2203               	.L215:
 2205               	.LM362:
 2206 072e 779B      		sbis 46-32,7
 2207 0730 00C0      		rjmp .L215
 2209               	.LM363:
 2210 0732 80E0      		ldi r24,lo8(0)
 2211 0734 90E0      		ldi r25,hi8(0)
 2212               	.L217:
 2213               	.LBB5:
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2215               	.LM364:
 2216 0736 FC01      		movw r30,r24
 2217 0738 E050      		subi r30,lo8(-(rfSettings))
 2218 073a F040      		sbci r31,hi8(-(rfSettings))
 2220               	.LM365:
 2221 073c 2481      		ldd r18,Z+4
 2222 073e 2FB9      		out 47-32,r18
 2223               	.L216:
 2225               	.LM366:
 2226 0740 779B      		sbis 46-32,7
 2227 0742 00C0      		rjmp .L216
 2229               	.LM367:
 2230 0744 0196      		adiw r24,1
 2231 0746 8230      		cpi r24,2
 2232 0748 9105      		cpc r25,__zero_reg__
 2233 074a 01F4      		brne .L217
 2234               	.LBE5:
 2236               	.LM368:
 2237 074c C09A      		sbi 56-32,0
 502:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 2239               	.LM369:
 2240 074e C098      		cbi 56-32,0
 2241 0750 8EE3      		ldi r24,lo8(62)
 2242 0752 8FB9      		out 47-32,r24
 2243               	.L218:
 2245               	.LM370:
 2246 0754 779B      		sbis 46-32,7
 2247 0756 00C0      		rjmp .L218
 2249               	.LM371:
 2250 0758 80E0      		ldi r24,lo8(0)
 2251 075a 90E0      		ldi r25,hi8(0)
 2252               	.L220:
 2253               	.LBB6:
 2254 075c F801      		movw r30,r16
 2255 075e E80F      		add r30,r24
 2256 0760 F91F      		adc r31,r25
 2257 0762 2081      		ld r18,Z
 2258 0764 2FB9      		out 47-32,r18
 2259               	.L219:
 2261               	.LM372:
 2262 0766 779B      		sbis 46-32,7
 2263 0768 00C0      		rjmp .L219
 2265               	.LM373:
 2266 076a 0196      		adiw r24,1
 2267 076c 8230      		cpi r24,2
 2268 076e 9105      		cpc r25,__zero_reg__
 2269 0770 01F4      		brne .L220
 2270               	.LBE6:
 2272               	.LM374:
 2273 0772 C09A      		sbi 56-32,0
 503:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 2275               	.LM375:
 2276 0774 C098      		cbi 56-32,0
 2277 0776 8EE3      		ldi r24,lo8(62)
 2278 0778 8FB9      		out 47-32,r24
 2279               	.L221:
 2281               	.LM376:
 2282 077a 779B      		sbis 46-32,7
 2283 077c 00C0      		rjmp .L221
 2285               	.LM377:
 2286 077e 80E0      		ldi r24,lo8(0)
 2287 0780 90E0      		ldi r25,hi8(0)
 2288               	.L223:
 2289               	.LBB7:
 455:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_tdma_packet(RF_TX_INFO *pRTI, uint16_t slot_start_time, uint16_t tx_guard_time)
 2291               	.LM378:
 2292 0782 FC01      		movw r30,r24
 2293 0784 E050      		subi r30,lo8(-(rfSettings))
 2294 0786 F040      		sbci r31,hi8(-(rfSettings))
 2296               	.LM379:
 2297 0788 2681      		ldd r18,Z+6
 2298 078a 2FB9      		out 47-32,r18
 2299               	.L222:
 2301               	.LM380:
 2302 078c 779B      		sbis 46-32,7
 2303 078e 00C0      		rjmp .L222
 2305               	.LM381:
 2306 0790 0196      		adiw r24,1
 2307 0792 8230      		cpi r24,2
 2308 0794 9105      		cpc r25,__zero_reg__
 2309 0796 01F4      		brne .L223
 2310               	.LBE7:
 2312               	.LM382:
 2313 0798 C09A      		sbi 56-32,0
 504:../../../src/radio/cc2420/source/basic_rf.c **** 
 505:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_high_speed_timer_wait(slot_start_time,tx_guard_time);
 2315               	.LM383:
 2316 079a C601      		movw r24,r12
 2317 079c B701      		movw r22,r14
 2318 079e 0E94 0000 		call nrk_high_speed_timer_wait
 506:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_clr_led(3);
 507:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 508:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 509:../../../src/radio/cc2420/source/basic_rf.c ****      nrk_set_led(3);
 510:../../../src/radio/cc2420/source/basic_rf.c ****     last=0;
 511:../../../src/radio/cc2420/source/basic_rf.c ****     do {
 512:../../../src/radio/cc2420/source/basic_rf.c ****     if(last==_nrk_get_high_speed_timer())
 513:../../../src/radio/cc2420/source/basic_rf.c ****     	{
 514:../../../src/radio/cc2420/source/basic_rf.c ****     	//while(1)
 515:../../../src/radio/cc2420/source/basic_rf.c ****     	//printf( "TX ERROR %d vs %d\r\n",_nrk_get_high_speed_timer(),tx_guard_time );
 516:../../../src/radio/cc2420/source/basic_rf.c ****     	break;
 517:../../../src/radio/cc2420/source/basic_rf.c ****     	}
 518:../../../src/radio/cc2420/source/basic_rf.c ****     last=_nrk_get_high_speed_timer();
 519:../../../src/radio/cc2420/source/basic_rf.c ****     }
 520:../../../src/radio/cc2420/source/basic_rf.c ****     while((volatile)last<(tx_guard_time));
 521:../../../src/radio/cc2420/source/basic_rf.c **** 
 522:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 523:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_clr_led(3);
 524:../../../src/radio/cc2420/source/basic_rf.c ****     */
 525:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 526:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 527:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 528:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 529:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 530:../../../src/radio/cc2420/source/basic_rf.c **** 
 531:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 532:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 533:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 534:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 535:../../../src/radio/cc2420/source/basic_rf.c **** 
 536:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 537:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 538:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 539:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 540:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 541:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 542:../../../src/radio/cc2420/source/basic_rf.c ****     */
 543:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 2320               	.LM384:
 2321 07a2 D801      		movw r26,r16
 2322 07a4 1596      		adiw r26,5
 2323 07a6 8C91      		ld r24,X
 2324 07a8 1597      		sbiw r26,5
 2325 07aa 8823      		tst r24
 2326 07ac 01F0      		breq .L224
 2327               	.LBB8:
 544:../../../src/radio/cc2420/source/basic_rf.c ****     {
 545:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 546:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 2329               	.LM385:
 2330 07ae 8091 0000 		lds r24,rfSettings+8
 2331 07b2 8823      		tst r24
 2332 07b4 01F4      		brne .L251
 547:../../../src/radio/cc2420/source/basic_rf.c ****         {
 548:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 2334               	.LM386:
 2335 07b6 C098      		cbi 56-32,0
 2336 07b8 83E0      		ldi r24,lo8(3)
 2337 07ba 8FB9      		out 47-32,r24
 2338               	.L226:
 2340               	.LM387:
 2341 07bc 779B      		sbis 46-32,7
 2342 07be 00C0      		rjmp .L226
 2344               	.LM388:
 2345 07c0 C09A      		sbi 56-32,0
 2346               	.L251:
 549:../../../src/radio/cc2420/source/basic_rf.c ****         }
 550:../../../src/radio/cc2420/source/basic_rf.c **** 
 551:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 552:../../../src/radio/cc2420/source/basic_rf.c ****         do
 553:../../../src/radio/cc2420/source/basic_rf.c ****         {
 554:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2348               	.LM389:
 2349 07c2 C098      		cbi 56-32,0
 2350 07c4 1FB8      		out 47-32,__zero_reg__
 2351               	.L227:
 2353               	.LM390:
 2354 07c6 779B      		sbis 46-32,7
 2355 07c8 00C0      		rjmp .L227
 2357               	.LM391:
 2358 07ca 8FB1      		in r24,47-32
 2359 07cc C09A      		sbi 56-32,0
 555:../../../src/radio/cc2420/source/basic_rf.c ****         }
 556:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 2361               	.LM392:
 2362 07ce 81FF      		sbrs r24,1
 2363 07d0 00C0      		rjmp .L251
 2365               	.LM393:
 2366 07d2 20E0      		ldi r18,lo8(0)
 557:../../../src/radio/cc2420/source/basic_rf.c **** 
 558:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 559:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 560:../../../src/radio/cc2420/source/basic_rf.c ****         do
 561:../../../src/radio/cc2420/source/basic_rf.c ****         {
 562:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 2368               	.LM394:
 2369 07d4 A5E0      		ldi r26,lo8(5)
 2370 07d6 EA2E      		mov r14,r26
 2371               	.L233:
 2372 07d8 C098      		cbi 56-32,0
 2373 07da EFB8      		out 47-32,r14
 2374               	.L229:
 2376               	.LM395:
 2377 07dc 779B      		sbis 46-32,7
 2378 07de 00C0      		rjmp .L229
 2380               	.LM396:
 2381 07e0 C09A      		sbi 56-32,0
 563:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 2383               	.LM397:
 2384 07e2 C098      		cbi 56-32,0
 2385 07e4 1FB8      		out 47-32,__zero_reg__
 2386               	.L230:
 2388               	.LM398:
 2389 07e6 779B      		sbis 46-32,7
 2390 07e8 00C0      		rjmp .L230
 2392               	.LM399:
 2393 07ea CFB0      		in r12,47-32
 2394 07ec C09A      		sbi 56-32,0
 564:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 2396               	.LM400:
 2397 07ee 2F5F      		subi r18,lo8(-(1))
 565:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 2399               	.LM401:
 2400 07f0 2536      		cpi r18,lo8(101)
 2401 07f2 01F4      		brne .L231
 566:../../../src/radio/cc2420/source/basic_rf.c ****             {
 567:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 2403               	.LM402:
 2404               	/* #APP */
 2405               	 ;  567 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2406 07f4 7894      		sei
 2407               		
 2408               	 ;  0 "" 2
 568:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 2410               	.LM403:
 2411               	/* #NOAPP */
 2412 07f6 8091 0000 		lds r24,radio_sem
 2413 07fa 9091 0000 		lds r25,radio_sem+1
 2414 07fe 0E94 0000 		call nrk_sem_post
 569:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 2416               	.LM404:
 2417 0802 80E0      		ldi r24,lo8(0)
 2418 0804 00C0      		rjmp .L232
 2419               	.L231:
 570:../../../src/radio/cc2420/source/basic_rf.c ****             }
 571:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 2421               	.LM405:
 2422 0806 84E6      		ldi r24,lo8(100)
 2423 0808 90E0      		ldi r25,hi8(100)
 2424 080a 2B83      		std Y+3,r18
 2425 080c 0E94 0000 		call halWait
 572:../../../src/radio/cc2420/source/basic_rf.c ****         }
 573:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 2427               	.LM406:
 2428 0810 2B81      		ldd r18,Y+3
 2429 0812 C3FE      		sbrs r12,3
 2430 0814 00C0      		rjmp .L233
 2431 0816 00C0      		rjmp .L234
 2432               	.L224:
 2433               	.LBE8:
 574:../../../src/radio/cc2420/source/basic_rf.c ****     }
 575:../../../src/radio/cc2420/source/basic_rf.c ****     else
 576:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 2435               	.LM407:
 2436 0818 C098      		cbi 56-32,0
 2437 081a 84E0      		ldi r24,lo8(4)
 2438 081c 8FB9      		out 47-32,r24
 2439               	.L235:
 2441               	.LM408:
 2442 081e 779B      		sbis 46-32,7
 2443 0820 00C0      		rjmp .L235
 2445               	.LM409:
 2446 0822 C09A      		sbi 56-32,0
 2447               	.L234:
 577:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_gpio_set(DEBUG_0);
 578:../../../src/radio/cc2420/source/basic_rf.c **** 
 579:../../../src/radio/cc2420/source/basic_rf.c **** 
 580:../../../src/radio/cc2420/source/basic_rf.c ****     // Fill in the rest of the packet now
 581:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 2449               	.LM410:
 2450 0824 C098      		cbi 56-32,0
 2451 0826 8EE3      		ldi r24,lo8(62)
 2452 0828 8FB9      		out 47-32,r24
 2453               	.L236:
 2455               	.LM411:
 2456 082a 779B      		sbis 46-32,7
 2457 082c 00C0      		rjmp .L236
 2459               	.LM412:
 2460 082e 40E0      		ldi r20,lo8(0)
 2461 0830 00C0      		rjmp .L237
 2462               	.L239:
 2463               	.LBB9:
 2465               	.LM413:
 2466 0832 D801      		movw r26,r16
 2467 0834 1396      		adiw r26,3
 2468 0836 ED91      		ld r30,X+
 2469 0838 FC91      		ld r31,X
 2470 083a 1497      		sbiw r26,3+1
 2471 083c E80F      		add r30,r24
 2472 083e F91F      		adc r31,r25
 2473 0840 8081      		ld r24,Z
 2474 0842 8FB9      		out 47-32,r24
 2475               	.L238:
 2477               	.LM414:
 2478 0844 779B      		sbis 46-32,7
 2479 0846 00C0      		rjmp .L238
 2481               	.LM415:
 2482 0848 4F5F      		subi r20,lo8(-(1))
 2483               	.L237:
 2485               	.LM416:
 2486 084a 842F      		mov r24,r20
 2487 084c 90E0      		ldi r25,lo8(0)
 2488 084e F801      		movw r30,r16
 2489 0850 2281      		ldd r18,Z+2
 2490 0852 3327      		clr r19
 2491 0854 27FD      		sbrc r18,7
 2492 0856 3095      		com r19
 2493 0858 8217      		cp r24,r18
 2494 085a 9307      		cpc r25,r19
 2495 085c 04F0      		brlt .L239
 2496               	.LBE9:
 2498               	.LM417:
 2499 085e C09A      		sbi 56-32,0
 582:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 2501               	.LM418:
 2502 0860 C098      		cbi 56-32,0
 2503 0862 8EE3      		ldi r24,lo8(62)
 2504 0864 8FB9      		out 47-32,r24
 2505               	.L240:
 2507               	.LM419:
 2508 0866 779B      		sbis 46-32,7
 2509 0868 00C0      		rjmp .L240
 2510               	.LBB10:
 2512               	.LM420:
 2513 086a BFB8      		out 47-32,r11
 2514               	.L241:
 2516               	.LM421:
 2517 086c 779B      		sbis 46-32,7
 2518 086e 00C0      		rjmp .L241
 2519               	.LBE10:
 2521               	.LM422:
 2522 0870 C09A      		sbi 56-32,0
 2523               	.L242:
 583:../../../src/radio/cc2420/source/basic_rf.c **** 
 584:../../../src/radio/cc2420/source/basic_rf.c **** 
 585:../../../src/radio/cc2420/source/basic_rf.c **** 
 586:../../../src/radio/cc2420/source/basic_rf.c ****     //nrk_spin_wait_us(200);
 587:../../../src/radio/cc2420/source/basic_rf.c **** //  FASTSPI_STROBE(CC2420_STXON);
 588:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 589:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 590:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 2525               	.LM423:
 2526 0872 849B      		sbis 48-32,4
 2527 0874 00C0      		rjmp .L242
 591:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 592:../../../src/radio/cc2420/source/basic_rf.c **** 
 593:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 594:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 595:../../../src/radio/cc2420/source/basic_rf.c **** 
 596:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 597:../../../src/radio/cc2420/source/basic_rf.c ****     /*if (pRTI->ackRequest) {
 598:../../../src/radio/cc2420/source/basic_rf.c ****     	rfSettings.ackReceived = FALSE;
 599:../../../src/radio/cc2420/source/basic_rf.c **** 
 600:../../../src/radio/cc2420/source/basic_rf.c ****     	// Wait for the SFD to go low again
 601:../../../src/radio/cc2420/source/basic_rf.c ****     	while (SFD_IS_1);
 602:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the ack reception s
 603:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration, and a smal
 604:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 605:../../../src/radio/cc2420/source/basic_rf.c **** 
 606:../../../src/radio/cc2420/source/basic_rf.c ****     	// If an acknowledgment has been received (by the FIFOP interrupt), the ackReceived flag shoul
 607:../../../src/radio/cc2420/source/basic_rf.c ****     	success = rfSettings.ackReceived;
 608:../../../src/radio/cc2420/source/basic_rf.c ****     }*/
 609:../../../src/radio/cc2420/source/basic_rf.c **** 
 610:../../../src/radio/cc2420/source/basic_rf.c **** 
 611:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 612:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2529               	.LM424:
 2530               	/* #APP */
 2531               	 ;  612 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2532 0876 F894      		cli
 2533               		
 2534               	 ;  0 "" 2
 2535               	/* #NOAPP */
 2536               	.L243:
 613:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX hack, temp out
 614:../../../src/radio/cc2420/source/basic_rf.c ****     //if (!rfSettings.receiveOn) { while (SFD_IS_1); /*FASTSPI_STROBE(CC2420_SRFOFF);*/ }
 615:../../../src/radio/cc2420/source/basic_rf.c ****     // while (SFD_IS_1);
 616:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 2538               	.LM425:
 2539 0878 8499      		sbic 48-32,4
 2540 087a 00C0      		rjmp .L243
 617:../../../src/radio/cc2420/source/basic_rf.c **** 
 618:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2542               	.LM426:
 2543 087c C098      		cbi 56-32,0
 2544 087e 88E0      		ldi r24,lo8(8)
 2545 0880 8FB9      		out 47-32,r24
 2546               	.L244:
 2548               	.LM427:
 2549 0882 779B      		sbis 46-32,7
 2550 0884 00C0      		rjmp .L244
 2552               	.LM428:
 2553 0886 C09A      		sbi 56-32,0
 619:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2555               	.LM429:
 2556 0888 C098      		cbi 56-32,0
 2557 088a 88E0      		ldi r24,lo8(8)
 2558 088c 8FB9      		out 47-32,r24
 2559               	.L245:
 2561               	.LM430:
 2562 088e 779B      		sbis 46-32,7
 2563 0890 00C0      		rjmp .L245
 2565               	.LM431:
 2566 0892 C09A      		sbi 56-32,0
 620:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2568               	.LM432:
 2569 0894 C098      		cbi 56-32,0
 2570 0896 89E0      		ldi r24,lo8(9)
 2571 0898 8FB9      		out 47-32,r24
 2572               	.L246:
 2574               	.LM433:
 2575 089a 779B      		sbis 46-32,7
 2576 089c 00C0      		rjmp .L246
 2578               	.LM434:
 2579 089e C09A      		sbi 56-32,0
 621:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2581               	.LM435:
 2582 08a0 C098      		cbi 56-32,0
 2583 08a2 89E0      		ldi r24,lo8(9)
 2584 08a4 8FB9      		out 47-32,r24
 2585               	.L247:
 2587               	.LM436:
 2588 08a6 779B      		sbis 46-32,7
 2589 08a8 00C0      		rjmp .L247
 2591               	.LM437:
 2592 08aa C09A      		sbi 56-32,0
 622:../../../src/radio/cc2420/source/basic_rf.c **** 
 623:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 624:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 625:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 626:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 2594               	.LM438:
 2595 08ac C098      		cbi 56-32,0
 2596 08ae 86E0      		ldi r24,lo8(6)
 2597 08b0 8FB9      		out 47-32,r24
 2598               	.L248:
 2600               	.LM439:
 2601 08b2 779B      		sbis 46-32,7
 2602 08b4 00C0      		rjmp .L248
 2604               	.LM440:
 2605 08b6 C09A      		sbi 56-32,0
 627:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 2607               	.LM441:
 2608               	/* #APP */
 2609               	 ;  627 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2610 08b8 7894      		sei
 2611               		
 2612               	 ;  0 "" 2
 628:../../../src/radio/cc2420/source/basic_rf.c **** 
 629:../../../src/radio/cc2420/source/basic_rf.c **** 
 630:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 631:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 2614               	.LM442:
 2615               	/* #NOAPP */
 2616 08ba 8091 0000 		lds r24,rfSettings+2
 2617 08be 8F5F      		subi r24,lo8(-(1))
 2618 08c0 8093 0000 		sts rfSettings+2,r24
 632:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 633:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 634:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 635:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 636:../../../src/radio/cc2420/source/basic_rf.c **** 
 637:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 2620               	.LM443:
 2621 08c4 81E0      		ldi r24,lo8(1)
 2622               	.L232:
 2623               	/* epilogue start */
 638:../../../src/radio/cc2420/source/basic_rf.c **** 
 639:../../../src/radio/cc2420/source/basic_rf.c **** }
 2625               	.LM444:
 2626 08c6 0F90      		pop __tmp_reg__
 2627 08c8 0F90      		pop __tmp_reg__
 2628 08ca 0F90      		pop __tmp_reg__
 2629 08cc CF91      		pop r28
 2630 08ce DF91      		pop r29
 2631 08d0 1F91      		pop r17
 2632 08d2 0F91      		pop r16
 2633 08d4 FF90      		pop r15
 2634 08d6 EF90      		pop r14
 2635 08d8 DF90      		pop r13
 2636 08da CF90      		pop r12
 2637 08dc BF90      		pop r11
 2638 08de 0895      		ret
 2652               	.Lscope23:
 2654               		.stabd	78,0,0
 2657               	.global	rf_tx_packet
 2659               	rf_tx_packet:
 2660               		.stabd	46,0,0
 640:../../../src/radio/cc2420/source/basic_rf.c **** 
 641:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 642:../../../src/radio/cc2420/source/basic_rf.c **** //  BYTE rf_tx_packet(RF_TX_INFO *pRTI)
 643:../../../src/radio/cc2420/source/basic_rf.c **** //
 644:../../../src/radio/cc2420/source/basic_rf.c **** //  DESCRIPTION:
 645:../../../src/radio/cc2420/source/basic_rf.c **** //		Transmits a packet using the IEEE 802.15.4 MAC data packet format with short addresses. CCA is
 646:../../../src/radio/cc2420/source/basic_rf.c **** //		measured only once before backet transmission (not compliant with 802.15.4 CSMA-CA).
 647:../../../src/radio/cc2420/source/basic_rf.c **** //		The function returns:
 648:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is FALSE: After the transmission has begun (SFD gone high)
 649:../../../src/radio/cc2420/source/basic_rf.c **** //			- When pRTI->ackRequest is TRUE: After the acknowledgment has been received/declared missing.
 650:../../../src/radio/cc2420/source/basic_rf.c **** //		The acknowledgment is received through the FIFOP interrupt.
 651:../../../src/radio/cc2420/source/basic_rf.c **** //
 652:../../../src/radio/cc2420/source/basic_rf.c **** //  ARGUMENTS:
 653:../../../src/radio/cc2420/source/basic_rf.c **** //      RF_TX_INFO *pRTI
 654:../../../src/radio/cc2420/source/basic_rf.c **** //          The transmission structure, which contains all relevant info about the packet.
 655:../../../src/radio/cc2420/source/basic_rf.c **** //
 656:../../../src/radio/cc2420/source/basic_rf.c **** //  RETURN VALUE:
 657:../../../src/radio/cc2420/source/basic_rf.c **** //		uint8_t
 658:../../../src/radio/cc2420/source/basic_rf.c **** //			Successful transmission (acknowledgment received)
 659:../../../src/radio/cc2420/source/basic_rf.c **** //-------------------------------------------------------------------------------------------------
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 661:../../../src/radio/cc2420/source/basic_rf.c **** {
 2662               	.LM445:
 2663               	.LFBB24:
 2664 08e0 FF92      		push r15
 2665 08e2 0F93      		push r16
 2666 08e4 1F93      		push r17
 2667 08e6 DF93      		push r29
 2668 08e8 CF93      		push r28
 2669 08ea 00D0      		rcall .
 2670 08ec CDB7      		in r28,__SP_L__
 2671 08ee DEB7      		in r29,__SP_H__
 2672               	/* prologue: function */
 2673               	/* frame size = 2 */
 2674               	/* stack size = 7 */
 2675               	.L__stack_usage = 7
 2676 08f0 FC01      		movw r30,r24
 662:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t frameControlField;
 663:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t packetLength, length;
 664:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t success;
 665:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t spiStatusByte;
 666:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t checksum,i;
 667:../../../src/radio/cc2420/source/basic_rf.c **** 
 668:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 669:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 670:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 671:../../../src/radio/cc2420/source/basic_rf.c **** 
 672:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 673:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
 674:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
 675:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 676:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 2678               	.LM446:
 2679 08f2 8091 0000 		lds r24,security_enable
 2680 08f6 8823      		tst r24
 2681 08f8 01F0      		breq .L293
 677:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE(CC2420_STXENC);
 2683               	.LM447:
 2684 08fa C098      		cbi 56-32,0
 2685 08fc 8DE0      		ldi r24,lo8(13)
 2686 08fe 8FB9      		out 47-32,r24
 2687               	.L294:
 2689               	.LM448:
 2690 0900 779B      		sbis 46-32,7
 2691 0902 00C0      		rjmp .L294
 2693               	.LM449:
 2694 0904 C09A      		sbi 56-32,0
 2695               	.L293:
 678:../../../src/radio/cc2420/source/basic_rf.c **** 
 679:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2697               	.LM450:
 2698 0906 3281      		ldd r19,Z+2
 2699 0908 432F      		mov r20,r19
 2700 090a 5527      		clr r21
 2701 090c 47FD      		sbrc r20,7
 2702 090e 5095      		com r21
 679:../../../src/radio/cc2420/source/basic_rf.c ****     checksum=0;
 2704               	.LM451:
 2705 0910 20E0      		ldi r18,lo8(0)
 2707               	.LM452:
 2708 0912 60E0      		ldi r22,lo8(0)
 2709 0914 00C0      		rjmp .L295
 2710               	.L296:
 681:../../../src/radio/cc2420/source/basic_rf.c ****     {
 682:../../../src/radio/cc2420/source/basic_rf.c ****         // lets do our own payload checksum because we don't trust the CRC
 683:../../../src/radio/cc2420/source/basic_rf.c ****         checksum+=pRTI->pPayload[i];
 2712               	.LM453:
 2713 0916 A381      		ldd r26,Z+3
 2714 0918 B481      		ldd r27,Z+4
 2715 091a A80F      		add r26,r24
 2716 091c B91F      		adc r27,r25
 2717 091e 8C91      		ld r24,X
 2718 0920 280F      		add r18,r24
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2720               	.LM454:
 2721 0922 6F5F      		subi r22,lo8(-(1))
 2722               	.L295:
 680:../../../src/radio/cc2420/source/basic_rf.c ****     for(i=0; i<pRTI->length; i++ )
 2724               	.LM455:
 2725 0924 862F      		mov r24,r22
 2726 0926 90E0      		ldi r25,lo8(0)
 2727 0928 8417      		cp r24,r20
 2728 092a 9507      		cpc r25,r21
 2729 092c 04F0      		brlt .L296
 684:../../../src/radio/cc2420/source/basic_rf.c ****     }
 685:../../../src/radio/cc2420/source/basic_rf.c ****     // Write the packet to the TX FIFO (the FCS is appended automatically when AUTOCRC is enabled)
 686:../../../src/radio/cc2420/source/basic_rf.c **** 
 687:../../../src/radio/cc2420/source/basic_rf.c ****     // These are only the MAC AGNOSTIC parameters...
 688:../../../src/radio/cc2420/source/basic_rf.c ****     // Slots for example are at a slighly higher later since they assume TDMA
 689:../../../src/radio/cc2420/source/basic_rf.c ****     packetLength = pRTI->length + RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD;
 2731               	.LM456:
 2732 092e 832F      		mov r24,r19
 2733 0930 845F      		subi r24,lo8(-(12))
 690:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) packetLength+=4;  // for CTR counter
 2735               	.LM457:
 2736 0932 9091 0000 		lds r25,security_enable
 2737 0936 9111      		cpse r25,__zero_reg__
 2739               	.LM458:
 2740 0938 8C5F      		subi r24,lo8(-(4))
 2741               	.L297:
 691:../../../src/radio/cc2420/source/basic_rf.c **** 
 692:../../../src/radio/cc2420/source/basic_rf.c **** 
 693:../../../src/radio/cc2420/source/basic_rf.c ****     // XXX 2 below are hacks...
 694:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2743               	.LM459:
 2744 093a C098      		cbi 56-32,0
 2745 093c 98E0      		ldi r25,lo8(8)
 2746 093e 9FB9      		out 47-32,r25
 2747               	.L298:
 2749               	.LM460:
 2750 0940 779B      		sbis 46-32,7
 2751 0942 00C0      		rjmp .L298
 2753               	.LM461:
 2754 0944 C09A      		sbi 56-32,0
 695:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 2756               	.LM462:
 2757 0946 C098      		cbi 56-32,0
 2758 0948 98E0      		ldi r25,lo8(8)
 2759 094a 9FB9      		out 47-32,r25
 2760               	.L299:
 2762               	.LM463:
 2763 094c 779B      		sbis 46-32,7
 2764 094e 00C0      		rjmp .L299
 2766               	.LM464:
 2767 0950 C09A      		sbi 56-32,0
 2768               	.L399:
 696:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait until the transceiver is idle
 697:../../../src/radio/cc2420/source/basic_rf.c ****     while (FIFOP_IS_1 || SFD_IS_1);
 2770               	.LM465:
 2771 0952 0E99      		sbic 33-32,6
 2772 0954 00C0      		rjmp .L399
 2774               	.LM466:
 2775 0956 8499      		sbic 48-32,4
 2776 0958 00C0      		rjmp .L399
 698:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off global interrupts to avoid interference on the SPI interface
 699:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 2778               	.LM467:
 2779               	/* #APP */
 2780               	 ;  699 "../../../src/radio/cc2420/source/basic_rf.c" 1
 2781 095a F894      		cli
 2782               		
 2783               	 ;  0 "" 2
 700:../../../src/radio/cc2420/source/basic_rf.c ****     // Flush the TX FIFO just in case...
 701:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2785               	.LM468:
 2786               	/* #NOAPP */
 2787 095c C098      		cbi 56-32,0
 2788 095e 99E0      		ldi r25,lo8(9)
 2789 0960 9FB9      		out 47-32,r25
 2790               	.L301:
 2792               	.LM469:
 2793 0962 779B      		sbis 46-32,7
 2794 0964 00C0      		rjmp .L301
 2796               	.LM470:
 2797 0966 C09A      		sbi 56-32,0
 702:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHTX);
 2799               	.LM471:
 2800 0968 C098      		cbi 56-32,0
 2801 096a 99E0      		ldi r25,lo8(9)
 2802 096c 9FB9      		out 47-32,r25
 2803               	.L302:
 2805               	.LM472:
 2806 096e 779B      		sbis 46-32,7
 2807 0970 00C0      		rjmp .L302
 2809               	.LM473:
 2810 0972 C09A      		sbi 56-32,0
 703:../../../src/radio/cc2420/source/basic_rf.c **** 
 704:../../../src/radio/cc2420/source/basic_rf.c ****     /*
 705:../../../src/radio/cc2420/source/basic_rf.c ****         // Turn on RX if necessary
 706:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn) {
 707:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_SRXON);
 708:../../../src/radio/cc2420/source/basic_rf.c ****     		}
 709:../../../src/radio/cc2420/source/basic_rf.c **** 
 710:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 711:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 712:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS(spiStatusByte);
 713:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_RSSI_VALID)));
 714:../../../src/radio/cc2420/source/basic_rf.c **** 
 715:../../../src/radio/cc2420/source/basic_rf.c ****     	// TX begins after the CCA check has passed
 716:../../../src/radio/cc2420/source/basic_rf.c ****         do {
 717:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_STROBE(CC2420_STXONCCA);
 718:../../../src/radio/cc2420/source/basic_rf.c ****     		FASTSPI_UPD_STATUS(spiStatusByte);
 719:../../../src/radio/cc2420/source/basic_rf.c ****     		halWait(100);
 720:../../../src/radio/cc2420/source/basic_rf.c ****         } while (!(spiStatusByte & BM(CC2420_TX_ACTIVE)));
 721:../../../src/radio/cc2420/source/basic_rf.c ****     */
 722:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*)&packetLength, 1);               // Packet length
 2812               	.LM474:
 2813 0974 C098      		cbi 56-32,0
 2814 0976 9EE3      		ldi r25,lo8(62)
 2815 0978 9FB9      		out 47-32,r25
 2816               	.L303:
 2818               	.LM475:
 2819 097a 779B      		sbis 46-32,7
 2820 097c 00C0      		rjmp .L303
 2821               	.LBB11:
 2823               	.LM476:
 2824 097e 8FB9      		out 47-32,r24
 2825               	.L304:
 2827               	.LM477:
 2828 0980 779B      		sbis 46-32,7
 2829 0982 00C0      		rjmp .L304
 2830               	.LBE11:
 2832               	.LM478:
 2833 0984 C09A      		sbi 56-32,0
 723:../../../src/radio/cc2420/source/basic_rf.c ****     frameControlField = RF_FCF_NOACK;   // default
 2835               	.LM479:
 2836 0986 81E4      		ldi r24,lo8(-30655)
 2837 0988 98E8      		ldi r25,hi8(-30655)
 2838 098a 9A83      		std Y+2,r25
 2839 098c 8983      		std Y+1,r24
 724:../../../src/radio/cc2420/source/basic_rf.c ****     if(auto_ack_enable) frameControlField |= RF_ACK_BM;
 2841               	.LM480:
 2842 098e 8091 0000 		lds r24,auto_ack_enable
 2843 0992 8823      		tst r24
 2844 0994 01F0      		breq .L305
 2846               	.LM481:
 2847 0996 81E6      		ldi r24,lo8(-30623)
 2848 0998 98E8      		ldi r25,hi8(-30623)
 2849 099a 9A83      		std Y+2,r25
 2850 099c 8983      		std Y+1,r24
 2851               	.L305:
 725:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable) frameControlField |= RF_SEC_BM;
 2853               	.LM482:
 2854 099e 8091 0000 		lds r24,security_enable
 2855 09a2 8823      		tst r24
 2856 09a4 01F0      		breq .L306
 2858               	.LM483:
 2859 09a6 8981      		ldd r24,Y+1
 2860 09a8 9A81      		ldd r25,Y+2
 2861 09aa 8860      		ori r24,lo8(8)
 2862 09ac 9A83      		std Y+2,r25
 2863 09ae 8983      		std Y+1,r24
 2864               	.L306:
 726:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &frameControlField, 2);         // Frame control field
 2866               	.LM484:
 2867 09b0 C098      		cbi 56-32,0
 2868 09b2 8EE3      		ldi r24,lo8(62)
 2869 09b4 8FB9      		out 47-32,r24
 2870               	.L307:
 2872               	.LM485:
 2873 09b6 779B      		sbis 46-32,7
 2874 09b8 00C0      		rjmp .L307
 2876               	.LM486:
 2877 09ba DE01      		movw r26,r28
 2878 09bc 1196      		adiw r26,1
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 2880               	.LM487:
 2881 09be CE01      		movw r24,r28
 2882 09c0 0396      		adiw r24,3
 2883               	.L309:
 2884               	.LBB12:
 2886               	.LM488:
 2887 09c2 3D91      		ld r19,X+
 2888 09c4 3FB9      		out 47-32,r19
 2889               	.L308:
 2891               	.LM489:
 2892 09c6 779B      		sbis 46-32,7
 2893 09c8 00C0      		rjmp .L308
 2895               	.LM490:
 2896 09ca A817      		cp r26,r24
 2897 09cc B907      		cpc r27,r25
 2898 09ce 01F4      		brne .L309
 2899               	.LBE12:
 2901               	.LM491:
 2902 09d0 C09A      		sbi 56-32,0
 727:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.txSeqNumber, 1);    // Sequence number
 2904               	.LM492:
 2905 09d2 C098      		cbi 56-32,0
 2906 09d4 8EE3      		ldi r24,lo8(62)
 2907 09d6 8FB9      		out 47-32,r24
 2908               	.L310:
 2910               	.LM493:
 2911 09d8 779B      		sbis 46-32,7
 2912 09da 00C0      		rjmp .L310
 2913               	.LBB13:
 2915               	.LM494:
 2916 09dc 8091 0000 		lds r24,rfSettings+2
 2917 09e0 8FB9      		out 47-32,r24
 2918               	.L311:
 2920               	.LM495:
 2921 09e2 779B      		sbis 46-32,7
 2922 09e4 00C0      		rjmp .L311
 2923               	.LBE13:
 2925               	.LM496:
 2926 09e6 C09A      		sbi 56-32,0
 728:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.panId, 2);          // Dest. PAN ID
 2928               	.LM497:
 2929 09e8 C098      		cbi 56-32,0
 2930 09ea 8EE3      		ldi r24,lo8(62)
 2931 09ec 8FB9      		out 47-32,r24
 2932               	.L312:
 2934               	.LM498:
 2935 09ee 779B      		sbis 46-32,7
 2936 09f0 00C0      		rjmp .L312
 2938               	.LM499:
 2939 09f2 80E0      		ldi r24,lo8(0)
 2940 09f4 90E0      		ldi r25,hi8(0)
 2941               	.L314:
 2942               	.LBB14:
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 2944               	.LM500:
 2945 09f6 DC01      		movw r26,r24
 2946 09f8 A050      		subi r26,lo8(-(rfSettings))
 2947 09fa B040      		sbci r27,hi8(-(rfSettings))
 2949               	.LM501:
 2950 09fc 1496      		adiw r26,4
 2951 09fe 3C91      		ld r19,X
 2952 0a00 1497      		sbiw r26,4
 2953 0a02 3FB9      		out 47-32,r19
 2954               	.L313:
 2956               	.LM502:
 2957 0a04 779B      		sbis 46-32,7
 2958 0a06 00C0      		rjmp .L313
 2960               	.LM503:
 2961 0a08 0196      		adiw r24,1
 2962 0a0a 8230      		cpi r24,2
 2963 0a0c 9105      		cpc r25,__zero_reg__
 2964 0a0e 01F4      		brne .L314
 2965               	.LBE14:
 2967               	.LM504:
 2968 0a10 C09A      		sbi 56-32,0
 729:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &pRTI->destAddr, 2);            // Dest. address
 2970               	.LM505:
 2971 0a12 C098      		cbi 56-32,0
 2972 0a14 8EE3      		ldi r24,lo8(62)
 2973 0a16 8FB9      		out 47-32,r24
 2974               	.L315:
 2976               	.LM506:
 2977 0a18 779B      		sbis 46-32,7
 2978 0a1a 00C0      		rjmp .L315
 2980               	.LM507:
 2981 0a1c 80E0      		ldi r24,lo8(0)
 2982 0a1e 90E0      		ldi r25,hi8(0)
 2983               	.L317:
 2984               	.LBB15:
 2985 0a20 DF01      		movw r26,r30
 2986 0a22 A80F      		add r26,r24
 2987 0a24 B91F      		adc r27,r25
 2988 0a26 3C91      		ld r19,X
 2989 0a28 3FB9      		out 47-32,r19
 2990               	.L316:
 2992               	.LM508:
 2993 0a2a 779B      		sbis 46-32,7
 2994 0a2c 00C0      		rjmp .L316
 2996               	.LM509:
 2997 0a2e 0196      		adiw r24,1
 2998 0a30 8230      		cpi r24,2
 2999 0a32 9105      		cpc r25,__zero_reg__
 3000 0a34 01F4      		brne .L317
 3001               	.LBE15:
 3003               	.LM510:
 3004 0a36 C09A      		sbi 56-32,0
 730:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &rfSettings.myAddr, 2);         // Source address
 3006               	.LM511:
 3007 0a38 C098      		cbi 56-32,0
 3008 0a3a 8EE3      		ldi r24,lo8(62)
 3009 0a3c 8FB9      		out 47-32,r24
 3010               	.L318:
 3012               	.LM512:
 3013 0a3e 779B      		sbis 46-32,7
 3014 0a40 00C0      		rjmp .L318
 3016               	.LM513:
 3017 0a42 80E0      		ldi r24,lo8(0)
 3018 0a44 90E0      		ldi r25,hi8(0)
 3019               	.L320:
 3020               	.LBB16:
 660:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_tx_packet(RF_TX_INFO *pRTI)
 3022               	.LM514:
 3023 0a46 DC01      		movw r26,r24
 3024 0a48 A050      		subi r26,lo8(-(rfSettings))
 3025 0a4a B040      		sbci r27,hi8(-(rfSettings))
 3027               	.LM515:
 3028 0a4c 1696      		adiw r26,6
 3029 0a4e 3C91      		ld r19,X
 3030 0a50 1697      		sbiw r26,6
 3031 0a52 3FB9      		out 47-32,r19
 3032               	.L319:
 3034               	.LM516:
 3035 0a54 779B      		sbis 46-32,7
 3036 0a56 00C0      		rjmp .L319
 3038               	.LM517:
 3039 0a58 0196      		adiw r24,1
 3040 0a5a 8230      		cpi r24,2
 3041 0a5c 9105      		cpc r25,__zero_reg__
 3042 0a5e 01F4      		brne .L320
 3043               	.LBE16:
 3045               	.LM518:
 3046 0a60 C09A      		sbi 56-32,0
 731:../../../src/radio/cc2420/source/basic_rf.c ****     if(security_enable)
 3048               	.LM519:
 3049 0a62 8091 0000 		lds r24,security_enable
 3050 0a66 8823      		tst r24
 3051 0a68 01F0      		breq .L321
 732:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_WRITE_FIFO((uint8_t*) &tx_ctr, 4);         // CTR counter
 3053               	.LM520:
 3054 0a6a C098      		cbi 56-32,0
 3055 0a6c 8EE3      		ldi r24,lo8(62)
 3056 0a6e 8FB9      		out 47-32,r24
 3057               	.L322:
 3059               	.LM521:
 3060 0a70 779B      		sbis 46-32,7
 3061 0a72 00C0      		rjmp .L322
 3063               	.LM522:
 3064 0a74 A0E0      		ldi r26,lo8(tx_ctr)
 3065 0a76 B0E0      		ldi r27,hi8(tx_ctr)
 3066               	.L324:
 3067               	.LBB17:
 3069               	.LM523:
 3070 0a78 8D91      		ld r24,X+
 3071 0a7a 8FB9      		out 47-32,r24
 3072               	.L323:
 3074               	.LM524:
 3075 0a7c 779B      		sbis 46-32,7
 3076 0a7e 00C0      		rjmp .L323
 3078               	.LM525:
 3079 0a80 80E0      		ldi r24,hi8(tx_ctr+4)
 3080 0a82 A030      		cpi r26,lo8(tx_ctr+4)
 3081 0a84 B807      		cpc r27,r24
 3082 0a86 01F4      		brne .L324
 3083               	.LBE17:
 3085               	.LM526:
 3086 0a88 C09A      		sbi 56-32,0
 3087               	.L321:
 733:../../../src/radio/cc2420/source/basic_rf.c **** 
 734:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) pRTI->pPayload, pRTI->length);  // Payload
 3089               	.LM527:
 3090 0a8a C098      		cbi 56-32,0
 3091 0a8c 8EE3      		ldi r24,lo8(62)
 3092 0a8e 8FB9      		out 47-32,r24
 3093               	.L325:
 3095               	.LM528:
 3096 0a90 779B      		sbis 46-32,7
 3097 0a92 00C0      		rjmp .L325
 3099               	.LM529:
 3100 0a94 30E0      		ldi r19,lo8(0)
 3101 0a96 00C0      		rjmp .L326
 3102               	.L328:
 3103               	.LBB18:
 3105               	.LM530:
 3106 0a98 A381      		ldd r26,Z+3
 3107 0a9a B481      		ldd r27,Z+4
 3108 0a9c A80F      		add r26,r24
 3109 0a9e B91F      		adc r27,r25
 3110 0aa0 8C91      		ld r24,X
 3111 0aa2 8FB9      		out 47-32,r24
 3112               	.L327:
 3114               	.LM531:
 3115 0aa4 779B      		sbis 46-32,7
 3116 0aa6 00C0      		rjmp .L327
 3118               	.LM532:
 3119 0aa8 3F5F      		subi r19,lo8(-(1))
 3120               	.L326:
 3122               	.LM533:
 3123 0aaa 832F      		mov r24,r19
 3124 0aac 90E0      		ldi r25,lo8(0)
 3125 0aae 4281      		ldd r20,Z+2
 3126 0ab0 5527      		clr r21
 3127 0ab2 47FD      		sbrc r20,7
 3128 0ab4 5095      		com r21
 3129 0ab6 8417      		cp r24,r20
 3130 0ab8 9507      		cpc r25,r21
 3131 0aba 04F0      		brlt .L328
 3132               	.LBE18:
 3134               	.LM534:
 3135 0abc C09A      		sbi 56-32,0
 735:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_WRITE_FIFO((uint8_t*) &checksum, 1);         // Checksum
 3137               	.LM535:
 3138 0abe C098      		cbi 56-32,0
 3139 0ac0 8EE3      		ldi r24,lo8(62)
 3140 0ac2 8FB9      		out 47-32,r24
 3141               	.L329:
 3143               	.LM536:
 3144 0ac4 779B      		sbis 46-32,7
 3145 0ac6 00C0      		rjmp .L329
 3146               	.LBB19:
 3148               	.LM537:
 3149 0ac8 2FB9      		out 47-32,r18
 3150               	.L330:
 3152               	.LM538:
 3153 0aca 779B      		sbis 46-32,7
 3154 0acc 00C0      		rjmp .L330
 3155               	.LBE19:
 3157               	.LM539:
 3158 0ace C09A      		sbi 56-32,0
 736:../../../src/radio/cc2420/source/basic_rf.c **** 
 737:../../../src/radio/cc2420/source/basic_rf.c ****     if (pRTI->cca == TRUE)
 3160               	.LM540:
 3161 0ad0 8581      		ldd r24,Z+5
 3162 0ad2 8823      		tst r24
 3163 0ad4 01F0      		breq .L331
 3164               	.LBB20:
 738:../../../src/radio/cc2420/source/basic_rf.c ****     {
 739:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t cnt;
 740:../../../src/radio/cc2420/source/basic_rf.c ****         if (!rfSettings.receiveOn)
 3166               	.LM541:
 3167 0ad6 8091 0000 		lds r24,rfSettings+8
 3168 0ada 8823      		tst r24
 3169 0adc 01F4      		brne .L355
 741:../../../src/radio/cc2420/source/basic_rf.c ****         {
 742:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_SRXON);
 3171               	.LM542:
 3172 0ade C098      		cbi 56-32,0
 3173 0ae0 83E0      		ldi r24,lo8(3)
 3174 0ae2 8FB9      		out 47-32,r24
 3175               	.L333:
 3177               	.LM543:
 3178 0ae4 779B      		sbis 46-32,7
 3179 0ae6 00C0      		rjmp .L333
 3181               	.LM544:
 3182 0ae8 C09A      		sbi 56-32,0
 3183               	.L355:
 743:../../../src/radio/cc2420/source/basic_rf.c ****         }
 744:../../../src/radio/cc2420/source/basic_rf.c **** 
 745:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the RSSI value to become valid
 746:../../../src/radio/cc2420/source/basic_rf.c ****         do
 747:../../../src/radio/cc2420/source/basic_rf.c ****         {
 748:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 3185               	.LM545:
 3186 0aea C098      		cbi 56-32,0
 3187 0aec 1FB8      		out 47-32,__zero_reg__
 3188               	.L334:
 3190               	.LM546:
 3191 0aee 779B      		sbis 46-32,7
 3192 0af0 00C0      		rjmp .L334
 3194               	.LM547:
 3195 0af2 8FB1      		in r24,47-32
 3196 0af4 C09A      		sbi 56-32,0
 749:../../../src/radio/cc2420/source/basic_rf.c ****         }
 750:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_RSSI_VALID)));
 3198               	.LM548:
 3199 0af6 81FF      		sbrs r24,1
 3200 0af8 00C0      		rjmp .L355
 3202               	.LM549:
 3203 0afa 10E0      		ldi r17,lo8(0)
 751:../../../src/radio/cc2420/source/basic_rf.c ****         // TX begins after the CCA check has passed
 752:../../../src/radio/cc2420/source/basic_rf.c ****         cnt = 0;
 753:../../../src/radio/cc2420/source/basic_rf.c ****         do
 754:../../../src/radio/cc2420/source/basic_rf.c ****         {
 755:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE (CC2420_STXONCCA);
 3205               	.LM550:
 3206 0afc 05E0      		ldi r16,lo8(5)
 3207               	.L340:
 3208 0afe C098      		cbi 56-32,0
 3209 0b00 0FB9      		out 47-32,r16
 3210               	.L336:
 3212               	.LM551:
 3213 0b02 779B      		sbis 46-32,7
 3214 0b04 00C0      		rjmp .L336
 3216               	.LM552:
 3217 0b06 C09A      		sbi 56-32,0
 756:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_UPD_STATUS (spiStatusByte);
 3219               	.LM553:
 3220 0b08 C098      		cbi 56-32,0
 3221 0b0a 1FB8      		out 47-32,__zero_reg__
 3222               	.L337:
 3224               	.LM554:
 3225 0b0c 779B      		sbis 46-32,7
 3226 0b0e 00C0      		rjmp .L337
 3228               	.LM555:
 3229 0b10 FFB0      		in r15,47-32
 3230 0b12 C09A      		sbi 56-32,0
 757:../../../src/radio/cc2420/source/basic_rf.c ****             cnt++;
 3232               	.LM556:
 3233 0b14 1F5F      		subi r17,lo8(-(1))
 758:../../../src/radio/cc2420/source/basic_rf.c ****             if (cnt > 100)
 3235               	.LM557:
 3236 0b16 1536      		cpi r17,lo8(101)
 3237 0b18 01F4      		brne .L338
 759:../../../src/radio/cc2420/source/basic_rf.c ****             {
 760:../../../src/radio/cc2420/source/basic_rf.c ****                 ENABLE_GLOBAL_INT ();
 3239               	.LM558:
 3240               	/* #APP */
 3241               	 ;  760 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3242 0b1a 7894      		sei
 3243               		
 3244               	 ;  0 "" 2
 761:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 3246               	.LM559:
 3247               	/* #NOAPP */
 3248 0b1c 8091 0000 		lds r24,radio_sem
 3249 0b20 9091 0000 		lds r25,radio_sem+1
 3250 0b24 0E94 0000 		call nrk_sem_post
 762:../../../src/radio/cc2420/source/basic_rf.c ****                 return FALSE;
 3252               	.LM560:
 3253 0b28 80E0      		ldi r24,lo8(0)
 3254 0b2a 00C0      		rjmp .L339
 3255               	.L338:
 763:../../../src/radio/cc2420/source/basic_rf.c ****             }
 764:../../../src/radio/cc2420/source/basic_rf.c ****             halWait (100);
 3257               	.LM561:
 3258 0b2c 84E6      		ldi r24,lo8(100)
 3259 0b2e 90E0      		ldi r25,hi8(100)
 3260 0b30 0E94 0000 		call halWait
 765:../../../src/radio/cc2420/source/basic_rf.c ****         }
 766:../../../src/radio/cc2420/source/basic_rf.c ****         while (!(spiStatusByte & BM (CC2420_TX_ACTIVE)));
 3262               	.LM562:
 3263 0b34 F3FE      		sbrs r15,3
 3264 0b36 00C0      		rjmp .L340
 3265 0b38 00C0      		rjmp .L341
 3266               	.L331:
 3267               	.LBE20:
 767:../../../src/radio/cc2420/source/basic_rf.c ****     }
 768:../../../src/radio/cc2420/source/basic_rf.c ****     else
 769:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_STROBE (CC2420_STXON);
 3269               	.LM563:
 3270 0b3a C098      		cbi 56-32,0
 3271 0b3c 84E0      		ldi r24,lo8(4)
 3272 0b3e 8FB9      		out 47-32,r24
 3273               	.L342:
 3275               	.LM564:
 3276 0b40 779B      		sbis 46-32,7
 3277 0b42 00C0      		rjmp .L342
 3279               	.LM565:
 3280 0b44 C09A      		sbi 56-32,0
 3281               	.L341:
 770:../../../src/radio/cc2420/source/basic_rf.c **** 
 771:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3283               	.LM566:
 3284               	/* #APP */
 3285               	 ;  771 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3286 0b46 7894      		sei
 3287               		
 3288               	 ;  0 "" 2
 3289               	/* #NOAPP */
 3290               	.L343:
 772:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the transmission to begin before exiting (makes sure that this function cannot be c
 773:../../../src/radio/cc2420/source/basic_rf.c ****     // a second time, and thereby cancelling the first transmission (observe the FIFOP + SFD test a
 774:../../../src/radio/cc2420/source/basic_rf.c ****     while (!SFD_IS_1);
 3292               	.LM567:
 3293 0b48 849B      		sbis 48-32,4
 3294 0b4a 00C0      		rjmp .L343
 3295               	.L354:
 775:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 776:../../../src/radio/cc2420/source/basic_rf.c **** 
 777:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn interrupts back on
 778:../../../src/radio/cc2420/source/basic_rf.c **** //	ENABLE_GLOBAL_INT();
 779:../../../src/radio/cc2420/source/basic_rf.c **** 
 780:../../../src/radio/cc2420/source/basic_rf.c ****     while (SFD_IS_1); // wait for packet to finish
 3297               	.LM568:
 3298 0b4c 8499      		sbic 48-32,4
 3299 0b4e 00C0      		rjmp .L354
 781:../../../src/radio/cc2420/source/basic_rf.c **** 
 782:../../../src/radio/cc2420/source/basic_rf.c ****     // Wait for the acknowledge to be received, if any
 783:../../../src/radio/cc2420/source/basic_rf.c ****     if (auto_ack_enable)
 3301               	.LM569:
 3302 0b50 8091 0000 		lds r24,auto_ack_enable
 3303 0b54 8823      		tst r24
 3304 0b56 01F0      		breq .L352
 784:../../../src/radio/cc2420/source/basic_rf.c ****     {
 785:../../../src/radio/cc2420/source/basic_rf.c **** //		rfSettings.ackReceived = FALSE;
 786:../../../src/radio/cc2420/source/basic_rf.c **** 
 787:../../../src/radio/cc2420/source/basic_rf.c ****         // Wait for the SFD to go low again
 788:../../../src/radio/cc2420/source/basic_rf.c ****         //	while (SFD_IS_1);
 789:../../../src/radio/cc2420/source/basic_rf.c ****         // We'll enter RX automatically, so just wait until we can be sure that the
 790:../../../src/radio/cc2420/source/basic_rf.c ****         // ack reception should have finished
 791:../../../src/radio/cc2420/source/basic_rf.c ****         // The timeout consists of a 12-symbol turnaround time, the ack packet duration,
 792:../../../src/radio/cc2420/source/basic_rf.c ****         // and a small margin
 793:../../../src/radio/cc2420/source/basic_rf.c ****         halWait((12 * RF_SYMBOL_DURATION) + (RF_ACK_DURATION) + (2 * RF_SYMBOL_DURATION) + 100);
 3306               	.LM570:
 3307 0b58 84EA      		ldi r24,lo8(676)
 3308 0b5a 92E0      		ldi r25,hi8(676)
 3309 0b5c 0E94 0000 		call halWait
 794:../../../src/radio/cc2420/source/basic_rf.c **** 
 795:../../../src/radio/cc2420/source/basic_rf.c ****         if(FIFO_IS_1)
 3311               	.LM571:
 3312 0b60 B79B      		sbis 54-32,7
 3313 0b62 00C0      		rjmp .L346
 796:../../../src/radio/cc2420/source/basic_rf.c ****         {
 797:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(length);
 3315               	.LM572:
 3316 0b64 C098      		cbi 56-32,0
 3317 0b66 8FE7      		ldi r24,lo8(127)
 3318 0b68 8FB9      		out 47-32,r24
 3319               	.L347:
 3321               	.LM573:
 3322 0b6a 779B      		sbis 46-32,7
 3323 0b6c 00C0      		rjmp .L347
 3325               	.LM574:
 3326 0b6e 1FB8      		out 47-32,__zero_reg__
 3327               	.L348:
 3329               	.LM575:
 3330 0b70 779B      		sbis 46-32,7
 3331 0b72 00C0      		rjmp .L348
 3333               	.LM576:
 3334 0b74 8FB1      		in r24,47-32
 3335 0b76 C09A      		sbi 56-32,0
 3336 0b78 00C0      		rjmp .L352
 3337               	.L346:
 798:../../../src/radio/cc2420/source/basic_rf.c ****             length &= RF_LENGTH_MASK; // Ignore MSB
 799:../../../src/radio/cc2420/source/basic_rf.c ****             success = TRUE;
 800:../../../src/radio/cc2420/source/basic_rf.c **** 
 801:../../../src/radio/cc2420/source/basic_rf.c ****         }
 802:../../../src/radio/cc2420/source/basic_rf.c ****         else
 803:../../../src/radio/cc2420/source/basic_rf.c ****         {
 804:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3339               	.LM577:
 3340 0b7a C098      		cbi 56-32,0
 3341 0b7c 88E0      		ldi r24,lo8(8)
 3342 0b7e 8FB9      		out 47-32,r24
 3343               	.L349:
 3345               	.LM578:
 3346 0b80 779B      		sbis 46-32,7
 3347 0b82 00C0      		rjmp .L349
 3349               	.LM579:
 3350 0b84 C09A      		sbi 56-32,0
 805:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3352               	.LM580:
 3353 0b86 C098      		cbi 56-32,0
 3354 0b88 88E0      		ldi r24,lo8(8)
 3355 0b8a 8FB9      		out 47-32,r24
 3356               	.L350:
 3358               	.LM581:
 3359 0b8c 779B      		sbis 46-32,7
 3360 0b8e 00C0      		rjmp .L350
 3362               	.LM582:
 3363 0b90 C09A      		sbi 56-32,0
 806:../../../src/radio/cc2420/source/basic_rf.c ****             success = FALSE;
 3365               	.LM583:
 3366 0b92 80E0      		ldi r24,lo8(0)
 3367 0b94 00C0      		rjmp .L345
 3368               	.L352:
 775:../../../src/radio/cc2420/source/basic_rf.c ****     success = TRUE;
 3370               	.LM584:
 3371 0b96 81E0      		ldi r24,lo8(1)
 3372               	.L345:
 807:../../../src/radio/cc2420/source/basic_rf.c ****         }
 808:../../../src/radio/cc2420/source/basic_rf.c **** 
 809:../../../src/radio/cc2420/source/basic_rf.c ****     }
 810:../../../src/radio/cc2420/source/basic_rf.c **** 
 811:../../../src/radio/cc2420/source/basic_rf.c **** 
 812:../../../src/radio/cc2420/source/basic_rf.c ****     // Turn off the receiver if it should not continue to be enabled
 813:../../../src/radio/cc2420/source/basic_rf.c **** 
 814:../../../src/radio/cc2420/source/basic_rf.c ****     DISABLE_GLOBAL_INT();
 3374               	.LM585:
 3375               	/* #APP */
 3376               	 ;  814 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3377 0b98 F894      		cli
 3378               		
 3379               	 ;  0 "" 2
 815:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 816:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHRX);
 817:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 818:../../../src/radio/cc2420/source/basic_rf.c ****     //FASTSPI_STROBE(CC2420_SFLUSHTX);
 819:../../../src/radio/cc2420/source/basic_rf.c **** 
 820:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
 821:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
 822:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 823:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);  // shut off radio
 3381               	.LM586:
 3382               	/* #NOAPP */
 3383 0b9a C098      		cbi 56-32,0
 3384 0b9c 96E0      		ldi r25,lo8(6)
 3385 0b9e 9FB9      		out 47-32,r25
 3386               	.L351:
 3388               	.LM587:
 3389 0ba0 779B      		sbis 46-32,7
 3390 0ba2 00C0      		rjmp .L351
 3392               	.LM588:
 3393 0ba4 C09A      		sbi 56-32,0
 824:../../../src/radio/cc2420/source/basic_rf.c ****     ENABLE_GLOBAL_INT();
 3395               	.LM589:
 3396               	/* #APP */
 3397               	 ;  824 "../../../src/radio/cc2420/source/basic_rf.c" 1
 3398 0ba6 7894      		sei
 3399               		
 3400               	 ;  0 "" 2
 825:../../../src/radio/cc2420/source/basic_rf.c **** 
 826:../../../src/radio/cc2420/source/basic_rf.c ****     // agr XXX hack to test time issue
 827:../../../src/radio/cc2420/source/basic_rf.c ****     //rf_rx_on();
 828:../../../src/radio/cc2420/source/basic_rf.c **** 
 829:../../../src/radio/cc2420/source/basic_rf.c ****     // Increment the sequence number, and return the result
 830:../../../src/radio/cc2420/source/basic_rf.c ****     rfSettings.txSeqNumber++;
 3402               	.LM590:
 3403               	/* #NOAPP */
 3404 0ba8 9091 0000 		lds r25,rfSettings+2
 3405 0bac 9F5F      		subi r25,lo8(-(1))
 3406 0bae 9093 0000 		sts rfSettings+2,r25
 3407               	.L339:
 3408               	/* epilogue start */
 831:../../../src/radio/cc2420/source/basic_rf.c **** //	while (SFD_IS_1);
 832:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 833:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
 834:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 835:../../../src/radio/cc2420/source/basic_rf.c ****     return success;
 836:../../../src/radio/cc2420/source/basic_rf.c **** 
 837:../../../src/radio/cc2420/source/basic_rf.c **** }
 3410               	.LM591:
 3411 0bb2 0F90      		pop __tmp_reg__
 3412 0bb4 0F90      		pop __tmp_reg__
 3413 0bb6 CF91      		pop r28
 3414 0bb8 DF91      		pop r29
 3415 0bba 1F91      		pop r17
 3416 0bbc 0F91      		pop r16
 3417 0bbe FF90      		pop r15
 3418 0bc0 0895      		ret
 3434               	.Lscope24:
 3436               		.stabd	78,0,0
 3438               	.global	rf_busy
 3440               	rf_busy:
 3441               		.stabd	46,0,0
 838:../../../src/radio/cc2420/source/basic_rf.c **** 
 839:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_busy()
 840:../../../src/radio/cc2420/source/basic_rf.c **** {
 3443               	.LM592:
 3444               	.LFBB25:
 3445               	/* prologue: function */
 3446               	/* frame size = 0 */
 3447               	/* stack size = 0 */
 3448               	.L__stack_usage = 0
 841:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 3450               	.LM593:
 3451 0bc2 81E0      		ldi r24,lo8(1)
 3452 0bc4 849B      		sbis 48-32,4
 3453 0bc6 80E0      		ldi r24,lo8(0)
 3454               	.L401:
 842:../../../src/radio/cc2420/source/basic_rf.c **** }
 3456               	.LM594:
 3457 0bc8 0895      		ret
 3459               	.Lscope25:
 3461               		.stabd	78,0,0
 3463               	.global	rf_rx_check_fifop
 3465               	rf_rx_check_fifop:
 3466               		.stabd	46,0,0
 843:../../../src/radio/cc2420/source/basic_rf.c **** 
 844:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_fifop()
 845:../../../src/radio/cc2420/source/basic_rf.c **** {
 3468               	.LM595:
 3469               	.LFBB26:
 3470               	/* prologue: function */
 3471               	/* frame size = 0 */
 3472               	/* stack size = 0 */
 3473               	.L__stack_usage = 0
 846:../../../src/radio/cc2420/source/basic_rf.c ****     return FIFOP_IS_1;
 3475               	.LM596:
 3476 0bca 81E0      		ldi r24,lo8(1)
 3477 0bcc 0E9B      		sbis 33-32,6
 3478 0bce 80E0      		ldi r24,lo8(0)
 3479               	.L403:
 847:../../../src/radio/cc2420/source/basic_rf.c **** }
 3481               	.LM597:
 3482 0bd0 0895      		ret
 3484               	.Lscope26:
 3486               		.stabd	78,0,0
 3488               	.global	rf_rx_check_sfd
 3490               	rf_rx_check_sfd:
 3491               		.stabd	46,0,0
 848:../../../src/radio/cc2420/source/basic_rf.c **** 
 849:../../../src/radio/cc2420/source/basic_rf.c **** 
 850:../../../src/radio/cc2420/source/basic_rf.c **** uint8_t rf_rx_check_sfd()
 851:../../../src/radio/cc2420/source/basic_rf.c **** {
 3493               	.LM598:
 3494               	.LFBB27:
 3495               	/* prologue: function */
 3496               	/* frame size = 0 */
 3497               	/* stack size = 0 */
 3498               	.L__stack_usage = 0
 852:../../../src/radio/cc2420/source/basic_rf.c ****     return SFD_IS_1;
 3500               	.LM599:
 3501 0bd2 81E0      		ldi r24,lo8(1)
 3502 0bd4 849B      		sbis 48-32,4
 3503 0bd6 80E0      		ldi r24,lo8(0)
 3504               	.L405:
 853:../../../src/radio/cc2420/source/basic_rf.c **** }
 3506               	.LM600:
 3507 0bd8 0895      		ret
 3509               	.Lscope27:
 3511               		.stabd	78,0,0
 3513               	.global	rf_polling_rx_packet
 3515               	rf_polling_rx_packet:
 3516               		.stabd	46,0,0
 854:../../../src/radio/cc2420/source/basic_rf.c **** uint16_t tmp_blah;
 855:../../../src/radio/cc2420/source/basic_rf.c **** 
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 857:../../../src/radio/cc2420/source/basic_rf.c **** {
 3518               	.LM601:
 3519               	.LFBB28:
 3520 0bda DF93      		push r29
 3521 0bdc CF93      		push r28
 3522 0bde 00D0      		rcall .
 3523 0be0 00D0      		rcall .
 3524 0be2 CDB7      		in r28,__SP_L__
 3525 0be4 DEB7      		in r29,__SP_H__
 3526               	/* prologue: function */
 3527               	/* frame size = 4 */
 3528               	/* stack size = 6 */
 3529               	.L__stack_usage = 6
 858:../../../src/radio/cc2420/source/basic_rf.c ****     uint8_t tmp;
 859:../../../src/radio/cc2420/source/basic_rf.c **** 
 860:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 861:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
 862:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 863:../../../src/radio/cc2420/source/basic_rf.c **** 
 864:../../../src/radio/cc2420/source/basic_rf.c ****     if(FIFOP_IS_1 )
 3531               	.LM602:
 3532 0be6 0E9B      		sbis 33-32,6
 3533 0be8 00C0      		rjmp .L480
 3534               	.LBB21:
 865:../../../src/radio/cc2420/source/basic_rf.c ****     {
 866:../../../src/radio/cc2420/source/basic_rf.c ****         uint16_t frameControlField;
 867:../../../src/radio/cc2420/source/basic_rf.c ****         int8_t length;
 868:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t pFooter[2];
 869:../../../src/radio/cc2420/source/basic_rf.c ****         uint8_t checksum,rx_checksum,i;
 870:../../../src/radio/cc2420/source/basic_rf.c **** 
 871:../../../src/radio/cc2420/source/basic_rf.c ****         last_pkt_encrypted=0;
 3536               	.LM603:
 3537 0bea 1092 0000 		sts last_pkt_encrypted,__zero_reg__
 872:../../../src/radio/cc2420/source/basic_rf.c **** 
 873:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SRXON);
 874:../../../src/radio/cc2420/source/basic_rf.c **** //	FASTSPI_STROBE(CC2420_SFLUSHRX);
 875:../../../src/radio/cc2420/source/basic_rf.c **** 
 876:../../../src/radio/cc2420/source/basic_rf.c **** //	while(!SFD_IS_1);
 877:../../../src/radio/cc2420/source/basic_rf.c **** //  XXX Need to make sure SFD has gone down to be sure packet finished!
 878:../../../src/radio/cc2420/source/basic_rf.c **** //	while(SFD_IS_1);
 879:../../../src/radio/cc2420/source/basic_rf.c ****         // Clean up and exit in case of FIFO overflow, which is indicated by FIFOP = 1 and FIFO = 0
 880:../../../src/radio/cc2420/source/basic_rf.c ****         if((FIFOP_IS_1) && (!(FIFO_IS_1)))
 3539               	.LM604:
 3540 0bee 0E9B      		sbis 33-32,6
 3541 0bf0 00C0      		rjmp .L408
 3543               	.LM605:
 3544 0bf2 B799      		sbic 54-32,7
 3545 0bf4 00C0      		rjmp .L408
 881:../../../src/radio/cc2420/source/basic_rf.c ****         {
 882:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 883:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3547               	.LM606:
 3548 0bf6 C098      		cbi 56-32,0
 3549 0bf8 8FE7      		ldi r24,lo8(127)
 3550 0bfa 8FB9      		out 47-32,r24
 3551               	.L409:
 3553               	.LM607:
 3554 0bfc 779B      		sbis 46-32,7
 3555 0bfe 00C0      		rjmp .L409
 3557               	.LM608:
 3558 0c00 1FB8      		out 47-32,__zero_reg__
 3559               	.L410:
 3561               	.LM609:
 3562 0c02 779B      		sbis 46-32,7
 3563 0c04 00C0      		rjmp .L410
 3565               	.LM610:
 3566 0c06 8FB1      		in r24,47-32
 3567 0c08 C09A      		sbi 56-32,0
 884:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3569               	.LM611:
 3570 0c0a C098      		cbi 56-32,0
 3571 0c0c 88E0      		ldi r24,lo8(8)
 3572 0c0e 8FB9      		out 47-32,r24
 3573               	.L411:
 3575               	.LM612:
 3576 0c10 779B      		sbis 46-32,7
 3577 0c12 00C0      		rjmp .L411
 3579               	.LM613:
 3580 0c14 C09A      		sbi 56-32,0
 885:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3582               	.LM614:
 3583 0c16 C098      		cbi 56-32,0
 3584 0c18 88E0      		ldi r24,lo8(8)
 3585 0c1a 8FB9      		out 47-32,r24
 3586               	.L412:
 3588               	.LM615:
 3589 0c1c 779B      		sbis 46-32,7
 3590 0c1e 00C0      		rjmp .L412
 3592               	.LM616:
 3593 0c20 C09A      		sbi 56-32,0
 886:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 887:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 888:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 889:../../../src/radio/cc2420/source/basic_rf.c ****             return -1;
 3595               	.LM617:
 3596 0c22 8FEF      		ldi r24,lo8(-1)
 3597 0c24 00C0      		rjmp .L407
 3598               	.L408:
 890:../../../src/radio/cc2420/source/basic_rf.c ****         }
 891:../../../src/radio/cc2420/source/basic_rf.c **** 
 892:../../../src/radio/cc2420/source/basic_rf.c ****         // Payload length
 893:../../../src/radio/cc2420/source/basic_rf.c ****         FASTSPI_READ_FIFO_BYTE(length);
 3600               	.LM618:
 3601 0c26 C098      		cbi 56-32,0
 3602 0c28 8FE7      		ldi r24,lo8(127)
 3603 0c2a 8FB9      		out 47-32,r24
 3604               	.L413:
 3606               	.LM619:
 3607 0c2c 779B      		sbis 46-32,7
 3608 0c2e 00C0      		rjmp .L413
 3610               	.LM620:
 3611 0c30 1FB8      		out 47-32,__zero_reg__
 3612               	.L414:
 3614               	.LM621:
 3615 0c32 779B      		sbis 46-32,7
 3616 0c34 00C0      		rjmp .L414
 3618               	.LM622:
 3619 0c36 4FB1      		in r20,47-32
 3620 0c38 C09A      		sbi 56-32,0
 894:../../../src/radio/cc2420/source/basic_rf.c ****         length &= RF_LENGTH_MASK; // Ignore MSB
 3622               	.LM623:
 3623 0c3a 4F77      		andi r20,lo8(127)
 895:../../../src/radio/cc2420/source/basic_rf.c ****         // Ignore the packet if the length is too short
 896:../../../src/radio/cc2420/source/basic_rf.c ****         if(length<=0)
 3625               	.LM624:
 3626 0c3c 01F4      		brne .L415
 897:../../../src/radio/cc2420/source/basic_rf.c ****         {
 898:../../../src/radio/cc2420/source/basic_rf.c ****             // always read 1 byte before flush (data sheet pg 62)
 899:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3628               	.LM625:
 3629 0c3e C098      		cbi 56-32,0
 3630 0c40 8FE7      		ldi r24,lo8(127)
 3631 0c42 8FB9      		out 47-32,r24
 3632               	.L416:
 3634               	.LM626:
 3635 0c44 779B      		sbis 46-32,7
 3636 0c46 00C0      		rjmp .L416
 3638               	.LM627:
 3639 0c48 1FB8      		out 47-32,__zero_reg__
 3640               	.L417:
 3642               	.LM628:
 3643 0c4a 779B      		sbis 46-32,7
 3644 0c4c 00C0      		rjmp .L417
 3646               	.LM629:
 3647 0c4e 8FB1      		in r24,47-32
 3648 0c50 C09A      		sbi 56-32,0
 900:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3650               	.LM630:
 3651 0c52 C098      		cbi 56-32,0
 3652 0c54 88E0      		ldi r24,lo8(8)
 3653 0c56 8FB9      		out 47-32,r24
 3654               	.L418:
 3656               	.LM631:
 3657 0c58 779B      		sbis 46-32,7
 3658 0c5a 00C0      		rjmp .L418
 3660               	.LM632:
 3661 0c5c C09A      		sbi 56-32,0
 901:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3663               	.LM633:
 3664 0c5e C098      		cbi 56-32,0
 3665 0c60 88E0      		ldi r24,lo8(8)
 3666 0c62 8FB9      		out 47-32,r24
 3667               	.L419:
 3669               	.LM634:
 3670 0c64 779B      		sbis 46-32,7
 3671 0c66 00C0      		rjmp .L419
 3673               	.LM635:
 3674 0c68 C09A      		sbi 56-32,0
 902:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 903:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 904:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 905:../../../src/radio/cc2420/source/basic_rf.c ****             return -2;
 3676               	.LM636:
 3677 0c6a 8EEF      		ldi r24,lo8(-2)
 3678 0c6c 00C0      		rjmp .L407
 3679               	.L415:
 906:../../../src/radio/cc2420/source/basic_rf.c ****         }
 907:../../../src/radio/cc2420/source/basic_rf.c ****         if (length < (RF_PACKET_OVERHEAD_SIZE + CHECKSUM_OVERHEAD)/*RF_ACK_PACKET_SIZE*/ || (length
 3681               	.LM637:
 3682 0c6e 4C30      		cpi r20,lo8(12)
 3683 0c70 04F0      		brlt .L420
 3685               	.LM638:
 3686 0c72 E091 0000 		lds r30,rfSettings
 3687 0c76 F091 0000 		lds r31,rfSettings+1
 3688 0c7a 842F      		mov r24,r20
 3689 0c7c 9927      		clr r25
 3690 0c7e 87FD      		sbrc r24,7
 3691 0c80 9095      		com r25
 3692 0c82 0B97      		sbiw r24,11
 3693 0c84 2481      		ldd r18,Z+4
 3694 0c86 3327      		clr r19
 3695 0c88 27FD      		sbrc r18,7
 3696 0c8a 3095      		com r19
 3697 0c8c 2817      		cp r18,r24
 3698 0c8e 3907      		cpc r19,r25
 3699 0c90 04F4      		brge .L421
 3700               	.L420:
 908:../../../src/radio/cc2420/source/basic_rf.c ****         {
 909:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(length);
 3702               	.LM639:
 3703 0c92 C098      		cbi 56-32,0
 3704 0c94 8FE7      		ldi r24,lo8(127)
 3705 0c96 8FB9      		out 47-32,r24
 3706               	.L422:
 3708               	.LM640:
 3709 0c98 779B      		sbis 46-32,7
 3710 0c9a 00C0      		rjmp .L422
 3712               	.LM641:
 3713 0c9c 50E0      		ldi r21,lo8(0)
 3714               	.LBB22:
 3715 0c9e 842F      		mov r24,r20
 3716 0ca0 9927      		clr r25
 3717 0ca2 87FD      		sbrc r24,7
 3718 0ca4 9095      		com r25
 3719 0ca6 00C0      		rjmp .L423
 3720               	.L426:
 3722               	.LM642:
 3723 0ca8 1FB8      		out 47-32,__zero_reg__
 3724               	.L424:
 3726               	.LM643:
 3727 0caa 779B      		sbis 46-32,7
 3728 0cac 00C0      		rjmp .L424
 3730               	.LM644:
 3731 0cae 5F5F      		subi r21,lo8(-(1))
 3732               	.L423:
 3734               	.LM645:
 3735 0cb0 252F      		mov r18,r21
 3736 0cb2 30E0      		ldi r19,lo8(0)
 3737 0cb4 2817      		cp r18,r24
 3738 0cb6 3907      		cpc r19,r25
 3739 0cb8 04F4      		brge .L425
 3741               	.LM646:
 3742 0cba B799      		sbic 54-32,7
 3743 0cbc 00C0      		rjmp .L426
 3744               	.L425:
 3745               	.LBE22:
 3747               	.LM647:
 3748 0cbe C09A      		sbi 56-32,0
 910:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(tmp);
 3750               	.LM648:
 3751 0cc0 C098      		cbi 56-32,0
 3752 0cc2 8FE7      		ldi r24,lo8(127)
 3753 0cc4 8FB9      		out 47-32,r24
 3754               	.L427:
 3756               	.LM649:
 3757 0cc6 779B      		sbis 46-32,7
 3758 0cc8 00C0      		rjmp .L427
 3760               	.LM650:
 3761 0cca 1FB8      		out 47-32,__zero_reg__
 3762               	.L428:
 3764               	.LM651:
 3765 0ccc 779B      		sbis 46-32,7
 3766 0cce 00C0      		rjmp .L428
 3768               	.LM652:
 3769 0cd0 8FB1      		in r24,47-32
 3770 0cd2 C09A      		sbi 56-32,0
 911:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3772               	.LM653:
 3773 0cd4 C098      		cbi 56-32,0
 3774 0cd6 88E0      		ldi r24,lo8(8)
 3775 0cd8 8FB9      		out 47-32,r24
 3776               	.L429:
 3778               	.LM654:
 3779 0cda 779B      		sbis 46-32,7
 3780 0cdc 00C0      		rjmp .L429
 3782               	.LM655:
 3783 0cde C09A      		sbi 56-32,0
 912:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_STROBE(CC2420_SFLUSHRX);
 3785               	.LM656:
 3786 0ce0 C098      		cbi 56-32,0
 3787 0ce2 88E0      		ldi r24,lo8(8)
 3788 0ce4 8FB9      		out 47-32,r24
 3789               	.L430:
 3791               	.LM657:
 3792 0ce6 779B      		sbis 46-32,7
 3793 0ce8 00C0      		rjmp .L430
 3795               	.LM658:
 3796 0cea C09A      		sbi 56-32,0
 913:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 914:../../../src/radio/cc2420/source/basic_rf.c ****             nrk_sem_post(radio_sem);
 915:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 916:../../../src/radio/cc2420/source/basic_rf.c ****             return -3;
 3798               	.LM659:
 3799 0cec 8DEF      		ldi r24,lo8(-3)
 3800 0cee 00C0      		rjmp .L407
 3801               	.L421:
 917:../../../src/radio/cc2420/source/basic_rf.c ****             //printf_u( "Bad length: %d %d\n",length, rfSettings.pRxInfo->max_length );
 918:../../../src/radio/cc2420/source/basic_rf.c ****             // Otherwise, if the length is valid, then proceed with the rest of the packet
 919:../../../src/radio/cc2420/source/basic_rf.c ****         }
 920:../../../src/radio/cc2420/source/basic_rf.c ****         else
 921:../../../src/radio/cc2420/source/basic_rf.c ****         {
 922:../../../src/radio/cc2420/source/basic_rf.c ****             // Register the payload length
 923:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->length = length - RF_PACKET_OVERHEAD_SIZE - CHECKSUM_OVERHEAD;
 3803               	.LM660:
 3804 0cf0 E091 0000 		lds r30,rfSettings
 3805 0cf4 F091 0000 		lds r31,rfSettings+1
 3806 0cf8 4C50      		subi r20,lo8(-(-12))
 3807 0cfa 4383      		std Z+3,r20
 924:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the frame control field and the data sequence number
 925:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &frameControlField, 2);
 3809               	.LM661:
 3810 0cfc C098      		cbi 56-32,0
 3811 0cfe 8FE7      		ldi r24,lo8(127)
 3812 0d00 8FB9      		out 47-32,r24
 3813               	.L431:
 3815               	.LM662:
 3816 0d02 779B      		sbis 46-32,7
 3817 0d04 00C0      		rjmp .L431
 3819               	.LM663:
 3820 0d06 FE01      		movw r30,r28
 3821 0d08 3196      		adiw r30,1
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 3823               	.LM664:
 3824 0d0a CE01      		movw r24,r28
 3825 0d0c 0396      		adiw r24,3
 3826               	.L433:
 3827               	.LBB23:
 3829               	.LM665:
 3830 0d0e 1FB8      		out 47-32,__zero_reg__
 3831               	.L432:
 3833               	.LM666:
 3834 0d10 779B      		sbis 46-32,7
 3835 0d12 00C0      		rjmp .L432
 3837               	.LM667:
 3838 0d14 2FB1      		in r18,47-32
 3839 0d16 2193      		st Z+,r18
 3840 0d18 E817      		cp r30,r24
 3841 0d1a F907      		cpc r31,r25
 3842 0d1c 01F4      		brne .L433
 3843               	.LBE23:
 3845               	.LM668:
 3846 0d1e C09A      		sbi 56-32,0
 926:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->ackRequest = !!(frameControlField & RF_FCF_ACK_BM);
 3848               	.LM669:
 3849 0d20 E091 0000 		lds r30,rfSettings
 3850 0d24 F091 0000 		lds r31,rfSettings+1
 3851 0d28 9981      		ldd r25,Y+1
 3852 0d2a 81E0      		ldi r24,lo8(1)
 3853 0d2c 95FF      		sbrs r25,5
 3854 0d2e 80E0      		ldi r24,lo8(0)
 3855               	.L434:
 3856 0d30 8783      		std Z+7,r24
 927:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_BYTE(rfSettings.pRxInfo->seqNumber);
 3858               	.LM670:
 3859 0d32 C098      		cbi 56-32,0
 3860 0d34 8FE7      		ldi r24,lo8(127)
 3861 0d36 8FB9      		out 47-32,r24
 3862               	.L435:
 3864               	.LM671:
 3865 0d38 779B      		sbis 46-32,7
 3866 0d3a 00C0      		rjmp .L435
 3868               	.LM672:
 3869 0d3c 1FB8      		out 47-32,__zero_reg__
 3870               	.L436:
 3872               	.LM673:
 3873 0d3e 779B      		sbis 46-32,7
 3874 0d40 00C0      		rjmp .L436
 3876               	.LM674:
 3877 0d42 E091 0000 		lds r30,rfSettings
 3878 0d46 F091 0000 		lds r31,rfSettings+1
 3879 0d4a 8FB1      		in r24,47-32
 3880 0d4c 8083      		st Z,r24
 3881 0d4e C09A      		sbi 56-32,0
 928:../../../src/radio/cc2420/source/basic_rf.c **** 
 929:../../../src/radio/cc2420/source/basic_rf.c ****             // Is this an acknowledgment packet?
 930:../../../src/radio/cc2420/source/basic_rf.c ****             /*
 931:../../../src/radio/cc2420/source/basic_rf.c ****                 	if ((length == RF_ACK_PACKET_SIZE) && (frameControlField == RF_ACK_FCF) && (rfSett
 932:../../../src/radio/cc2420/source/basic_rf.c **** 
 933:../../../src/radio/cc2420/source/basic_rf.c ****              	       	// Read the footer and check for CRC OK
 934:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 935:../../../src/radio/cc2420/source/basic_rf.c **** 
 936:../../../src/radio/cc2420/source/basic_rf.c ****             			// Indicate the successful ack reception (this flag is polled by the transmission ro
 937:../../../src/radio/cc2420/source/basic_rf.c ****             			if (pFooter[1] & RF_CRC_OK_BM) rfSettings.ackReceived = TRUE;
 938:../../../src/radio/cc2420/source/basic_rf.c **** 
 939:../../../src/radio/cc2420/source/basic_rf.c ****             		// Too small to be a valid packet?
 940:../../../src/radio/cc2420/source/basic_rf.c ****             		} else if (length < RF_PACKET_OVERHEAD_SIZE) {
 941:../../../src/radio/cc2420/source/basic_rf.c ****             			FASTSPI_READ_FIFO_GARBAGE(length - 3);
 942:../../../src/radio/cc2420/source/basic_rf.c **** 
 943:../../../src/radio/cc2420/source/basic_rf.c ****             		// Receive the rest of the packet
 944:../../../src/radio/cc2420/source/basic_rf.c ****             		} else {
 945:../../../src/radio/cc2420/source/basic_rf.c ****             */
 946:../../../src/radio/cc2420/source/basic_rf.c ****             // Skip the destination PAN and address (that's taken care of by harware address recogn
 947:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_GARBAGE(4);
 3883               	.LM675:
 3884 0d50 C098      		cbi 56-32,0
 3885 0d52 8FE7      		ldi r24,lo8(127)
 3886 0d54 8FB9      		out 47-32,r24
 3887               	.L437:
 3889               	.LM676:
 3890 0d56 779B      		sbis 46-32,7
 3891 0d58 00C0      		rjmp .L437
 3893               	.LM677:
 3894 0d5a 84E0      		ldi r24,lo8(4)
 3895 0d5c 00C0      		rjmp .L440
 3896               	.L442:
 3897               	.LBB24:
 3899               	.LM678:
 3900 0d5e 1FB8      		out 47-32,__zero_reg__
 3901               	.L439:
 3903               	.LM679:
 3904 0d60 779B      		sbis 46-32,7
 3905 0d62 00C0      		rjmp .L439
 3907               	.LM680:
 3908 0d64 8150      		subi r24,lo8(-(-1))
 3909 0d66 01F0      		breq .L441
 3910               	.L440:
 3912               	.LM681:
 3913 0d68 B799      		sbic 54-32,7
 3914 0d6a 00C0      		rjmp .L442
 3915               	.L441:
 3916               	.LBE24:
 3918               	.LM682:
 3919 0d6c C09A      		sbi 56-32,0
 948:../../../src/radio/cc2420/source/basic_rf.c **** 
 949:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the source address
 950:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rfSettings.pRxInfo->srcAddr, 2);
 3921               	.LM683:
 3922 0d6e C098      		cbi 56-32,0
 3923 0d70 8FE7      		ldi r24,lo8(127)
 3924 0d72 8FB9      		out 47-32,r24
 3925               	.L443:
 3927               	.LM684:
 3928 0d74 779B      		sbis 46-32,7
 3929 0d76 00C0      		rjmp .L443
 3931               	.LM685:
 3932 0d78 80E0      		ldi r24,lo8(0)
 3933 0d7a 90E0      		ldi r25,hi8(0)
 3934               	.L445:
 3935               	.LBB25:
 3936 0d7c 1FB8      		out 47-32,__zero_reg__
 3937               	.L444:
 3939               	.LM686:
 3940 0d7e 779B      		sbis 46-32,7
 3941 0d80 00C0      		rjmp .L444
 3943               	.LM687:
 3944 0d82 E091 0000 		lds r30,rfSettings
 3945 0d86 F091 0000 		lds r31,rfSettings+1
 3946 0d8a 2FB1      		in r18,47-32
 3947 0d8c E80F      		add r30,r24
 3948 0d8e F91F      		adc r31,r25
 3949 0d90 2183      		std Z+1,r18
 3950 0d92 0196      		adiw r24,1
 3951 0d94 8230      		cpi r24,2
 3952 0d96 9105      		cpc r25,__zero_reg__
 3953 0d98 01F4      		brne .L445
 3954               	.LBE25:
 3956               	.LM688:
 3957 0d9a C09A      		sbi 56-32,0
 951:../../../src/radio/cc2420/source/basic_rf.c **** 
 952:../../../src/radio/cc2420/source/basic_rf.c ****             if(frameControlField & RF_SEC_BM)
 3959               	.LM689:
 3960 0d9c 8981      		ldd r24,Y+1
 3961 0d9e 83FF      		sbrs r24,3
 3962 0da0 00C0      		rjmp .L446
 3963               	.LBB26:
 953:../../../src/radio/cc2420/source/basic_rf.c ****             {
 954:../../../src/radio/cc2420/source/basic_rf.c ****                 uint8_t n;
 955:../../../src/radio/cc2420/source/basic_rf.c ****                 // READ rx_ctr and set it
 956:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) &rx_ctr, 4);
 3965               	.LM690:
 3966 0da2 C098      		cbi 56-32,0
 3967 0da4 8FE7      		ldi r24,lo8(127)
 3968 0da6 8FB9      		out 47-32,r24
 3969               	.L447:
 3971               	.LM691:
 3972 0da8 779B      		sbis 46-32,7
 3973 0daa 00C0      		rjmp .L447
 3975               	.LM692:
 3976 0dac E0E0      		ldi r30,lo8(rx_ctr)
 3977 0dae F0E0      		ldi r31,hi8(rx_ctr)
 3978               	.L449:
 3979               	.LBB27:
 3981               	.LM693:
 3982 0db0 1FB8      		out 47-32,__zero_reg__
 3983               	.L448:
 3985               	.LM694:
 3986 0db2 779B      		sbis 46-32,7
 3987 0db4 00C0      		rjmp .L448
 3989               	.LM695:
 3990 0db6 8FB1      		in r24,47-32
 3991 0db8 8193      		st Z+,r24
 3992 0dba 80E0      		ldi r24,hi8(rx_ctr+4)
 3993 0dbc E030      		cpi r30,lo8(rx_ctr+4)
 3994 0dbe F807      		cpc r31,r24
 3995 0dc0 01F4      		brne .L449
 3996               	.LBE27:
 3998               	.LM696:
 3999 0dc2 C09A      		sbi 56-32,0
 957:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[0],(CC2420RAM_RXNONCE+9),2,n);
 4001               	.LM697:
 4002 0dc4 C098      		cbi 56-32,0
 4003 0dc6 89E9      		ldi r24,lo8(-103)
 4004 0dc8 8FB9      		out 47-32,r24
 4005               	.L450:
 4007               	.LM698:
 4008 0dca 779B      		sbis 46-32,7
 4009 0dcc 00C0      		rjmp .L450
 4011               	.LM699:
 4012 0dce 80E8      		ldi r24,lo8(-128)
 4013 0dd0 8FB9      		out 47-32,r24
 4014               	.L451:
 4016               	.LM700:
 4017 0dd2 779B      		sbis 46-32,7
 4018 0dd4 00C0      		rjmp .L451
 4020               	.LM701:
 4021 0dd6 82E0      		ldi r24,lo8(2)
 4022               	.L453:
 4023 0dd8 8150      		subi r24,lo8(-(-1))
 4024 0dda E82F      		mov r30,r24
 4025 0ddc F0E0      		ldi r31,lo8(0)
 4026 0dde E050      		subi r30,lo8(-(rx_ctr))
 4027 0de0 F040      		sbci r31,hi8(-(rx_ctr))
 4028 0de2 9081      		ld r25,Z
 4029 0de4 9FB9      		out 47-32,r25
 4030               	.L452:
 4032               	.LM702:
 4033 0de6 779B      		sbis 46-32,7
 4034 0de8 00C0      		rjmp .L452
 4036               	.LM703:
 4037 0dea 8823      		tst r24
 4038 0dec 01F4      		brne .L453
 4040               	.LM704:
 4041 0dee C09A      		sbi 56-32,0
 958:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_WRITE_RAM(&rx_ctr[2],(CC2420RAM_RXNONCE+11),2,n);
 4043               	.LM705:
 4044 0df0 C098      		cbi 56-32,0
 4045 0df2 8BE9      		ldi r24,lo8(-101)
 4046 0df4 8FB9      		out 47-32,r24
 4047               	.L454:
 4049               	.LM706:
 4050 0df6 779B      		sbis 46-32,7
 4051 0df8 00C0      		rjmp .L454
 4053               	.LM707:
 4054 0dfa 80E8      		ldi r24,lo8(-128)
 4055 0dfc 8FB9      		out 47-32,r24
 4056               	.L455:
 4058               	.LM708:
 4059 0dfe 779B      		sbis 46-32,7
 4060 0e00 00C0      		rjmp .L455
 4062               	.LM709:
 4063 0e02 82E0      		ldi r24,lo8(2)
 4064               	.L457:
 4065 0e04 8150      		subi r24,lo8(-(-1))
 4066 0e06 E82F      		mov r30,r24
 4067 0e08 F0E0      		ldi r31,lo8(0)
 4068 0e0a E050      		subi r30,lo8(-(rx_ctr+2))
 4069 0e0c F040      		sbci r31,hi8(-(rx_ctr+2))
 4070 0e0e 9081      		ld r25,Z
 4071 0e10 9FB9      		out 47-32,r25
 4072               	.L456:
 4074               	.LM710:
 4075 0e12 779B      		sbis 46-32,7
 4076 0e14 00C0      		rjmp .L456
 4078               	.LM711:
 4079 0e16 8823      		tst r24
 4080 0e18 01F4      		brne .L457
 4082               	.LM712:
 4083 0e1a C09A      		sbi 56-32,0
 959:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SRXDEC);  // if packet is encrypted then decrypt
 4085               	.LM713:
 4086 0e1c C098      		cbi 56-32,0
 4087 0e1e 8CE0      		ldi r24,lo8(12)
 4088 0e20 8FB9      		out 47-32,r24
 4089               	.L458:
 4091               	.LM714:
 4092 0e22 779B      		sbis 46-32,7
 4093 0e24 00C0      		rjmp .L458
 4095               	.LM715:
 4096 0e26 C09A      		sbi 56-32,0
 960:../../../src/radio/cc2420/source/basic_rf.c ****                 last_pkt_encrypted=1;
 4098               	.LM716:
 4099 0e28 81E0      		ldi r24,lo8(1)
 4100 0e2a 8093 0000 		sts last_pkt_encrypted,r24
 961:../../../src/radio/cc2420/source/basic_rf.c ****                 rfSettings.pRxInfo->length -= 4;
 4102               	.LM717:
 4103 0e2e E091 0000 		lds r30,rfSettings
 4104 0e32 F091 0000 		lds r31,rfSettings+1
 4105 0e36 8381      		ldd r24,Z+3
 4106 0e38 8450      		subi r24,lo8(-(-4))
 4107 0e3a 8383      		std Z+3,r24
 4108               	.L446:
 4109               	.LBE26:
 962:../../../src/radio/cc2420/source/basic_rf.c ****             }
 963:../../../src/radio/cc2420/source/basic_rf.c **** 
 964:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the packet payload
 965:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(rfSettings.pRxInfo->pPayload, rfSettings.pRxInfo->length);
 4111               	.LM718:
 4112 0e3c C098      		cbi 56-32,0
 4113 0e3e 8FE7      		ldi r24,lo8(127)
 4114 0e40 8FB9      		out 47-32,r24
 4115               	.L459:
 4117               	.LM719:
 4118 0e42 779B      		sbis 46-32,7
 4119 0e44 00C0      		rjmp .L459
 4121               	.LM720:
 4122 0e46 40E0      		ldi r20,lo8(0)
 4123 0e48 00C0      		rjmp .L460
 4124               	.L462:
 4125               	.LBB28:
 4127               	.LM721:
 4128 0e4a 1FB8      		out 47-32,__zero_reg__
 4129               	.L461:
 4131               	.LM722:
 4132 0e4c 779B      		sbis 46-32,7
 4133 0e4e 00C0      		rjmp .L461
 4135               	.LM723:
 4136 0e50 E091 0000 		lds r30,rfSettings
 4137 0e54 F091 0000 		lds r31,rfSettings+1
 4138 0e58 8FB1      		in r24,47-32
 4139 0e5a 0580      		ldd __tmp_reg__,Z+5
 4140 0e5c F681      		ldd r31,Z+6
 4141 0e5e E02D      		mov r30,__tmp_reg__
 4142 0e60 E40F      		add r30,r20
 4143 0e62 F11D      		adc r31,__zero_reg__
 4144 0e64 8083      		st Z,r24
 4145 0e66 4F5F      		subi r20,lo8(-(1))
 4146               	.L460:
 4148               	.LM724:
 4149 0e68 E091 0000 		lds r30,rfSettings
 4150 0e6c F091 0000 		lds r31,rfSettings+1
 4151 0e70 242F      		mov r18,r20
 4152 0e72 30E0      		ldi r19,lo8(0)
 4153 0e74 8381      		ldd r24,Z+3
 4154 0e76 9927      		clr r25
 4155 0e78 87FD      		sbrc r24,7
 4156 0e7a 9095      		com r25
 4157 0e7c 2817      		cp r18,r24
 4158 0e7e 3907      		cpc r19,r25
 4159 0e80 04F0      		brlt .L462
 4160               	.LBE28:
 4162               	.LM725:
 4163 0e82 C09A      		sbi 56-32,0
 966:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT(&rx_checksum, 1 );
 4165               	.LM726:
 4166 0e84 C098      		cbi 56-32,0
 4167 0e86 8FE7      		ldi r24,lo8(127)
 4168 0e88 8FB9      		out 47-32,r24
 4169               	.L463:
 4171               	.LM727:
 4172 0e8a 779B      		sbis 46-32,7
 4173 0e8c 00C0      		rjmp .L463
 4174               	.LBB29:
 4176               	.LM728:
 4177 0e8e 1FB8      		out 47-32,__zero_reg__
 4178               	.L464:
 4180               	.LM729:
 4181 0e90 779B      		sbis 46-32,7
 4182 0e92 00C0      		rjmp .L464
 4184               	.LM730:
 4185 0e94 6FB1      		in r22,47-32
 4186               	.LBE29:
 4187 0e96 C09A      		sbi 56-32,0
 967:../../../src/radio/cc2420/source/basic_rf.c **** 
 968:../../../src/radio/cc2420/source/basic_rf.c ****             // Read the footer to get the RSSI value
 969:../../../src/radio/cc2420/source/basic_rf.c ****             FASTSPI_READ_FIFO_NO_WAIT((uint8_t*) pFooter, 2);
 4189               	.LM731:
 4190 0e98 C098      		cbi 56-32,0
 4191 0e9a 8FE7      		ldi r24,lo8(127)
 4192 0e9c 8FB9      		out 47-32,r24
 4193               	.L465:
 4195               	.LM732:
 4196 0e9e 779B      		sbis 46-32,7
 4197 0ea0 00C0      		rjmp .L465
 4199               	.LM733:
 4200 0ea2 FE01      		movw r30,r28
 4201 0ea4 3396      		adiw r30,3
 856:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_polling_rx_packet()
 4203               	.LM734:
 4204 0ea6 CE01      		movw r24,r28
 4205 0ea8 0596      		adiw r24,5
 4206               	.L467:
 4207               	.LBB30:
 4209               	.LM735:
 4210 0eaa 1FB8      		out 47-32,__zero_reg__
 4211               	.L466:
 4213               	.LM736:
 4214 0eac 779B      		sbis 46-32,7
 4215 0eae 00C0      		rjmp .L466
 4217               	.LM737:
 4218 0eb0 2FB1      		in r18,47-32
 4219 0eb2 2193      		st Z+,r18
 4220 0eb4 E817      		cp r30,r24
 4221 0eb6 F907      		cpc r31,r25
 4222 0eb8 01F4      		brne .L467
 4223               	.LBE30:
 4225               	.LM738:
 4226 0eba C09A      		sbi 56-32,0
 970:../../../src/radio/cc2420/source/basic_rf.c ****             rfSettings.pRxInfo->rssi = pFooter[0];
 4228               	.LM739:
 4229 0ebc E091 0000 		lds r30,rfSettings
 4230 0ec0 F091 0000 		lds r31,rfSettings+1
 4231 0ec4 8B81      		ldd r24,Y+3
 4232 0ec6 8087      		std Z+8,r24
 971:../../../src/radio/cc2420/source/basic_rf.c ****             checksum=0;
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4234               	.LM740:
 4235 0ec8 50E0      		ldi r21,lo8(0)
 971:../../../src/radio/cc2420/source/basic_rf.c ****             checksum=0;
 4237               	.LM741:
 4238 0eca 40E0      		ldi r20,lo8(0)
 4240               	.LM742:
 4241 0ecc 00C0      		rjmp .L468
 4242               	.L469:
 973:../../../src/radio/cc2420/source/basic_rf.c ****             {
 974:../../../src/radio/cc2420/source/basic_rf.c ****                 checksum+=rfSettings.pRxInfo->pPayload[i];
 4244               	.LM743:
 4245 0ece E091 0000 		lds r30,rfSettings
 4246 0ed2 F091 0000 		lds r31,rfSettings+1
 4247 0ed6 0580      		ldd __tmp_reg__,Z+5
 4248 0ed8 F681      		ldd r31,Z+6
 4249 0eda E02D      		mov r30,__tmp_reg__
 4250 0edc E80F      		add r30,r24
 4251 0ede F91F      		adc r31,r25
 4252 0ee0 8081      		ld r24,Z
 4253 0ee2 480F      		add r20,r24
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4255               	.LM744:
 4256 0ee4 5F5F      		subi r21,lo8(-(1))
 4257               	.L468:
 972:../../../src/radio/cc2420/source/basic_rf.c ****             for(i=0; i<rfSettings.pRxInfo->length; i++ )
 4259               	.LM745:
 4260 0ee6 E091 0000 		lds r30,rfSettings
 4261 0eea F091 0000 		lds r31,rfSettings+1
 4262 0eee 852F      		mov r24,r21
 4263 0ef0 90E0      		ldi r25,lo8(0)
 4264 0ef2 2381      		ldd r18,Z+3
 4265 0ef4 3327      		clr r19
 4266 0ef6 27FD      		sbrc r18,7
 4267 0ef8 3095      		com r19
 4268 0efa 8217      		cp r24,r18
 4269 0efc 9307      		cpc r25,r19
 4270 0efe 04F0      		brlt .L469
 975:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "%d ", rfSettings.pRxInfo->pPayload[i]);
 976:../../../src/radio/cc2420/source/basic_rf.c ****             }
 977:../../../src/radio/cc2420/source/basic_rf.c **** 
 978:../../../src/radio/cc2420/source/basic_rf.c ****             if(checksum!=rx_checksum)
 4272               	.LM746:
 4273 0f00 4617      		cp r20,r22
 4274 0f02 01F0      		breq .L470
 979:../../../src/radio/cc2420/source/basic_rf.c ****             {
 980:../../../src/radio/cc2420/source/basic_rf.c ****                 //printf( "Checksum failed %d %d\r",rx_checksum, checksum );
 981:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
 982:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 4276               	.LM747:
 4277 0f04 C098      		cbi 56-32,0
 4278 0f06 8FE7      		ldi r24,lo8(127)
 4279 0f08 8FB9      		out 47-32,r24
 4280               	.L471:
 4282               	.LM748:
 4283 0f0a 779B      		sbis 46-32,7
 4284 0f0c 00C0      		rjmp .L471
 4286               	.LM749:
 4287 0f0e 1FB8      		out 47-32,__zero_reg__
 4288               	.L472:
 4290               	.LM750:
 4291 0f10 779B      		sbis 46-32,7
 4292 0f12 00C0      		rjmp .L472
 4294               	.LM751:
 4295 0f14 8FB1      		in r24,47-32
 4296 0f16 C09A      		sbi 56-32,0
 983:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4298               	.LM752:
 4299 0f18 C098      		cbi 56-32,0
 4300 0f1a 88E0      		ldi r24,lo8(8)
 4301 0f1c 8FB9      		out 47-32,r24
 4302               	.L473:
 4304               	.LM753:
 4305 0f1e 779B      		sbis 46-32,7
 4306 0f20 00C0      		rjmp .L473
 4308               	.LM754:
 4309 0f22 C09A      		sbi 56-32,0
 984:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4311               	.LM755:
 4312 0f24 C098      		cbi 56-32,0
 4313 0f26 88E0      		ldi r24,lo8(8)
 4314 0f28 8FB9      		out 47-32,r24
 4315               	.L474:
 4317               	.LM756:
 4318 0f2a 779B      		sbis 46-32,7
 4319 0f2c 00C0      		rjmp .L474
 4321               	.LM757:
 4322 0f2e C09A      		sbi 56-32,0
 985:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 986:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 987:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 988:../../../src/radio/cc2420/source/basic_rf.c ****                 return -4;
 4324               	.LM758:
 4325 0f30 8CEF      		ldi r24,lo8(-4)
 4326 0f32 00C0      		rjmp .L407
 4327               	.L470:
 989:../../../src/radio/cc2420/source/basic_rf.c ****             }
 990:../../../src/radio/cc2420/source/basic_rf.c ****             if (pFooter[1] & RF_CRC_OK_BM)
 4329               	.LM759:
 4330 0f34 8C81      		ldd r24,Y+4
 4331 0f36 87FF      		sbrs r24,7
 4332 0f38 00C0      		rjmp .L475
 991:../../../src/radio/cc2420/source/basic_rf.c ****             {
 992:../../../src/radio/cc2420/source/basic_rf.c ****                 //rfSettings.pRxInfo = rf_rx_callback(rfSettings.pRxInfo);
 993:../../../src/radio/cc2420/source/basic_rf.c ****                 rx_ready++;
 4334               	.LM760:
 4335 0f3a 8091 0000 		lds r24,rx_ready
 4336 0f3e 8F5F      		subi r24,lo8(-(1))
 4337 0f40 8093 0000 		sts rx_ready,r24
 994:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
 995:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
 996:../../../src/radio/cc2420/source/basic_rf.c **** #endif
 997:../../../src/radio/cc2420/source/basic_rf.c ****                 return 1;
 4339               	.LM761:
 4340 0f44 81E0      		ldi r24,lo8(1)
 4341 0f46 00C0      		rjmp .L407
 4342               	.L475:
 998:../../../src/radio/cc2420/source/basic_rf.c ****             }
 999:../../../src/radio/cc2420/source/basic_rf.c ****             else
1000:../../../src/radio/cc2420/source/basic_rf.c ****             {
1001:../../../src/radio/cc2420/source/basic_rf.c ****                 // always read 1 byte before flush (data sheet pg 62)
1002:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_READ_FIFO_BYTE(tmp);
 4344               	.LM762:
 4345 0f48 C098      		cbi 56-32,0
 4346 0f4a 8FE7      		ldi r24,lo8(127)
 4347 0f4c 8FB9      		out 47-32,r24
 4348               	.L476:
 4350               	.LM763:
 4351 0f4e 779B      		sbis 46-32,7
 4352 0f50 00C0      		rjmp .L476
 4354               	.LM764:
 4355 0f52 1FB8      		out 47-32,__zero_reg__
 4356               	.L477:
 4358               	.LM765:
 4359 0f54 779B      		sbis 46-32,7
 4360 0f56 00C0      		rjmp .L477
 4362               	.LM766:
 4363 0f58 8FB1      		in r24,47-32
 4364 0f5a C09A      		sbi 56-32,0
1003:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4366               	.LM767:
 4367 0f5c C098      		cbi 56-32,0
 4368 0f5e 88E0      		ldi r24,lo8(8)
 4369 0f60 8FB9      		out 47-32,r24
 4370               	.L478:
 4372               	.LM768:
 4373 0f62 779B      		sbis 46-32,7
 4374 0f64 00C0      		rjmp .L478
 4376               	.LM769:
 4377 0f66 C09A      		sbi 56-32,0
1004:../../../src/radio/cc2420/source/basic_rf.c ****                 FASTSPI_STROBE(CC2420_SFLUSHRX);
 4379               	.LM770:
 4380 0f68 C098      		cbi 56-32,0
 4381 0f6a 88E0      		ldi r24,lo8(8)
 4382 0f6c 8FB9      		out 47-32,r24
 4383               	.L479:
 4385               	.LM771:
 4386 0f6e 779B      		sbis 46-32,7
 4387 0f70 00C0      		rjmp .L479
 4389               	.LM772:
 4390 0f72 C09A      		sbi 56-32,0
1005:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1006:../../../src/radio/cc2420/source/basic_rf.c ****                 nrk_sem_post(radio_sem);
1007:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1008:../../../src/radio/cc2420/source/basic_rf.c ****                 return -5;
 4392               	.LM773:
 4393 0f74 8BEF      		ldi r24,lo8(-5)
 4394 0f76 00C0      		rjmp .L407
 4395               	.L480:
 4396               	.LBE21:
1009:../../../src/radio/cc2420/source/basic_rf.c ****             }
1010:../../../src/radio/cc2420/source/basic_rf.c **** //		}
1011:../../../src/radio/cc2420/source/basic_rf.c **** 
1012:../../../src/radio/cc2420/source/basic_rf.c ****         }
1013:../../../src/radio/cc2420/source/basic_rf.c **** 
1014:../../../src/radio/cc2420/source/basic_rf.c **** 
1015:../../../src/radio/cc2420/source/basic_rf.c ****     }
1016:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1017:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1018:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1019:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
 4398               	.LM774:
 4399 0f78 80E0      		ldi r24,lo8(0)
 4400               	.L407:
 4401               	/* epilogue start */
1020:../../../src/radio/cc2420/source/basic_rf.c **** }
 4403               	.LM775:
 4404 0f7a 0F90      		pop __tmp_reg__
 4405 0f7c 0F90      		pop __tmp_reg__
 4406 0f7e 0F90      		pop __tmp_reg__
 4407 0f80 0F90      		pop __tmp_reg__
 4408 0f82 CF91      		pop r28
 4409 0f84 DF91      		pop r29
 4410 0f86 0895      		ret
 4424               	.Lscope28:
 4426               		.stabd	78,0,0
 4428               	.global	rf_rx_packet
 4430               	rf_rx_packet:
 4431               		.stabd	46,0,0
1021:../../../src/radio/cc2420/source/basic_rf.c **** 
1022:../../../src/radio/cc2420/source/basic_rf.c **** int8_t rf_rx_packet()
1023:../../../src/radio/cc2420/source/basic_rf.c **** {
 4433               	.LM776:
 4434               	.LFBB29:
 4435               	/* prologue: function */
 4436               	/* frame size = 0 */
 4437               	/* stack size = 0 */
 4438               	.L__stack_usage = 0
1024:../../../src/radio/cc2420/source/basic_rf.c ****     int8_t tmp;
1025:../../../src/radio/cc2420/source/basic_rf.c ****     if(rx_ready>0)
 4440               	.LM777:
 4441 0f88 8091 0000 		lds r24,rx_ready
 4442 0f8c 8823      		tst r24
 4443 0f8e 01F0      		breq .L537
1026:../../../src/radio/cc2420/source/basic_rf.c ****     {
1027:../../../src/radio/cc2420/source/basic_rf.c ****         tmp=rx_ready;
 4445               	.LM778:
 4446 0f90 8091 0000 		lds r24,rx_ready
1028:../../../src/radio/cc2420/source/basic_rf.c ****         rx_ready=0;
 4448               	.LM779:
 4449 0f94 1092 0000 		sts rx_ready,__zero_reg__
1029:../../../src/radio/cc2420/source/basic_rf.c ****         return tmp;
 4451               	.LM780:
 4452 0f98 0895      		ret
 4453               	.L537:
1030:../../../src/radio/cc2420/source/basic_rf.c ****     }
1031:../../../src/radio/cc2420/source/basic_rf.c ****     return 0;
 4455               	.LM781:
 4456 0f9a 80E0      		ldi r24,lo8(0)
1032:../../../src/radio/cc2420/source/basic_rf.c **** }
 4458               	.LM782:
 4459 0f9c 0895      		ret
 4464               	.Lscope29:
 4466               		.stabd	78,0,0
 4468               	.global	rf_flush_rx_fifo
 4470               	rf_flush_rx_fifo:
 4471               		.stabd	46,0,0
1033:../../../src/radio/cc2420/source/basic_rf.c **** 
1034:../../../src/radio/cc2420/source/basic_rf.c **** 
1035:../../../src/radio/cc2420/source/basic_rf.c **** inline void rf_flush_rx_fifo()
1036:../../../src/radio/cc2420/source/basic_rf.c **** {
 4473               	.LM783:
 4474               	.LFBB30:
 4475               	/* prologue: function */
 4476               	/* frame size = 0 */
 4477               	/* stack size = 0 */
 4478               	.L__stack_usage = 0
1037:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 4480               	.LM784:
 4481 0f9e C098      		cbi 56-32,0
 4482 0fa0 88E0      		ldi r24,lo8(8)
 4483 0fa2 8FB9      		out 47-32,r24
 4484               	.L539:
 4486               	.LM785:
 4487 0fa4 779B      		sbis 46-32,7
 4488 0fa6 00C0      		rjmp .L539
 4490               	.LM786:
 4491 0fa8 C09A      		sbi 56-32,0
1038:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SFLUSHRX);
 4493               	.LM787:
 4494 0faa C098      		cbi 56-32,0
 4495 0fac 88E0      		ldi r24,lo8(8)
 4496 0fae 8FB9      		out 47-32,r24
 4497               	.L540:
 4499               	.LM788:
 4500 0fb0 779B      		sbis 46-32,7
 4501 0fb2 00C0      		rjmp .L540
 4503               	.LM789:
 4504 0fb4 C09A      		sbi 56-32,0
 4505               	/* epilogue start */
1039:../../../src/radio/cc2420/source/basic_rf.c **** }
 4507               	.LM790:
 4508 0fb6 0895      		ret
 4510               	.Lscope30:
 4512               		.stabd	78,0,0
 4515               	.global	rf_set_cca_thresh
 4517               	rf_set_cca_thresh:
 4518               		.stabd	46,0,0
1040:../../../src/radio/cc2420/source/basic_rf.c **** 
1041:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_thresh(int8_t t)
1042:../../../src/radio/cc2420/source/basic_rf.c **** {
 4520               	.LM791:
 4521               	.LFBB31:
 4522               	/* prologue: function */
 4523               	/* frame size = 0 */
 4524               	/* stack size = 0 */
 4525               	.L__stack_usage = 0
1043:../../../src/radio/cc2420/source/basic_rf.c **** // default is -32
1044:../../../src/radio/cc2420/source/basic_rf.c **** // Higher number is less sensitive
1045:../../../src/radio/cc2420/source/basic_rf.c ****     uint16_t val;
1046:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1047:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1048:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1049:../../../src/radio/cc2420/source/basic_rf.c **** 
1050:../../../src/radio/cc2420/source/basic_rf.c ****     val=(t<<8) | 0x80;
 4527               	.LM792:
 4528 0fb8 9927      		clr r25
 4529 0fba 87FD      		sbrc r24,7
 4530 0fbc 9095      		com r25
 4531 0fbe 982F      		mov r25,r24
 4532 0fc0 8827      		clr r24
 4533 0fc2 8068      		ori r24,lo8(128)
1051:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_RSSI, val);
 4535               	.LM793:
 4536 0fc4 C098      		cbi 56-32,0
 4537 0fc6 23E1      		ldi r18,lo8(19)
 4538 0fc8 2FB9      		out 47-32,r18
 4539               	.L544:
 4541               	.LM794:
 4542 0fca 779B      		sbis 46-32,7
 4543 0fcc 00C0      		rjmp .L544
 4545               	.LM795:
 4546 0fce 9FB9      		out 47-32,r25
 4547               	.L545:
 4549               	.LM796:
 4550 0fd0 779B      		sbis 46-32,7
 4551 0fd2 00C0      		rjmp .L545
 4553               	.LM797:
 4554 0fd4 8FB9      		out 47-32,r24
 4555               	.L546:
 4557               	.LM798:
 4558 0fd6 779B      		sbis 46-32,7
 4559 0fd8 00C0      		rjmp .L546
 4561               	.LM799:
 4562 0fda C09A      		sbi 56-32,0
 4563               	/* epilogue start */
1052:../../../src/radio/cc2420/source/basic_rf.c **** 
1053:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1054:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1055:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1056:../../../src/radio/cc2420/source/basic_rf.c **** }
 4565               	.LM800:
 4566 0fdc 0895      		ret
 4571               	.Lscope31:
 4573               		.stabd	78,0,0
 4575               	.global	rf_test_mode
 4577               	rf_test_mode:
 4578               		.stabd	46,0,0
1057:../../../src/radio/cc2420/source/basic_rf.c **** 
1058:../../../src/radio/cc2420/source/basic_rf.c **** void rf_test_mode()
1059:../../../src/radio/cc2420/source/basic_rf.c **** {
 4580               	.LM801:
 4581               	.LFBB32:
 4582               	/* prologue: function */
 4583               	/* frame size = 0 */
 4584               	/* stack size = 0 */
 4585               	.L__stack_usage = 0
1060:../../../src/radio/cc2420/source/basic_rf.c **** 
1061:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1062:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1063:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1064:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 4587               	.LM802:
 4588 0fde C098      		cbi 56-32,0
 4589 0fe0 86E0      		ldi r24,lo8(6)
 4590 0fe2 8FB9      		out 47-32,r24
 4591               	.L551:
 4593               	.LM803:
 4594 0fe4 779B      		sbis 46-32,7
 4595 0fe6 00C0      		rjmp .L551
 4597               	.LM804:
 4598 0fe8 C09A      		sbi 56-32,0
1065:../../../src/radio/cc2420/source/basic_rf.c ****     // NOTE ON SETTING CC2420_MDMCTRL1
1066:../../../src/radio/cc2420/source/basic_rf.c ****     //
1067:../../../src/radio/cc2420/source/basic_rf.c ****     // RF studio" uses TX_MODE=3 (CC2420_MDMCTRL1=0x050C)
1068:../../../src/radio/cc2420/source/basic_rf.c ****     // to send an unmodulated carrier; data sheet says TX_MODE
1069:../../../src/radio/cc2420/source/basic_rf.c ****     // can be 2 or 3. So it should not matter...
1070:../../../src/radio/cc2420/source/basic_rf.c ****     // HOWEVER, using (TX_MODE=3) sometimes causes problems when
1071:../../../src/radio/cc2420/source/basic_rf.c ****     // going back to "data" mode!
1072:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0508); // MDMCTRL1 with TX_MODE=2
 4600               	.LM805:
 4601 0fea C098      		cbi 56-32,0
 4602 0fec 82E1      		ldi r24,lo8(18)
 4603 0fee 8FB9      		out 47-32,r24
 4604               	.L552:
 4606               	.LM806:
 4607 0ff0 779B      		sbis 46-32,7
 4608 0ff2 00C0      		rjmp .L552
 4610               	.LM807:
 4611 0ff4 85E0      		ldi r24,lo8(5)
 4612 0ff6 8FB9      		out 47-32,r24
 4613               	.L553:
 4615               	.LM808:
 4616 0ff8 779B      		sbis 46-32,7
 4617 0ffa 00C0      		rjmp .L553
 4619               	.LM809:
 4620 0ffc 88E0      		ldi r24,lo8(8)
 4621 0ffe 8FB9      		out 47-32,r24
 4622               	.L554:
 4624               	.LM810:
 4625 1000 779B      		sbis 46-32,7
 4626 1002 00C0      		rjmp .L554
 4628               	.LM811:
 4629 1004 C09A      		sbi 56-32,0
1073:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0x1800); // send unmodulated carrier
 4631               	.LM812:
 4632 1006 C098      		cbi 56-32,0
 4633 1008 8EE2      		ldi r24,lo8(46)
 4634 100a 8FB9      		out 47-32,r24
 4635               	.L555:
 4637               	.LM813:
 4638 100c 779B      		sbis 46-32,7
 4639 100e 00C0      		rjmp .L555
 4641               	.LM814:
 4642 1010 88E1      		ldi r24,lo8(24)
 4643 1012 8FB9      		out 47-32,r24
 4644               	.L556:
 4646               	.LM815:
 4647 1014 779B      		sbis 46-32,7
 4648 1016 00C0      		rjmp .L556
 4650               	.LM816:
 4651 1018 1FB8      		out 47-32,__zero_reg__
 4652               	.L557:
 4654               	.LM817:
 4655 101a 779B      		sbis 46-32,7
 4656 101c 00C0      		rjmp .L557
 4658               	.LM818:
 4659 101e C09A      		sbi 56-32,0
1074:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4661               	.LM819:
 4662 1020 0E94 0000 		call rf_flush_rx_fifo
 4663               	/* epilogue start */
1075:../../../src/radio/cc2420/source/basic_rf.c **** 
1076:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1077:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1078:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1079:../../../src/radio/cc2420/source/basic_rf.c **** }
 4665               	.LM820:
 4666 1024 0895      		ret
 4668               	.Lscope32:
 4670               		.stabd	78,0,0
 4672               	.global	rf_data_mode
 4674               	rf_data_mode:
 4675               		.stabd	46,0,0
1080:../../../src/radio/cc2420/source/basic_rf.c **** 
1081:../../../src/radio/cc2420/source/basic_rf.c **** 
1082:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1083:../../../src/radio/cc2420/source/basic_rf.c ****  * set the radio into "normal" mode (buffered TXFIFO) and go into (data) receive */
1084:../../../src/radio/cc2420/source/basic_rf.c **** void rf_data_mode()
1085:../../../src/radio/cc2420/source/basic_rf.c **** {
 4677               	.LM821:
 4678               	.LFBB33:
 4679               	/* prologue: function */
 4680               	/* frame size = 0 */
 4681               	/* stack size = 0 */
 4682               	.L__stack_usage = 0
1086:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1087:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1088:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1089:../../../src/radio/cc2420/source/basic_rf.c **** 
1090:../../../src/radio/cc2420/source/basic_rf.c **** 
1091:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); //stop radio
 4684               	.LM822:
 4685 1026 C098      		cbi 56-32,0
 4686 1028 86E0      		ldi r24,lo8(6)
 4687 102a 8FB9      		out 47-32,r24
 4688               	.L566:
 4690               	.LM823:
 4691 102c 779B      		sbis 46-32,7
 4692 102e 00C0      		rjmp .L566
 4694               	.LM824:
 4695 1030 C09A      		sbi 56-32,0
1092:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0500); // default MDMCTRL1 value
 4697               	.LM825:
 4698 1032 C098      		cbi 56-32,0
 4699 1034 82E1      		ldi r24,lo8(18)
 4700 1036 8FB9      		out 47-32,r24
 4701               	.L567:
 4703               	.LM826:
 4704 1038 779B      		sbis 46-32,7
 4705 103a 00C0      		rjmp .L567
 4707               	.LM827:
 4708 103c 85E0      		ldi r24,lo8(5)
 4709 103e 8FB9      		out 47-32,r24
 4710               	.L568:
 4712               	.LM828:
 4713 1040 779B      		sbis 46-32,7
 4714 1042 00C0      		rjmp .L568
 4716               	.LM829:
 4717 1044 1FB8      		out 47-32,__zero_reg__
 4718               	.L569:
 4720               	.LM830:
 4721 1046 779B      		sbis 46-32,7
 4722 1048 00C0      		rjmp .L569
 4724               	.LM831:
 4725 104a C09A      		sbi 56-32,0
1093:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_DACTST, 0); // default value
 4727               	.LM832:
 4728 104c C098      		cbi 56-32,0
 4729 104e 8EE2      		ldi r24,lo8(46)
 4730 1050 8FB9      		out 47-32,r24
 4731               	.L570:
 4733               	.LM833:
 4734 1052 779B      		sbis 46-32,7
 4735 1054 00C0      		rjmp .L570
 4737               	.LM834:
 4738 1056 1FB8      		out 47-32,__zero_reg__
 4739               	.L571:
 4741               	.LM835:
 4742 1058 779B      		sbis 46-32,7
 4743 105a 00C0      		rjmp .L571
 4745               	.LM836:
 4746 105c 1FB8      		out 47-32,__zero_reg__
 4747               	.L572:
 4749               	.LM837:
 4750 105e 779B      		sbis 46-32,7
 4751 1060 00C0      		rjmp .L572
 4753               	.LM838:
 4754 1062 C09A      		sbi 56-32,0
1094:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4756               	.LM839:
 4757 1064 0E94 0000 		call rf_flush_rx_fifo
 4758               	/* epilogue start */
1095:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1096:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1097:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1098:../../../src/radio/cc2420/source/basic_rf.c **** }
 4760               	.LM840:
 4761 1068 0895      		ret
 4763               	.Lscope33:
 4765               		.stabd	78,0,0
 4767               	.global	rf_rx_set_serial
 4769               	rf_rx_set_serial:
 4770               		.stabd	46,0,0
1099:../../../src/radio/cc2420/source/basic_rf.c **** 
1100:../../../src/radio/cc2420/source/basic_rf.c **** 
1101:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1102:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the radio into serial unbuffered RX mode
1103:../../../src/radio/cc2420/source/basic_rf.c ****  * RX data is received through sampling the FIFO pin, timing is done using FIFOP
1104:../../../src/radio/cc2420/source/basic_rf.c ****  * Use rf_rx_on() to start rcv, then wait for SFD / FIFOP. Sample during each high edge of FIFOP
1105:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by using rf_data_mode()
1106:../../../src/radio/cc2420/source/basic_rf.c ****  */
1107:../../../src/radio/cc2420/source/basic_rf.c **** void rf_rx_set_serial()
1108:../../../src/radio/cc2420/source/basic_rf.c **** {
 4772               	.LM841:
 4773               	.LFBB34:
 4774               	/* prologue: function */
 4775               	/* frame size = 0 */
 4776               	/* stack size = 0 */
 4777               	.L__stack_usage = 0
1109:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF);           // stop radio
 4779               	.LM842:
 4780 106a C098      		cbi 56-32,0
 4781 106c 86E0      		ldi r24,lo8(6)
 4782 106e 8FB9      		out 47-32,r24
 4783               	.L581:
 4785               	.LM843:
 4786 1070 779B      		sbis 46-32,7
 4787 1072 00C0      		rjmp .L581
 4789               	.LM844:
 4790 1074 C09A      		sbi 56-32,0
1110:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0501); // Set RX_MODE to 1
 4792               	.LM845:
 4793 1076 C098      		cbi 56-32,0
 4794 1078 82E1      		ldi r24,lo8(18)
 4795 107a 8FB9      		out 47-32,r24
 4796               	.L582:
 4798               	.LM846:
 4799 107c 779B      		sbis 46-32,7
 4800 107e 00C0      		rjmp .L582
 4802               	.LM847:
 4803 1080 85E0      		ldi r24,lo8(5)
 4804 1082 8FB9      		out 47-32,r24
 4805               	.L583:
 4807               	.LM848:
 4808 1084 779B      		sbis 46-32,7
 4809 1086 00C0      		rjmp .L583
 4811               	.LM849:
 4812 1088 81E0      		ldi r24,lo8(1)
 4813 108a 8FB9      		out 47-32,r24
 4814               	.L584:
 4816               	.LM850:
 4817 108c 779B      		sbis 46-32,7
 4818 108e 00C0      		rjmp .L584
 4820               	.LM851:
 4821 1090 C09A      		sbi 56-32,0
1111:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4823               	.LM852:
 4824 1092 0E94 0000 		call rf_flush_rx_fifo
 4825               	/* epilogue start */
1112:../../../src/radio/cc2420/source/basic_rf.c **** }
 4827               	.LM853:
 4828 1096 0895      		ret
 4830               	.Lscope34:
 4832               		.stabd	78,0,0
 4834               	.global	rf_tx_set_serial
 4836               	rf_tx_set_serial:
 4837               		.stabd	46,0,0
1113:../../../src/radio/cc2420/source/basic_rf.c **** 
1114:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1115:../../../src/radio/cc2420/source/basic_rf.c ****  * Put the radio in serial TX mode, where data is sampled from the FIFO
1116:../../../src/radio/cc2420/source/basic_rf.c ****  * pin to send after SFD, and timing is done using FIFOP
1117:../../../src/radio/cc2420/source/basic_rf.c ****  * use rf_carrier_on() to start, set FIFO to first bit, then wait for it
1118:../../../src/radio/cc2420/source/basic_rf.c ****  * to go up and down, then set next bit etc.
1119:../../../src/radio/cc2420/source/basic_rf.c ****  * NOTE: You must set the FIFO pin to output mode in order to do this!
1120:../../../src/radio/cc2420/source/basic_rf.c ****  * This can be undone by calling rf_data_mode()
1121:../../../src/radio/cc2420/source/basic_rf.c ****  */
1122:../../../src/radio/cc2420/source/basic_rf.c **** void rf_tx_set_serial()
1123:../../../src/radio/cc2420/source/basic_rf.c **** {
 4839               	.LM854:
 4840               	.LFBB35:
 4841               	/* prologue: function */
 4842               	/* frame size = 0 */
 4843               	/* stack size = 0 */
 4844               	.L__stack_usage = 0
1124:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL1, 0x0504); // set TXMODE to 1
 4846               	.LM855:
 4847 1098 C098      		cbi 56-32,0
 4848 109a 82E1      		ldi r24,lo8(18)
 4849 109c 8FB9      		out 47-32,r24
 4850               	.L590:
 4852               	.LM856:
 4853 109e 779B      		sbis 46-32,7
 4854 10a0 00C0      		rjmp .L590
 4856               	.LM857:
 4857 10a2 85E0      		ldi r24,lo8(5)
 4858 10a4 8FB9      		out 47-32,r24
 4859               	.L591:
 4861               	.LM858:
 4862 10a6 779B      		sbis 46-32,7
 4863 10a8 00C0      		rjmp .L591
 4865               	.LM859:
 4866 10aa 84E0      		ldi r24,lo8(4)
 4867 10ac 8FB9      		out 47-32,r24
 4868               	.L592:
 4870               	.LM860:
 4871 10ae 779B      		sbis 46-32,7
 4872 10b0 00C0      		rjmp .L592
 4874               	.LM861:
 4875 10b2 C09A      		sbi 56-32,0
1125:../../../src/radio/cc2420/source/basic_rf.c ****     rf_flush_rx_fifo();
 4877               	.LM862:
 4878 10b4 0E94 0000 		call rf_flush_rx_fifo
 4879               	/* epilogue start */
1126:../../../src/radio/cc2420/source/basic_rf.c **** }
 4881               	.LM863:
 4882 10b8 0895      		ret
 4884               	.Lscope35:
 4886               		.stabd	78,0,0
 4889               	.global	rf_set_preamble_length
 4891               	rf_set_preamble_length:
 4892               		.stabd	46,0,0
1127:../../../src/radio/cc2420/source/basic_rf.c **** 
1128:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1129:../../../src/radio/cc2420/source/basic_rf.c ****  * Specifies the number of symbols to be part of preamble
1130:../../../src/radio/cc2420/source/basic_rf.c ****  * arg is equal to number of bytes - 1.
1131:../../../src/radio/cc2420/source/basic_rf.c ****  * (3 bytes is 802.15.4 compliant, so length arg would be 2)
1132:../../../src/radio/cc2420/source/basic_rf.c ****  * Length arg supports values 0 to 15. See the datasheet of course for more details
1133:../../../src/radio/cc2420/source/basic_rf.c ****  */
1134:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_preamble_length(uint8_t length)
1135:../../../src/radio/cc2420/source/basic_rf.c **** {
 4894               	.LM864:
 4895               	.LFBB36:
 4896               	/* prologue: function */
 4897               	/* frame size = 0 */
 4898               	/* stack size = 0 */
 4899               	.L__stack_usage = 0
1136:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);
1137:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= (length & 0x000F);
 4901               	.LM865:
 4902 10ba 90E0      		ldi r25,lo8(0)
 4903 10bc 8F70      		andi r24,lo8(15)
 4904 10be 9070      		andi r25,hi8(15)
1136:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFFF0);
 4906               	.LM866:
 4907 10c0 2091 0000 		lds r18,mdmctrl0
 4908 10c4 3091 0000 		lds r19,mdmctrl0+1
 4909 10c8 207F      		andi r18,lo8(-16)
 4911               	.LM867:
 4912 10ca 822B      		or r24,r18
 4913 10cc 932B      		or r25,r19
 4914 10ce 9093 0000 		sts mdmctrl0+1,r25
 4915 10d2 8093 0000 		sts mdmctrl0,r24
1138:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 4917               	.LM868:
 4918 10d6 C098      		cbi 56-32,0
 4919 10d8 81E1      		ldi r24,lo8(17)
 4920 10da 8FB9      		out 47-32,r24
 4921               	.L597:
 4923               	.LM869:
 4924 10dc 779B      		sbis 46-32,7
 4925 10de 00C0      		rjmp .L597
 4927               	.LM870:
 4928 10e0 8091 0000 		lds r24,mdmctrl0+1
 4929 10e4 8FB9      		out 47-32,r24
 4930               	.L598:
 4932               	.LM871:
 4933 10e6 779B      		sbis 46-32,7
 4934 10e8 00C0      		rjmp .L598
 4936               	.LM872:
 4937 10ea 8091 0000 		lds r24,mdmctrl0
 4938 10ee 8FB9      		out 47-32,r24
 4939               	.L599:
 4941               	.LM873:
 4942 10f0 779B      		sbis 46-32,7
 4943 10f2 00C0      		rjmp .L599
 4945               	.LM874:
 4946 10f4 C09A      		sbi 56-32,0
 4947               	/* epilogue start */
1139:../../../src/radio/cc2420/source/basic_rf.c **** }
 4949               	.LM875:
 4950 10f6 0895      		ret
 4952               	.Lscope36:
 4954               		.stabd	78,0,0
 4957               	.global	rf_set_cca_mode
 4959               	rf_set_cca_mode:
 4960               		.stabd	46,0,0
1140:../../../src/radio/cc2420/source/basic_rf.c **** 
1141:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1142:../../../src/radio/cc2420/source/basic_rf.c ****  * Set the CCA mode
1143:../../../src/radio/cc2420/source/basic_rf.c ****  * Accept 1-3 as argument
1144:../../../src/radio/cc2420/source/basic_rf.c ****  */
1145:../../../src/radio/cc2420/source/basic_rf.c **** void rf_set_cca_mode(uint8_t mode)
1146:../../../src/radio/cc2420/source/basic_rf.c **** {
 4962               	.LM876:
 4963               	.LFBB37:
 4964               	/* prologue: function */
 4965               	/* frame size = 0 */
 4966               	/* stack size = 0 */
 4967               	.L__stack_usage = 0
1147:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
1148:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 |= ((mode & 0x3) << 6);
 4969               	.LM877:
 4970 10f8 90E0      		ldi r25,lo8(0)
 4971 10fa 26E0      		ldi r18,6
 4972 10fc 880F      	1:	lsl r24
 4973 10fe 991F      		rol r25
 4974 1100 2A95      		dec r18
 4975 1102 01F4      		brne 1b
 4976 1104 9070      		andi r25,hi8(255)
1147:../../../src/radio/cc2420/source/basic_rf.c ****     mdmctrl0 &= (0xFF3F);
 4978               	.LM878:
 4979 1106 2091 0000 		lds r18,mdmctrl0
 4980 110a 3091 0000 		lds r19,mdmctrl0+1
 4981 110e 2F73      		andi r18,lo8(-193)
 4983               	.LM879:
 4984 1110 822B      		or r24,r18
 4985 1112 932B      		or r25,r19
 4986 1114 9093 0000 		sts mdmctrl0+1,r25
 4987 1118 8093 0000 		sts mdmctrl0,r24
1149:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_SETREG(CC2420_MDMCTRL0, mdmctrl0);
 4989               	.LM880:
 4990 111c C098      		cbi 56-32,0
 4991 111e 81E1      		ldi r24,lo8(17)
 4992 1120 8FB9      		out 47-32,r24
 4993               	.L604:
 4995               	.LM881:
 4996 1122 779B      		sbis 46-32,7
 4997 1124 00C0      		rjmp .L604
 4999               	.LM882:
 5000 1126 8091 0000 		lds r24,mdmctrl0+1
 5001 112a 8FB9      		out 47-32,r24
 5002               	.L605:
 5004               	.LM883:
 5005 112c 779B      		sbis 46-32,7
 5006 112e 00C0      		rjmp .L605
 5008               	.LM884:
 5009 1130 8091 0000 		lds r24,mdmctrl0
 5010 1134 8FB9      		out 47-32,r24
 5011               	.L606:
 5013               	.LM885:
 5014 1136 779B      		sbis 46-32,7
 5015 1138 00C0      		rjmp .L606
 5017               	.LM886:
 5018 113a C09A      		sbi 56-32,0
 5019               	/* epilogue start */
1150:../../../src/radio/cc2420/source/basic_rf.c **** }
 5021               	.LM887:
 5022 113c 0895      		ret
 5024               	.Lscope37:
 5026               		.stabd	78,0,0
 5028               	.global	rf_carrier_on
 5030               	rf_carrier_on:
 5031               		.stabd	46,0,0
1151:../../../src/radio/cc2420/source/basic_rf.c **** 
1152:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1153:../../../src/radio/cc2420/source/basic_rf.c ****  * start sending a carrier pulse
1154:../../../src/radio/cc2420/source/basic_rf.c ****  * assumes wdrf_radio_test_mode() was called before doing this
1155:../../../src/radio/cc2420/source/basic_rf.c ****  */
1156:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_on()
1157:../../../src/radio/cc2420/source/basic_rf.c **** {
 5033               	.LM888:
 5034               	.LFBB38:
 5035               	/* prologue: function */
 5036               	/* frame size = 0 */
 5037               	/* stack size = 0 */
 5038               	.L__stack_usage = 0
1158:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1159:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1160:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1161:../../../src/radio/cc2420/source/basic_rf.c **** 
1162:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1163:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCON);
1164:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_spin_wait_us(OSC_STARTUP_DELAY);
1165:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1166:../../../src/radio/cc2420/source/basic_rf.c **** 
1167:../../../src/radio/cc2420/source/basic_rf.c **** 
1168:../../../src/radio/cc2420/source/basic_rf.c **** 
1169:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_STXON); // tell radio to start sending
 5040               	.LM889:
 5041 113e C098      		cbi 56-32,0
 5042 1140 84E0      		ldi r24,lo8(4)
 5043 1142 8FB9      		out 47-32,r24
 5044               	.L611:
 5046               	.LM890:
 5047 1144 779B      		sbis 46-32,7
 5048 1146 00C0      		rjmp .L611
 5050               	.LM891:
 5051 1148 C09A      		sbi 56-32,0
 5052               	/* epilogue start */
1170:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1171:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1172:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1173:../../../src/radio/cc2420/source/basic_rf.c **** }
 5054               	.LM892:
 5055 114a 0895      		ret
 5057               	.Lscope38:
 5059               		.stabd	78,0,0
 5061               	.global	rf_carrier_off
 5063               	rf_carrier_off:
 5064               		.stabd	46,0,0
1174:../../../src/radio/cc2420/source/basic_rf.c **** 
1175:../../../src/radio/cc2420/source/basic_rf.c **** /**********************************************************
1176:../../../src/radio/cc2420/source/basic_rf.c ****  * stop sending a carrier pulse; set the radio to idle state
1177:../../../src/radio/cc2420/source/basic_rf.c ****  */
1178:../../../src/radio/cc2420/source/basic_rf.c **** void rf_carrier_off()
1179:../../../src/radio/cc2420/source/basic_rf.c **** {
 5066               	.LM893:
 5067               	.LFBB39:
 5068               	/* prologue: function */
 5069               	/* frame size = 0 */
 5070               	/* stack size = 0 */
 5071               	.L__stack_usage = 0
1180:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1181:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_pend(radio_sem);
1182:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1183:../../../src/radio/cc2420/source/basic_rf.c **** 
1184:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef CC2420_OSC_OPT
1185:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SXOSCOFF);
1186:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1187:../../../src/radio/cc2420/source/basic_rf.c **** 
1188:../../../src/radio/cc2420/source/basic_rf.c **** 
1189:../../../src/radio/cc2420/source/basic_rf.c ****     FASTSPI_STROBE(CC2420_SRFOFF); // stop radio
 5073               	.LM894:
 5074 114c C098      		cbi 56-32,0
 5075 114e 86E0      		ldi r24,lo8(6)
 5076 1150 8FB9      		out 47-32,r24
 5077               	.L614:
 5079               	.LM895:
 5080 1152 779B      		sbis 46-32,7
 5081 1154 00C0      		rjmp .L614
 5083               	.LM896:
 5084 1156 C09A      		sbi 56-32,0
 5085               	/* epilogue start */
1190:../../../src/radio/cc2420/source/basic_rf.c **** #ifdef RADIO_PRIORITY_CEILING
1191:../../../src/radio/cc2420/source/basic_rf.c ****     nrk_sem_post(radio_sem);
1192:../../../src/radio/cc2420/source/basic_rf.c **** #endif
1193:../../../src/radio/cc2420/source/basic_rf.c **** }
 5087               	.LM897:
 5088 1158 0895      		ret
 5090               	.Lscope39:
 5092               		.stabd	78,0,0
 5093               		.comm _nrk_signal_list,4,1
 5094               		.comm rfSettings,9,1
 5095               		.comm nrk_idle_task_stk,128,1
 5096               		.comm nrk_kernel_stk_ptr,2,1
 5097               		.comm error_task,1,1
 5098               		.comm error_num,1,1
 5099               		.comm _nrk_prev_timer_val,1,1
 5100               		.comm _nrk_time_trigger,1,1
 5101               		.comm app_timer0_callback,2,1
 5102               		.comm app_timer0_prescale,1,1
 5103               		.comm radio_sem,2,1
 5104               		.comm auto_ack_enable,1,1
 5105               		.comm security_enable,1,1
 5106               		.comm last_pkt_encrypted,1,1
 5107               		.comm mdmctrl0,2,1
 5108               		.comm tx_ctr,4,1
 5109               		.comm rx_ctr,4,1
 5110               		.comm rx_ready,1,1
 5111               		.comm tmp_blah,2,1
 5132               	.Letext0:
 5133               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:00000000 basic_rf.c
     /tmp/ccEIYvpU.s:2      *ABS*:0000003f __SREG__
     /tmp/ccEIYvpU.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccEIYvpU.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccEIYvpU.s:5      *ABS*:00000034 __CCP__
     /tmp/ccEIYvpU.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccEIYvpU.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccEIYvpU.s:138    .text:00000000 cc259x_rx
     /tmp/ccEIYvpU.s:166    .text:00000012 cc259x_tx
     /tmp/ccEIYvpU.s:194    .text:00000024 rf_power_down
     /tmp/ccEIYvpU.s:256    .text:00000042 rf_power_up
     /tmp/ccEIYvpU.s:310    .text:0000005c rf_security_last_pkt_status
                            *COM*:00000001 last_pkt_encrypted
     /tmp/ccEIYvpU.s:332    .text:00000062 rf_security_set_ctr_counter
                            *COM*:00000004 tx_ctr
     /tmp/ccEIYvpU.s:453    .text:000000d6 rf_security_set_key
     /tmp/ccEIYvpU.s:810    .text:0000026c rf_security_enable
                            *COM*:00000001 security_enable
     /tmp/ccEIYvpU.s:896    .text:000002ac rf_security_disable
     /tmp/ccEIYvpU.s:950    .text:000002ce rf_get_sem
                            *COM*:00000002 radio_sem
     /tmp/ccEIYvpU.s:973    .text:000002d8 rf_tx_power
     /tmp/ccEIYvpU.s:1033   .text:000002fc rf_set_channel
     /tmp/ccEIYvpU.s:1056   .text:00000302 rf_addr_decode_enable
                            *COM*:00000002 mdmctrl0
     /tmp/ccEIYvpU.s:1114   .text:00000336 rf_addr_decode_disable
     /tmp/ccEIYvpU.s:1172   .text:0000036a rf_auto_ack_enable
                            *COM*:00000001 auto_ack_enable
     /tmp/ccEIYvpU.s:1234   .text:000003a4 rf_auto_ack_disable
     /tmp/ccEIYvpU.s:1296   .text:000003dc rf_addr_decode_set_my_mac
                            *COM*:00000009 rfSettings
     /tmp/ccEIYvpU.s:1388   .text:00000436 rf_set_rx
     /tmp/ccEIYvpU.s:1451   .text:00000468 rf_init
     /tmp/ccEIYvpU.s:1806   .text:000005d6 rf_rx_on
                            *COM*:00000001 rx_ready
     /tmp/ccEIYvpU.s:1859   .text:000005fa rf_polling_rx_on
     /tmp/ccEIYvpU.s:1912   .text:0000061e rf_rx_off
     /tmp/ccEIYvpU.s:1954   .text:00000634 rf_tx_tdma_packet
     /tmp/ccEIYvpU.s:2659   .text:000008e0 rf_tx_packet
     /tmp/ccEIYvpU.s:3440   .text:00000bc2 rf_busy
     /tmp/ccEIYvpU.s:3465   .text:00000bca rf_rx_check_fifop
     /tmp/ccEIYvpU.s:3490   .text:00000bd2 rf_rx_check_sfd
     /tmp/ccEIYvpU.s:3515   .text:00000bda rf_polling_rx_packet
                            *COM*:00000004 rx_ctr
     /tmp/ccEIYvpU.s:4430   .text:00000f88 rf_rx_packet
     /tmp/ccEIYvpU.s:4470   .text:00000f9e rf_flush_rx_fifo
     /tmp/ccEIYvpU.s:4517   .text:00000fb8 rf_set_cca_thresh
     /tmp/ccEIYvpU.s:4577   .text:00000fde rf_test_mode
     /tmp/ccEIYvpU.s:4674   .text:00001026 rf_data_mode
     /tmp/ccEIYvpU.s:4769   .text:0000106a rf_rx_set_serial
     /tmp/ccEIYvpU.s:4836   .text:00001098 rf_tx_set_serial
     /tmp/ccEIYvpU.s:4891   .text:000010ba rf_set_preamble_length
     /tmp/ccEIYvpU.s:4959   .text:000010f8 rf_set_cca_mode
     /tmp/ccEIYvpU.s:5030   .text:0000113e rf_carrier_on
     /tmp/ccEIYvpU.s:5063   .text:0000114c rf_carrier_off
                            *COM*:00000004 _nrk_signal_list
                            *COM*:00000080 nrk_idle_task_stk
                            *COM*:00000002 nrk_kernel_stk_ptr
                            *COM*:00000001 error_task
                            *COM*:00000001 error_num
                            *COM*:00000001 _nrk_prev_timer_val
                            *COM*:00000001 _nrk_time_trigger
                            *COM*:00000002 app_timer0_callback
                            *COM*:00000001 app_timer0_prescale
                            *COM*:00000002 tmp_blah

UNDEFINED SYMBOLS
NRK_DEBUG_1
nrk_gpio_set
NRK_DEBUG_0
nrk_gpio_clr
nrk_spin_wait_us
halRfSetChannel
halWait
halRfWaitForCrystalOscillator
_nrk_os_timer_get
nrk_high_speed_timer_wait
nrk_sem_post
__do_clear_bss
